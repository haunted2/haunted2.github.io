(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{896:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,8173,23)),Promise.resolve().then(i.t.bind(i,6330,23)),Promise.resolve().then(i.t.bind(i,9394,23)),Promise.resolve().then(i.bind(i,82)),Promise.resolve().then(i.bind(i,7162)),Promise.resolve().then(i.bind(i,358))},1803:(e,t,i)=>{"use strict";var n,r=i(2818),s=i(5714).Buffer;n=function(){let e,t,i,n,a,o;!function(){let e={NODE_ENV:"production"};try{if(r)return r.env=Object.assign({},r.env),void Object.assign(r.env,e)}catch(e){}globalThis.process={env:e}}();let l="data-focus-mouse",c="focus--mouse";class u{_bindEvents(){"undefined"!=typeof document&&(["keydown","mousedown"].forEach(e=>{document.addEventListener(e,e=>{this._usingMouse="mousedown"===e.type})}),document.addEventListener("focusin",e=>{this._usingMouse&&e.target&&(e.target.classList.add(c),e.target.setAttribute(l,!0))}),document.addEventListener("focusout",e=>{e.target&&(e.target.classList.remove(c),e.target.setAttribute(l,!1))}))}constructor(){this._usingMouse=!1,this._bindEvents()}}new u;let h=()=>{window.BOOTSTRAP_ITALIA_VERSION||(new u,window.BOOTSTRAP_ITALIA_VERSION="2.12.1")};h();let d={ck3:{}},p={rememberChoice:(e,t)=>{d.ck3[e]=t,localStorage.setItem("bs-ck3",JSON.stringify(d.ck3))},isChoiceRemembered:e=>(d.ck3=JSON.parse(localStorage.getItem("bs-ck3")||"{}"),d.ck3[e]||!1),clearAllRememberedChoices:()=>{localStorage.removeItem("bs-ck3")}},f="splide",m="data-".concat(f);function g(e){e.length=0}function y(e){return null!==e&&"object"==typeof e}function _(e){return Array.isArray(e)}function v(e){return"string"==typeof e}function b(e){return void 0===e}function T(e){return e instanceof HTMLElement}function S(e){return _(e)?e:[e]}function w(e,t){S(e).forEach(t)}function E(e,t){return e.indexOf(t)>-1}function C(e,t){return e.push(...S(t)),e}let k=Array.prototype;function x(e,t,i){return k.slice.call(e,t,i)}function I(e,t,i){e&&w(t,t=>{t&&e.classList[i?"add":"remove"](t)})}function A(e,t){I(e,v(t)?t.split(" "):t,!0)}function L(e,t){w(t,e.appendChild.bind(e))}function O(e,t){w(e,e=>{let i=t.parentNode;i&&i.insertBefore(e,t)})}function P(e,t){return T(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function D(e,t){return e?x(e.children).filter(e=>P(e,t)):[]}function N(e,t){return t?D(e,t)[0]:e.firstElementChild}function M(e,t,i){if(e){let n=Object.keys(e);n=i?n.reverse():n;for(let i=0;i<n.length;i++){let r=n[i];if("__proto__"!==r&&!1===t(e[r],r))break}}return e}function R(e){return x(arguments,1).forEach(t=>{M(t,(i,n)=>{e[n]=t[n]})}),e}function F(e,t){return M(t,(t,i)=>{_(t)?e[i]=t.slice():y(t)?e[i]=F(y(e[i])?e[i]:{},t):e[i]=t}),e}function B(e,t){e&&w(t,t=>{e.removeAttribute(t)})}function U(e,t,i){y(t)?M(t,(t,i)=>{U(e,i,t)}):null===i?B(e,t):e.setAttribute(t,String(i))}function j(e,t,i){let n=document.createElement(e);return t&&(v(t)?A(n,t):U(n,t)),i&&L(i,n),n}function q(e,t,i){if(b(i))return getComputedStyle(e)[t];if(null!==i){let{style:n}=e;i="".concat(i),n[t]!==i&&(n[t]=i)}}function H(e,t){q(e,"display",t)}function V(e,t){return e.getAttribute(t)}function z(e,t){return e&&e.classList.contains(t)}function W(e){return e.getBoundingClientRect()}function G(e){w(e,e=>{e&&e.parentNode&&e.parentNode.removeChild(e)})}function X(e){return N((new DOMParser).parseFromString(e,"text/html").body)}function K(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function Y(e,t){return e&&e.querySelector(t)}function Q(e,t){return x(e.querySelectorAll(t))}function $(e,t){I(e,t,!1)}function J(e){return v(e)?e:e?"".concat(e,"px"):""}function Z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw Error("[".concat(f,"] ").concat(t))}function ee(e){setTimeout(e)}let et=()=>{};function ei(e){return requestAnimationFrame(e)}let{min:en,max:er,floor:es,ceil:ea,abs:eo}=Math;function el(e,t,i,n){let r=en(t,i),s=er(t,i);return n?r<e&&e<s:r<=e&&e<=s}function ec(e,t,i){let n=en(t,i),r=er(t,i);return en(er(n,e),r)}function eu(e,t){return w(t,t=>{e=e.replace("%s","".concat(t))}),e}function eh(e){return e<10?"0".concat(e):"".concat(e)}let ed={},ep="mounted",ef="ready",em="move",eg="moved",ey="shifted",e_="click",ev="slide:keydown",eb="refresh",eT="updated",eS="resize",ew="resized",eE="repositioned",eC="scroll",ek="scrolled",ex="destroy",eI="navigation:mounted",eA="lazyload:loaded";function eL(e){let{event:t}=e,i={},n=[];function r(e,t,i){s(e,t,(e,t)=>{n=n.filter(n=>!!(n[0]!==e||n[1]!==t||i&&n[2]!==i)||(e.removeEventListener(t,n[2],n[3]),!1))})}function s(e,t,i){w(e,e=>{e&&t.split(" ").forEach(i.bind(null,e))})}function a(){n=n.filter(e=>r(e[0],e[1])),t.offBy(i)}return t.on(ex,a,i),{on:function(e,n,r){t.on(e,n,i,r)},off:function(e){t.off(e,i)},emit:t.emit,bind:function(e,t,i,r){s(e,t,(e,t)=>{n.push([e,t,i,r]),e.addEventListener(t,i,r)})},unbind:r,destroy:a}}function eO(e,t,i,n){let{now:r}=Date,s,a,o=0,l=!0,c=0;function u(){if(!l){let a=r()-s;if(a>=e?(o=1,s=r()):o=a/e,i&&i(o),1===o&&(t(),n&&++c>=n))return h();ei(u)}}function h(){l=!0}function d(){cancelAnimationFrame(a),o=0,a=0,l=!0}return{start:function(t){t||d(),s=r()-(t?o*e:0),l=!1,ei(u)},rewind:function(){s=r(),o=0,i&&i(o)},pause:h,cancel:d,set:function(t){e=t},isPaused:function(){return l}}}function eP(e,t){let i;return function(){i||(i=eO(0,()=>{e.apply(this,arguments),i=null},null,1),i.start())}}let eD={marginRight:["marginBottom","marginLeft"],autoWidth:["autoHeight"],fixedWidth:["fixedHeight"],paddingLeft:["paddingTop","paddingRight"],paddingRight:["paddingBottom","paddingLeft"],width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:["ArrowUp","ArrowRight"],ArrowRight:["ArrowDown","ArrowLeft"]},eN="".concat(f,"__slider"),eM="".concat(f,"__track"),eR="".concat(f,"__list"),eF="".concat(f,"__slide"),eB="".concat(eF,"--clone"),eU="".concat(eF,"__container"),ej="".concat(f,"__arrows"),eq="".concat(f,"__arrow"),eH="".concat(eq,"--prev"),eV="".concat(eq,"--next"),ez="".concat(f,"__pagination"),eW="".concat(f,"__progress"),eG="".concat(eW,"__bar"),eX="".concat(f,"__autoplay"),eK="".concat(f,"__play"),eY="".concat(f,"__pause"),eQ="is-active",e$="is-prev",eJ="is-next",eZ="is-visible",e0="is-loading",e1=[eQ,eZ,e$,eJ,e0],e2="role",e4="aria-controls",e5="aria-current",e3="aria-label",e8="aria-hidden",e6="tabindex",e7="aria-orientation",e9=[e2,e4,e5,e3,e8,e7,e6,"disabled"],te="slide",tt="loop",ti="fade",tn="".concat(m,"-interval"),tr={passive:!1,capture:!0},ts="touchmove mousemove",ta="touchend touchcancel mouseup",to=["Left","Right","Up","Down"],tl="keydown",tc="".concat(m,"-lazy"),tu="".concat(tc,"-srcset"),th="[".concat(tc,"], [").concat(tu,"]"),td=[" ","Enter","Spacebar"];var tp=Object.freeze({__proto__:null,Options:function(e,t,i){let n,r,s;let a=eP(l);function o(e){e&&removeEventListener("resize",a)}function l(){var t;let a=(t=e=>e[1].matches,x(r).filter(t)[0]||[]);a[0]!==s&&function(t){let r=i.breakpoints[t]||n;r.destroy?(e.options=n,e.destroy("completely"===r.destroy)):(e.state.is(5)&&(o(!0),e.mount()),e.options=r)}(s=a[0])}return{setup:function(){try{F(i,JSON.parse(V(e.root,m)))}catch(e){Z(!1,e.message)}n=F({},i);let{breakpoints:t}=i;if(t){let e="min"===i.mediaQuery;r=Object.keys(t).sort((t,i)=>e?+i-+t:+t-+i).map(t=>[t,matchMedia("(".concat(e?"min":"max","-width:").concat(t,"px)"))]),l()}},mount:function(){r&&addEventListener("resize",a)},destroy:o}},Direction:function(e,t,i){return{resolve:function(e,t){let{direction:n}=i;return eD[e]["rtl"!==n||t?"ttb"===n?0:-1:1]||e},orient:function(e){return e*("rtl"===i.direction?1:-1)}}},Elements:function(e,t,i){let n,r,s,a;let{on:o}=eL(e),{root:l}=e,c={},u=[];function h(){(function(){r=N(l,".".concat(eN)),a=N(s=Y(l,".".concat(eM)),".".concat(eR)),Z(s&&a,"A track/list element is missing."),C(u,D(a,".".concat(eF,":not(.").concat(eB,")")));let e=y(".".concat(eX)),t=y(".".concat(ej));R(c,{root:l,slider:r,track:s,list:a,slides:u,arrows:t,autoplay:e,prev:Y(t,".".concat(eH)),next:Y(t,".".concat(eV)),bar:Y(y(".".concat(eW)),".".concat(eG)),play:Y(e,".".concat(eK)),pause:Y(e,".".concat(eY))})})(),function(){let e=l.id||"".concat(f).concat(eh(ed[f]=(ed[f]||0)+1));l.id=e,s.id=s.id||"".concat(e,"-track"),a.id=a.id||"".concat(e,"-list")}(),A(l,n=_())}function d(){[l,s,a].forEach(e=>{B(e,"style")}),g(u),$(l,n)}function p(){d(),h()}function m(){$(l,n),A(l,n=_())}function y(e){return N(l,e)||N(r,e)}function _(){return["".concat(f,"--").concat(i.type),"".concat(f,"--").concat(i.direction),i.drag&&"".concat(f,"--draggable"),i.isNavigation&&"".concat(f,"--nav"),eQ]}return R(c,{setup:h,mount:function(){o(eb,p,8),o(eT,m)},destroy:d})},Slides:function(e,t,i){let{on:n,emit:r,bind:s}=eL(e),{slides:a,list:o}=t.Elements,l=[];function c(){a.forEach((e,t)=>{d(e,t,-1)})}function u(){f(e=>{e.destroy()}),g(l)}function h(){u(),c()}function d(t,i,n){let r=function(e,t,i,n){let r;let{on:s,emit:a,bind:o,destroy:l}=eL(e),{Components:c,root:u,options:h}=e,{isNavigation:d,updateOnMove:p}=h,{resolve:f}=c.Direction,m=V(n,"style"),g=i>-1,y=N(n,".".concat(eU)),_=h.focusableNodes&&Q(n,h.focusableNodes);function v(){let r=g?i:t,s=eu(h.i18n.slideX,r+1),a=e.splides.map(e=>e.splide.root.id).join(" ");U(n,e3,s),U(n,e4,a),U(n,e2,"menuitem"),S(w())}function b(){r||T()}function T(){if(!r){let{index:i}=e;S(w()),function(e){let t=!e&&(!w()||g);U(n,e8,t||null),U(n,e6,!t&&h.slideFocus?0:null),_&&_.forEach(e=>{U(e,e6,t?-1:null)}),e!==z(n,eZ)&&(I(n,eZ,e),a(e?"visible":"hidden",E))}(function(){if(e.is(ti))return w();let t=W(c.Elements.track),i=W(n),r=f("left"),s=f("right");return es(t[r])<=ea(i[r])&&es(i[s])<=ea(t[s])}()),I(n,e$,t===i-1),I(n,eJ,t===i+1)}}function S(e){e!==z(n,eQ)&&(I(n,eQ,e),d&&U(n,e5,e||null),a(e?"active":"inactive",E))}function w(){let{index:n}=e;return n===t||h.cloneStatus&&n===i}let E={index:t,slideIndex:i,slide:n,container:y,isClone:g,mount:function(){g||(n.id="".concat(u.id,"-slide").concat(eh(t+1))),o(n,"click keydown",e=>{a("click"===e.type?e_:ev,E,e)}),s([eb,eE,ey,eg,ek],T),s(eI,v),p&&s(em,b)},destroy:function(){r=!0,l(),$(n,e1),B(n,e9),U(n,"style",m)},update:T,style:function(e,t,i){q(i&&y||n,e,t)},isWithin:function(i,n){let r=eo(i-t);return!g&&(h.rewind||e.is(tt))&&(r=en(r,e.length-r)),r<=n}};return E}(e,i,n,t);r.mount(),l.push(r)}function p(e){return e?m(e=>!e.isClone):l}function f(e,t){p(t).forEach(e)}function m(e){return l.filter("function"==typeof e?e:t=>v(e)?P(t.slide,e):E(S(e),t.index))}return{mount:function(){c(),n(eb,h),n([ep,eb],()=>{l.sort((e,t)=>e.index-t.index)})},destroy:u,update:function(){f(e=>{e.update()})},register:d,get:p,getIn:function(e){let{Controller:n}=t,r=n.toIndex(e),s=n.hasFocus()?1:i.perPage;return m(e=>el(e.index,r,r+s-1))},getAt:function(e){return m(e)[0]},add:function(e,t){w(e,e=>{if(v(e)&&(e=X(e)),T(e)){let n=a[t];n?O(e,n):L(o,e),A(e,i.classes.slide),function(e,t){let i=Q(e,"img"),{length:n}=i;n?i.forEach(e=>{s(e,"load error",()=>{--n||t()})}):t()}(e,r.bind(null,eS))}}),r(eb)},remove:function(e){G(m(e).map(e=>e.slide)),r(eb)},forEach:f,filter:m,style:function(e,t,i){f(n=>{n.style(e,t,i)})},getLength:function(e){return e?a.length:l.length},isEnough:function(){return l.length>i.perPage}}},Layout:function(e,t,i){let n,r;let{on:s,bind:a,emit:o}=eL(e),{Slides:l}=t,{resolve:c}=t.Direction,{root:u,track:h,list:d}=t.Elements,{getAt:p}=l;function f(){r=null,n="ttb"===i.direction,q(u,"maxWidth",J(i.width)),q(h,c("paddingLeft"),g(!1)),q(h,c("paddingRight"),g(!0)),m()}function m(){let e;let t=W(u);r&&r.width===t.width&&r.height===t.height||(q(h,"height",(e="",n&&(Z(e=_(),"height or heightRatio is missing."),e="calc(".concat(e," - ").concat(g(!1)," - ").concat(g(!0),")")),e)),l.style(c("marginRight"),J(i.gap)),l.style("width",(i.autoWidth?"":J(i.fixedWidth)||(n?"":v()))||null),l.style("height",J(i.fixedHeight)||(n?i.autoHeight?"":v():_())||null,!0),r=t,o(ew))}function g(e){let{padding:t}=i,n=c(e?"right":"left");return t&&J(t[n]||(y(t)?0:t))||"0px"}function _(){return J(i.height||W(d).width*i.heightRatio)}function v(){let e=J(i.gap);return"calc((100%".concat(e&&" + ".concat(e),")/").concat(i.perPage||1).concat(e&&" - ".concat(e),")")}function b(e,t){let i=p(e);return i?eo(W(i.slide)[c("right")]-W(d)[c("left")])+(t?0:T()):0}function T(){let e=p(0);return e&&parseFloat(q(e.slide,c("marginRight")))||0}return{mount:function(){f(),a(window,"resize load",eP(o.bind(this,eS))),s([eT,eb],f),s(eS,m)},listSize:function(){return W(d)[c("width")]},slideSize:function(e,t){let i=p(e||0);return i?W(i.slide)[c("width")]+(t?0:T()):0},sliderSize:function(){return b(e.length-1,!0)-b(-1,!0)},totalSize:b,getPadding:function(e){return parseFloat(q(h,c("padding"+(e?"Right":"Left"))))||0}}},Clones:function(e,t,i){let n;let{on:r,emit:s}=eL(e),{Elements:a,Slides:o}=t,{resolve:l}=t.Direction,c=[];function u(){(n=f())&&(function(t){let n=o.get().slice(),{length:r}=n;if(r){for(;n.length<t;)C(n,n);C(n.slice(-t),n.slice(0,t)).forEach((s,l)=>{let u=l<t,h=function(t,n){let r=t.cloneNode(!0);return A(r,i.classes.clone),r.id="".concat(e.root.id,"-clone").concat(eh(n+1)),r}(s.slide,l);u?O(h,n[0].slide):L(a.list,h),C(c,h),o.register(h,l-t+(u?0:r),s.index)})}}(n),s(eS))}function h(){G(c),g(c)}function d(){h(),u()}function p(){n<f()&&s(eb)}function f(){let{clones:t}=i;if(e.is(tt)){if(!t){let n=function(e,t){if(v(t)){let i=j("div",{style:"width: ".concat(t,"; position: absolute;")},e);t=W(i).width,G(i)}return t}(a.list,i[l("fixedWidth")]);t=(n&&ea(W(a.track)[l("width")]/n)||i[l("autoWidth")]&&e.length||i.perPage)*(i.drag?(i.flickMaxPages||1)+1:2)}}else t=0;return t}return{mount:function(){u(),r(eb,d),r([eT,eS],p)},destroy:h}},Move:function(e,t,i){let n;let{on:r,emit:s}=eL(e),{slideSize:a,getPadding:o,totalSize:l,listSize:c,sliderSize:u}=t.Layout,{resolve:h,orient:d}=t.Direction,{list:p,track:f}=t.Elements;function m(){w()||(t.Scroll.cancel(),g(e.index),s(eE))}function g(e){y(v(e,!0))}function y(t,i){if(!e.is(ti)){let n=i?t:function(t){if(e.is(tt)){let e=d(t-T()),i=E(!1,t)&&e<0,n=E(!0,t)&&e>0;(i||n)&&(t=_(t,n))}return t}(t);p.style.transform="translate".concat(h("X"),"(").concat(n,"px)"),t!==n&&s(ey)}}function _(e,t){let i=e-S(t),n=u();return e-d(n*(ea(eo(i)/n)||1))*(t?1:-1)}function v(t,n){var r;let s=d(l(t-1)-function(e){let{focus:t}=i;return"center"===t?(c()-a(e,!0))/2:+t*a(e)||0}(t));return n?(r=s,i.trimSpace&&e.is(te)&&(r=ec(r,0,d(u()-c()))),r):s}function T(){let e=h("left");return W(p)[e]-W(f)[e]+d(o(!1))}function S(e){return v(e?t.Controller.getEnd():0,!!i.trimSpace)}function w(){return e.state.is(4)&&i.waitForTransition}function E(e,t){t=b(t)?T():t;let i=!0!==e&&d(t)<d(S(!1)),n=!1!==e&&d(t)>d(S(!0));return i||n}return{mount:function(){n=t.Transition,r([ep,ew,eT,eb],m)},destroy:function(){B(p,"style")},move:function(r,a,o,l){if(!w()){let{set:c}=e.state,u=T();r!==a&&(n.cancel(),y(_(u,r>a),!0)),c(4),s(em,a,o,r),n.start(a,()=>{c(3),s(eg,a,o,r),"move"===i.trimSpace&&r!==o&&u===T()?t.Controller.go(r>o?">":"<",!1,l):l&&l()})}},jump:g,translate:y,shift:_,cancel:function(){y(T()),n.cancel()},toIndex:function(e){let i=t.Slides.get(),n=0,r=1/0;for(let t=0;t<i.length;t++){let s=i[t].index,a=eo(v(s,!0)-e);if(!(a<=r))break;r=a,n=s}return n},toPosition:v,getPosition:T,getLimit:S,isBusy:w,exceededLimit:E}},Controller:function(e,t,i){let{on:n}=eL(e),{Move:r}=t,{getPosition:s,getLimit:a}=r,{isEnough:o,getLength:l}=t.Slides,c=e.is(tt),u=e.is(te),h,d,p,f=i.start||0,m=f;function g(){h=l(!0),d=i.perMove,p=i.perPage,f=ec(f,0,h-1)}function y(e,i,n,s,a){let o=i?e:I(e);t.Scroll.scroll(i||n?r.toPosition(o,!0):e,s,()=>{A(r.toIndex(r.getPosition())),a&&a()})}function _(e){return S(!1,e)}function T(e){return S(!0,e)}function S(e,t){let i=d||(L()?1:p),n=w(f+i*(e?-1:1),f);return -1!==n||!u||1>eo(s()-a(!e))?t?n:C(n):e?0:E()}function w(e,t,n){if(o()){let r=E();e<0||e>r?e=el(0,e,t,!0)||el(r,t,e,!0)?k(x(e)):c?d||L()?e:e<0?-(h%p||p):h:i.rewind?e<0?r:0:-1:n||e===t||(e=d?e:k(x(t)+(e<t?-1:1)))}else e=-1;return e}function E(){let e=h-p;return(L()||c&&d)&&(e=h-1),er(e,0)}function C(e){return c?o()?e%h+(e<0?h:0):-1:e}function k(e){return ec(L()?e:p*e,0,E())}function x(e){return L()||(e=es((e=el(e,h-p,h-1)?h-1:e)/p)),e}function I(e){let t=r.toIndex(e);return u?ec(t,0,E()):t}function A(e){e!==f&&(m=f,f=e)}function L(){return!b(i.focus)||i.isNavigation}return{mount:function(){g(),n([eT,eb],g,9)},go:function(e,t,n){let s=function(e){let t=f;if(v(e)){let[,i,n]=e.match(/([+\-<>])(\d+)?/)||[];"+"===i||"-"===i?t=w(f+ +"".concat(i).concat(+n||1),f,!0):">"===i?t=n?k(+n):_(!0):"<"===i&&(t=T(!0))}else t=c?e:ec(e,0,E());return t}(e);if(i.useScroll)y(s,!0,!0,i.speed,n);else{let e=C(s);e>-1&&!r.isBusy()&&(t||e!==f)&&(A(e),r.move(s,e,m,n))}},scroll:y,getNext:_,getPrev:T,getAdjacent:S,getEnd:E,setIndex:A,getIndex:function(e){return e?m:f},toIndex:k,toPage:x,toDest:I,hasFocus:L}},Arrows:function(e,t,i){let{on:n,bind:r,emit:s}=eL(e),{classes:a,i18n:o}=i,{Elements:l,Controller:c}=t,u,h=l.arrows,d=l.prev,p=l.next,f={};function m(){if(i.arrows&&(d&&p||(h=j("div",a.arrows),d=g(!0),p=g(!1),u=!0,L(h,[d,p]),O(h,N("slider"===i.arrows&&l.slider||e.root)))),d&&p){if(f.prev)H(h,!1===i.arrows?"none":"");else{let{id:e}=l.track;U(d,e4,e),U(p,e4,e),f.prev=d,f.next=p,function(){let{go:e}=c;n([ep,eg,eT,eb,ek],y),r(p,"click",()=>{e(">",!0)}),r(d,"click",()=>{e("<",!0)})}(),s("arrows:mounted",d,p)}}}function g(e){return X('<button class="'.concat(a.arrow," ").concat(e?a.prev:a.next,'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40"><path d="').concat(i.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",'" />'))}function y(){let t=e.index,i=c.getPrev(),n=c.getNext(),r=i>-1&&t<i?o.last:o.prev,a=n>-1&&t>n?o.first:o.next;d.disabled=i<0,p.disabled=n<0,U(d,e3,r),U(p,e3,a),s("arrows:updated",d,p,i,n)}return{arrows:f,mount:function(){m(),n(eT,m)},destroy:function(){u?G(h):(B(d,e9),B(p,e9))}}},Autoplay:function(e,t,i){let n,r,s;let{on:a,bind:o,emit:l}=eL(e),c=eO(i.interval,e.go.bind(e,">"),function(e){let{bar:t}=h;t&&q(t,"width",100*e+"%"),l("autoplay:playing",e)}),{isPaused:u}=c,{Elements:h}=t;function d(e){let t=e?"pause":"play",n=h[t];n&&(U(n,e4,h.track.id),U(n,e3,i.i18n[t]),o(n,"click",e?f:p))}function p(){u()&&t.Slides.isEnough()&&(c.start(!i.resetProgress),r=n=s=!1,l("autoplay:play"))}function f(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];u()||(c.pause(),l("autoplay:pause")),s=e}function m(){s||(n||r?f(!1):p())}function g(){let n=t.Slides.getAt(e.index);c.set(n&&+V(n.slide,tn)||i.interval)}return{mount:function(){let{autoplay:e}=i;e&&(d(!0),d(!1),function(){let{root:e}=h;i.pauseOnHover&&o(e,"mouseenter mouseleave",e=>{n="mouseenter"===e.type,m()}),i.pauseOnFocus&&o(e,"focusin focusout",e=>{r="focusin"===e.type,m()}),a([em,eC,eb],c.rewind),a(em,g)}(),"pause"!==e&&p())},destroy:c.cancel,play:p,pause:f,isPaused:u}},Cover:function(e,t,i){let{on:n}=eL(e);function r(e){t.Slides.forEach(t=>{let i=N(t.container||t.slide,"img");i&&i.src&&s(e,i,t)})}function s(e,t,i){i.style("background",e?'center/cover no-repeat url("'.concat(t.src,'")'):"",!0),H(t,e?"none":"")}return{mount:function(){i.cover&&(n(eA,(e,t)=>{s(!0,e,t)}),n([ep,eT,eb],r.bind(null,!0)))},destroy:function(){r(!1)}}},Scroll:function(e,t,i){let n,r;let{on:s,emit:a}=eL(e),{Move:o}=t,{getPosition:l,getLimit:c,exceededLimit:u}=o;function h(){let t=l(),i=o.toIndex(t);el(i,0,e.length-1)||o.translate(o.shift(t,i>0),!0),r&&r(),a(ek)}function d(){n&&n.cancel()}function p(){n&&!n.isPaused()&&(d(),h())}return{mount:function(){s(em,d),s([eT,eb],p)},destroy:d,scroll:function t(s,p,f,m){let g=l(),y=1;p=p||er(eo(s-g)/1.5,800),r=f,d(),n=eO(p,h,n=>{let r=l(),a=(g+(s-g)*function(e){let{easingFunc:t}=i;return t?t(e):1-Math.pow(1-e,4)}(n)-l())*y;o.translate(r+a),e.is(te)&&!m&&u()&&(y*=.6,10>eo(a)&&t(c(!u(!1)),600,null,!0))},1),a(eC),n.start()},cancel:p}},Drag:function(e,t,i){let{on:n,emit:r,bind:s,unbind:a}=eL(e),{Move:o,Scroll:l,Controller:c}=t,{track:u}=t.Elements,{resolve:h,orient:d}=t.Direction,{getPosition:p,exceededLimit:f}=o,m,g,_,v,b,T,S,w,E,C=!1;function k(){let{drag:e}=i;w=!e,b="free"===e}function x(e){if(!w){let{noDrag:t}=i,n=R(e),r=!t||!P(e.target,t);S=!1,r&&(n||!e.button)&&(o.isBusy()?K(e,!0):(E=n?u:window,_=null,v=null,s(E,ts,I,tr),s(E,ta,A,tr),o.cancel(),l.cancel(),L(e)))}}function I(t){if(v||r("drag"),v=t,t.cancelable){let n=N(t)-N(g);if(T){o.translate(m+n/(C&&e.is(te)?5:1));let i=M(t)-M(g)>200,s=C!==(C=f());(i||s)&&L(t),r("dragging"),S=!0,K(t)}else{let{dragMinThreshold:e}=i;e=y(e)?e:{mouse:0,touch:+e||10},T=eo(n)>(R(t)?e.touch:e.mouse),D()&&K(t)}}}function A(n){a(E,ts,I),a(E,ta,A);let{index:s}=e;if(v){if(T||n.cancelable&&D()){let r=function(t){if(e.is(tt)||!C){let e=g===v&&_||g,i=N(v)-N(e),n=M(t)-M(e),r=M(t)-M(v)<200;if(n&&r)return i/n}return 0}(n),a=p()+(+(r>0)-+(r<0))*en(eo(r)*(i.flickPower||600),b?1/0:t.Layout.listSize()*(i.flickMaxPages||1));b?c.scroll(a):e.is(ti)?c.go(s+d(+(r>0)-+(r<0))):c.go(c.toDest(a),!0),K(n)}r("dragged")}else b||p()===o.toPosition(s)||c.go(s,!0);T=!1}function L(e){_=g,g=e,m=p()}function O(e){!w&&S&&K(e,!0)}function D(){return eo(N(v)-N(g))>eo(N(v,!0)-N(g,!0))}function N(e,t){return(R(e)?e.touches[0]:e)["page".concat(h(t?"Y":"X"))]}function M(e){return e.timeStamp}function R(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}return{mount:function(){s(u,ts,et,tr),s(u,ta,et,tr),s(u,"touchstart mousedown",x,tr),s(u,"click",O,{capture:!0}),s(u,"dragstart",K),n([ep,eT],k)},disable:function(e){w=e},isDragging:function(){return T}}},Keyboard:function(e,t,i){let n,r;let{on:s,bind:a,unbind:o}=eL(e),{root:l}=e,{resolve:c}=t.Direction;function u(){let{keyboard:e}=i;e&&("focused"===e?(n=l,U(l,e6,0)):n=window,a(n,tl,f))}function h(){o(n,tl),T(n)&&B(n,e6)}function d(){let e=r;r=!0,ee(()=>{r=e})}function p(){h(),u()}function f(t){if(!r){let{key:i}=t,n=E(to,i)?"Arrow".concat(i):i;n===c("ArrowLeft")?e.go("<"):n===c("ArrowRight")&&e.go(">")}}return{mount:function(){u(),s(eT,p),s(em,d)},destroy:h,disable:function(e){r=e}}},LazyLoad:function(e,t,i){let{on:n,off:r,bind:s,emit:a}=eL(e),o="sequential"===i.lazyLoad,l=[],c=0;function u(){d(),h()}function h(){t.Slides.forEach(e=>{Q(e.slide,th).forEach(t=>{let n=V(t,tc),r=V(t,tu);if(n!==t.src||r!==t.srcset){let s=i.classes.spinner,a=t.parentElement,o=N(a,".".concat(s))||j("span",s,a);U(o,e2,"presentation"),l.push({_img:t,_Slide:e,src:n,srcset:r,_spinner:o}),t.src||H(t,"none")}})}),o&&m()}function d(){c=0,l=[]}function p(){(l=l.filter(t=>{let n=i.perPage*((i.preloadPages||1)+1)-1;return!t._Slide.isWithin(e.index,n)||f(t)})).length||r(eg)}function f(e){let{_img:t}=e;A(e._Slide.slide,e0),s(t,"load error",t=>{!function(e,t){let{_Slide:i}=e;$(i.slide,e0),t||(G(e._spinner),H(e._img,""),a(eA,e._img,i),a(eS)),o&&m()}(e,"error"===t.type)}),["srcset","src"].forEach(i=>{e[i]&&(U(t,i,e[i]),B(t,"src"===i?tc:tu))})}function m(){c<l.length&&f(l[c++])}return{mount:function(){i.lazyLoad&&(h(),n(eb,u),o||n([ep,eb,eg,ek],p))},destroy:d}},Pagination:function(e,t,i){let n;let{on:r,emit:s,bind:a,unbind:o}=eL(e),{Slides:l,Elements:c,Controller:u}=t,{hasFocus:h,getIndex:d}=u,p=[];function f(){m(),i.pagination&&l.isEnough()&&(function(){let{length:t}=e,{classes:r,i18n:s,perPage:o}=i,u="slider"===i.pagination&&c.slider||c.root,d=h()?t:ea(t/o);n=j("ul",r.pagination,u);for(let e=0;e<d;e++){let t=j("li",null,n),i=j("button",{class:r.page,type:"button"},t),c=l.getIn(e).map(e=>e.slide.id),u=!h()&&o>1?s.pageX:s.slideX;a(i,"click",y.bind(null,e)),U(i,e4,c.join(" ")),U(i,e3,eu(u,e+1)),p.push({li:t,button:i,page:e})}}(),s("pagination:mounted",{list:n,items:p},_(e.index)),v())}function m(){n&&(G(n),p.forEach(e=>{o(e.button,"click")}),g(p),n=null)}function y(e){u.go(">".concat(e),!0,()=>{var t;let i=l.getAt(u.toIndex(e));i&&((t=i.slide).setActive&&t.setActive()||t.focus({preventScroll:!0}))})}function _(e){return p[u.toPage(e)]}function v(){let e=_(d(!0)),t=_(d());e&&($(e.button,eQ),B(e.button,e5)),t&&(A(t.button,eQ),U(t.button,e5,!0)),s("pagination:updated",{list:n,items:p},e,t)}return{items:p,mount:function(){f(),r([eT,eb],f),r([em,ek],v)},destroy:m,getAt:_,update:v}},Sync:function(e,t,i){let{list:n}=t.Elements,r=[];function s(){e.splides.forEach(t=>{var i;t.isParent||[e,i=t.splide].forEach(t=>{let n=eL(t),s=t===e?i:e;n.on(em,(e,t,i)=>{s.go(s.is(tt)?i:e)}),r.push(n)})}),i.isNavigation&&function(){let t=eL(e),{on:i}=t;i(e_,l),i(ev,c),i([ep,eT],o),U(n,e2,"menu"),r.push(t),t.emit(eI,e.splides)}()}function a(){B(n,e9),r.forEach(e=>{e.destroy()}),g(r)}function o(){U(n,e7,"ttb"!==i.direction?"horizontal":null)}function l(t){e.go(t.index)}function c(e,t){E(td,t.key)&&(l(e),K(t))}return{mount:s,destroy:a,remount:function(){a(),s()}}},Wheel:function(e,t,i){let{bind:n}=eL(e);function r(n){if(n.cancelable){let{deltaY:r}=n;if(r){let s=r<0;e.go(s?"<":">"),(!i.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(s))&&K(n)}}}return{mount:function(){i.wheel&&n(t.Elements.track,"wheel",r,tr)}}}});let tf={type:"slide",speed:400,waitForTransition:!0,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,keyboard:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",slideFocus:!0,trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",classes:{slide:eF,clone:eB,arrows:ej,arrow:eq,prev:eH,next:eV,pagination:ez,page:"".concat(ez,"__page"),spinner:"".concat(f,"__spinner")},i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay"}};function tm(e,t,i){let{on:n}=eL(e);return{mount:function(){n([ep,eb],()=>{ee(()=>{t.Slides.style("transition","opacity ".concat(i.speed,"ms ").concat(i.easing))})})},start:function(e,i){let{track:n}=t.Elements;q(n,"height",J(W(n).height)),ee(()=>{i(),q(n,"height","")})},cancel:et}}function tg(e,t,i){let n;let{bind:r}=eL(e),{Move:s,Controller:a}=t,{list:o}=t.Elements;function l(){c("")}function c(e){q(o,"transition",e)}return{mount:function(){r(o,"transitionend",e=>{e.target===o&&n&&(l(),n())})},start:function(t,r){let o=s.toPosition(t,!0),l=s.getPosition(),u=function(t){let{rewindSpeed:n}=i;if(e.is(te)&&n){let e=a.getIndex(!0),i=a.getEnd();if(0===e&&t>=i||e>=i&&0===t)return n}return i.speed}(t);eo(o-l)>=1&&u>=1?(c("transform ".concat(u,"ms ").concat(i.easing)),s.translate(o,!0),n=r):(s.jump(t),r())},cancel:l}}let ty=class{mount(e,t){let{state:i,Components:n}=this;return Z(i.is([1,5]),"Already mounted!"),i.set(1),this._Components=n,this._Transition=t||this._Transition||(this.is(ti)?tm:tg),this._Extensions=e||this._Extensions,M(R({},tp,this._Extensions,{Transition:this._Transition}),(e,t)=>{let i=e(this,n,this._options);n[t]=i,i.setup&&i.setup()}),M(n,e=>{e.mount&&e.mount()}),this.emit(ep),A(this.root,"is-initialized"),i.set(3),this.emit(ef),this}sync(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._Components.Sync.remount(),e.Components.Sync.remount()),this}go(e){return this._Components.Controller.go(e),this}on(e,t){return this.event.on(e,t,null,20),this}off(e){return this.event.off(e),this}emit(e){return this.event.emit(e,...x(arguments,1)),this}add(e,t){return this._Components.Slides.add(e,t),this}remove(e){return this._Components.Slides.remove(e),this}is(e){return this._options.type===e}refresh(){return this.emit(eb),this}destroy(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{event:t,state:i}=this;return i.is(1)?t.on(ef,this.destroy.bind(this,e),this):(M(this._Components,t=>{t.destroy&&t.destroy(e)},!0),t.emit(ex),t.destroy(),e&&g(this.splides),i.set(5)),this}get options(){return this._options}set options(e){let{_options:t}=this;F(t,e),this.state.is(1)||this.emit(eT,t)}get length(){return this._Components.Slides.getLength(!0)}get index(){return this._Components.Controller.getIndex()}constructor(e,t){let i;this.event=function(){let e={};function t(t,n){i(t,(t,i)=>{let r=e[t];e[t]=r&&r.filter(e=>e._key?e._key!==n:n||e._namespace!==i)})}function i(e,t){S(e).join(" ").split(" ").forEach(e=>{let i=e.split(".");t(i[0],i[1])})}return{on:function(t,n,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;i(t,(t,i)=>{e[t]=e[t]||[],C(e[t],{_event:t,_callback:n,_namespace:i,_priority:s,_key:r}).sort((e,t)=>e._priority-t._priority)})},off:t,offBy:function(i){M(e,(e,n)=>{t(n,i)})},emit:function(t){(e[t]||[]).forEach(e=>{e._callback.apply(e,x(arguments,1))})},destroy:function(){e={}}}}(),this.Components={},this.state=(i=1,{set:function(e){i=e},is:function(e){return E(S(e),i)}}),this.splides=[],this._options={},this._Extensions={};let n=v(e)?Y(document,e):e;Z(n,"".concat(n," is invalid.")),this.root=n,F(tf,ty.defaults),F(F(this._options,tf),t||{})}};ty.defaults={},ty.STATES={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,DESTROYED:5};let t_=new Map,tv={set(e,t,i){t_.has(e)||t_.set(e,new Map);let n=t_.get(e);n.has(t)||0===n.size?n.set(t,i):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(n.keys())[0],"."))},get:(e,t)=>t_.has(e)&&t_.get(e).get(t)||null,remove(e,t){if(!t_.has(e))return;let i=t_.get(e);i.delete(t),0===i.size&&t_.delete(e)}},tb="transitionend",tT=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i="#".concat(i.split("#")[1])),t=i&&"#"!==i?i.trim():null}return t},tS=e=>{let t=tT(e);return t&&document.querySelector(t)?t:null},tw=e=>{let t=tT(e);return t?document.querySelector(t):null},tE=e=>{e.dispatchEvent(new Event(tb))},tC=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),tk=e=>tC(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,tx=e=>{if(!tC(e)||0===e.getClientRects().length)return!1;let t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){let t=e.closest("summary");if(t&&t.parentNode!==i||null===t)return!1}return t},tI=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),tA=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?tA(e.parentNode):null},tL=()=>{},tO=e=>{e.offsetHeight},tP=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,tD=[],tN=()=>"rtl"===document.documentElement.dir,tM=e=>{var t;t=()=>{let t=tP();if(t){let i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}},"loading"===document.readyState?(tD.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of tD)e()}),tD.push(t)):t()},tR=e=>{"function"==typeof e&&e()},tF=function(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!i)return void tR(e);let n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e),n=Number.parseFloat(t),r=Number.parseFloat(i);return n||r?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5,r=!1,s=i=>{let{target:n}=i;n===t&&(r=!0,t.removeEventListener(tb,s),tR(e))};t.addEventListener(tb,s),setTimeout(()=>{r||tE(t)},n)},tB=(e,t,i,n)=>{let r=e.length,s=e.indexOf(t);return -1===s?!i&&n?e[r-1]:e[0]:(s+=i?1:-1,n&&(s=(s+r)%r),e[Math.max(0,Math.min(s,r-1))])},tU=/[^.]*(?=\..*)\.|.*/,tj=/\..*/,tq=/::\d+$/,tH={},tV=1,tz={mouseenter:"mouseover",mouseleave:"mouseout"},tW=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tG(e,t){return t&&"".concat(t,"::").concat(tV++)||e.uidEvent||tV++}function tX(e){let t=tG(e);return e.uidEvent=t,tH[t]=tH[t]||{},tH[t]}function tK(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function tY(e,t,i){let n="string"==typeof t,r=tJ(e);return tW.has(r)||(r=e),[n,n?i:t||i,r]}function tQ(e,t,i,n,r){var s,a;if("string"!=typeof t||!e)return;let[o,l,c]=tY(t,i,n);if(t in tz){let e;e=l,l=function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}}let u=tX(e),h=u[c]||(u[c]={}),d=tK(h,l,o?i:null);if(d)return void(d.oneOff=d.oneOff&&r);let p=tG(l,t.replace(tU,"")),f=o?(s=l,function t(n){let r=e.querySelectorAll(i);for(let{target:a}=n;a&&a!==this;a=a.parentNode)for(let o of r)if(o===a)return t0(n,{delegateTarget:a}),t.oneOff&&tZ.off(e,n.type,i,s),s.apply(a,[n])}):(a=l,function t(i){return t0(i,{delegateTarget:e}),t.oneOff&&tZ.off(e,i.type,a),a.apply(e,[i])});f.delegationSelector=o?i:null,f.callable=l,f.oneOff=r,f.uidEvent=p,h[p]=f,e.addEventListener(c,f,o)}function t$(e,t,i,n,r){let s=tK(t[i],n,r);s&&(e.removeEventListener(i,s,!!r),delete t[i][s.uidEvent])}function tJ(e){return tz[e=e.replace(tj,"")]||e}let tZ={on(e,t,i,n){tQ(e,t,i,n,!1)},one(e,t,i,n){tQ(e,t,i,n,!0)},off(e,t,i,n){if("string"!=typeof t||!e)return;let[r,s,a]=tY(t,i,n),o=a!==t,l=tX(e),c=l[a]||{},u=t.startsWith(".");if(void 0===s){if(u)for(let i of Object.keys(l))!function(e,t,i,n){let r=t[i]||{};for(let s of Object.keys(r))if(s.includes(n)){let n=r[s];t$(e,t,i,n.callable,n.delegationSelector)}}(e,l,i,t.slice(1));for(let i of Object.keys(c)){let n=i.replace(tq,"");if(!o||t.includes(n)){let t=c[i];t$(e,l,a,t.callable,t.delegationSelector)}}}else{if(!Object.keys(c).length)return;t$(e,l,a,s,r?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;let n=tP(),r=null,s=!0,a=!0,o=!1;t!==tJ(t)&&n&&(r=n.Event(t,i),n(e).trigger(r),s=!r.isPropagationStopped(),a=!r.isImmediatePropagationStopped(),o=r.isDefaultPrevented());let l=new Event(t,{bubbles:s,cancelable:!0});return l=t0(l,i),o&&l.preventDefault(),a&&e.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function t0(e,t){for(let[i,n]of Object.entries(t||{}))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>n})}return e}function t1(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function t2(e){return e.replace(/[A-Z]/g,e=>"-".concat(e.toLowerCase()))}let t4={setDataAttribute(e,t,i){e.setAttribute("data-bs-".concat(t2(t)),i)},removeDataAttribute(e,t){e.removeAttribute("data-bs-".concat(t2(t)))},getDataAttributes(e){if(!e)return{};let t={};for(let i of Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"))){let n=i.replace(/^bs/,"");t[n=n.charAt(0).toLowerCase()+n.slice(1,n.length)]=t1(e.dataset[i])}return t},getDataAttribute:(e,t)=>t1(e.getAttribute("data-bs-".concat(t2(t))))},t5=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let i=tC(t)?t4.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...tC(t)?t4.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType;for(let i of Object.keys(t)){let n=t[i],r=e[i],s=tC(r)?"element":null==r?"".concat(r):Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(s))throw TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(i,'" provided type "').concat(s,'" but expected type "').concat(n,'".'))}}};class t3 extends t5{dispose(){for(let e of(tv.remove(this._element,this.constructor.DATA_KEY),tZ.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[e]=null}_queueCallback(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];tF(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return tv.get(tk(e),this.DATA_KEY)}static getOrCreateInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return"bs.".concat(this.NAME)}static get EVENT_KEY(){return".".concat(this.DATA_KEY)}static eventName(e){return"".concat(e).concat(this.EVENT_KEY)}constructor(e,t){super(),(e=tk(e))&&(this._element=e,this._config=this._getConfig(t),tv.set(this._element,this.constructor.DATA_KEY,this))}}let t8={find:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){let i=[],n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>"".concat(e,':not([tabindex^="-"])')).join(",");return this.find(t,e).filter(e=>!tI(e)&&tx(e))}},t6={slideFocus:!0,i18n:{prev:"Slide precedente",next:"Slide successiva",first:"Vai alla prima slide",last:"Vai allâ€™ultima slide",slideX:"Vai alla slide %s",pageX:"Vai a pagina %s",play:"Attiva autoplay",pause:"Pausa autoplay"}},t7={"it-carousel-landscape-abstract-three-cols":{type:"slide",perPage:3,gap:24,padding:{left:0,right:0},arrows:!1,breakpoints:{768:{perPage:1,gap:24,padding:{left:0,right:0},arrows:!1},992:{perPage:2,gap:24,padding:{left:40,right:40},arrows:!1}}},"it-carousel-landscape-abstract-three-cols-arrow-visible":{type:"slide",perPage:3,gap:24,padding:{left:0,right:0},arrows:!0,breakpoints:{768:{perPage:1,gap:24,padding:{left:40,right:40},arrows:!0},992:{perPage:2,gap:24,padding:{left:40,right:40},arrows:!0}}},"it-big-img":{type:"loop",perPage:1,gap:48,padding:{left:320,right:320},arrows:!1,breakpoints:{768:{perPage:1,gap:0,padding:{left:0,right:0},arrows:!1},992:{perPage:1,gap:24,padding:{left:160,right:160},arrows:!1}}},"it-standard-image":{type:"loop",perPage:3,gap:24,padding:{left:48,right:48},arrows:!1,breakpoints:{768:{perPage:1,gap:24,padding:{left:40,right:40},arrows:!1},992:{perPage:2,gap:24,padding:{left:48,right:48},arrows:!1}}},"it-carousel-landscape-abstract":{type:"slide",perPage:1,gap:24,padding:{left:0,right:0},arrows:!1,breakpoints:{768:{perPage:1,gap:24,padding:{left:0,right:0},arrows:!1},992:{perPage:1,gap:24,padding:{left:24,right:24},arrows:!1}}},"it-calendar-wrapper":{type:"slide",perPage:4,gap:0,padding:{left:0,right:0},arrows:!1,breakpoints:{560:{perPage:1,gap:0,padding:{left:24,right:24},arrows:!1},768:{perPage:2,gap:0,padding:{left:0,right:0},arrows:!1},992:{perPage:3,gap:0,padding:{left:0,right:0},arrows:!1}}}};class t9 extends t3{dispose(){this._splide.destroy(),super.dispose()}static get NAME(){return"carousel"}_init(){this._splide.mount()}_getConfig(){let e=Object.assign({},t6);return Object.keys(t7).forEach(t=>{this._element.classList.contains(t)&&(e=Object.assign({},e,t7[t]))}),e}constructor(e){super(e),this._config=this._getConfig(),this._splide=new ty(this._element,this._config),this._init()}}tZ.on(window,"load.bs.carousel.data-api",()=>{t8.find("[data-bs-carousel-splide]").forEach(e=>{t9.getOrCreateInstance(e)})});let ie=".bs.inputlabel",it="focus".concat(ie),ii="blur".concat(ie),ir="change".concat(ie),is="active";class ia{static get NAME(){return"inputlabel"}_init(){let e=this._getLabel();e&&!e.classList.contains(is)&&(this._labelOut(),this._labelOver()),e&&null===e.getAttribute("it-bs-static")&&this._bindEvents()}_bindEvents(){["date","time"].includes(this._element.getAttribute("type"))||("file"===this._element.getAttribute("type")?tZ.on(this._element,ii,()=>{this._labelOut()}):(tZ.on(this._element,it,()=>{this._labelOut()}),tZ.on(this._element,ii,()=>{this._labelOver()}),tZ.on(this._element,ir,()=>{this._labelToggle()})))}_getLabel(){return t8.findOne('label[for="'+this._element.getAttribute("id")+'"]')}_isEmpty(){return!this._element.value&&!this._element.getAttribute("placeholder")}_labelOut(){let e=this._getLabel();e&&e.classList.add(is)}_labelOver(){if(this._isEmpty()){let e=this._getLabel();e&&e.classList.remove(is)}}_labelToggle(){this._isEmpty()?this._labelOver():this._labelOut()}constructor(e){this._element=e,this._init()}}ia.getInputFromLabel=e=>document.querySelector("#"+CSS.escape(e.getAttribute("for")));let io=".bs.inputnumber",il="click".concat(io),ic="change".concat(io),iu=".input-number",ih='input[data-bs-input][type="number"]',id='button[class^="input-number-"]';class ip extends t3{static get NAME(){return"inputnumber"}_init(){this._wrapperElement&&this._inputResize()}_bindEvents(){this._wrapperElement&&(t8.find(id,this._wrapperElement).forEach(e=>{tZ.on(e,il,t=>{t.preventDefault(),this._incrDecr(e.classList.contains("input-number-sub")),this._label._labelOut()})}),tZ.on(this._element,ic,()=>this._checkLimit()))}_inputResize(){if(this._wrapperElement.classList.contains("input-number-adaptive")){let e=null;e="calc(70px + "+this._element.value.length+"ch)",this._element.style.width=e}}_incrDecr(e){var t=0;if(""!==this._element.value&&(t=parseFloat(this._element.value)),!isNaN(t)){let i=parseFloat(this._element.getAttribute("step"));i||(i=1),this._element.value=t+i*(e?-1:1),tZ.trigger(this._element,ic),tZ.trigger(this._element,"input")}}_checkLimit(){let e=parseFloat(this._element.value);if(!isNaN(e)){let t=e,i=parseFloat(this._element.getAttribute("max")),n=parseFloat(this._element.getAttribute("min"));n&&e<n&&(t=n),i&&e>i&&(t=i),this._element.value=t}this._inputResize()}constructor(e){super(e),this._wrapperElement=this._element.closest(iu),this._label=new ia(e),this._init(),this._bindEvents()}}"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(ih+", label").forEach(function(e){let t=ia.getInputFromLabel(e)||e;t&&t.matches(ih)&&t.parentNode.querySelector(id)&&ip.getOrCreateInstance(t)})}),tZ.on(document,"click".concat(io,".data-api"),id,function(){let e=this.closest(iu);if(e){let t=t8.findOne(ih,e);t&&ip.getOrCreateInstance(t)}}));let im="show";class ig extends t3{static get NAME(){return"dimmer"}show(){this._isShown||this._isTransitioning||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._showElement())}hide(){if(!this._isShown||this._isTransitioning)return;this._isShown=!1;let e=this._isAnimated();e&&(this._isTransitioning=!0),this._element.classList.remove(im),this._queueCallback(()=>this._hideElement(),this._element,e)}_isAnimated(){return this._element.classList.contains("fade")}_showElement(){let e=this._isAnimated();this._element.removeAttribute("aria-hidden"),e&&tO(this._element),this._element.classList.add(im),this._queueCallback(()=>{this._isTransitioning=!1},this._element,e)}_hideElement(){this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1}constructor(e){super(e),this._isShown=!e.matches("[aria-hidden=true]"),this._isTransitioning=!1}}tZ.on(document,"click.bs.dimmer.data-api",'[data-bs-toggle="dimmer"]',function(){let e=tw(this),t=ig.getOrCreateInstance(e);this.checked?t.show():t.hide()});let iy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",i="click.dismiss".concat(e.EVENT_KEY),n=e.NAME;tZ.on(document,i,'[data-bs-dismiss="'.concat(n,'"]'),function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),tI(this))return;let r=tw(this)||this.closest(".".concat(n));e.getOrCreateInstance(r)[t]()})},i_=".bs.notification",iv="hidden".concat(i_),ib="show".concat(i_),iT={timeout:0},iS="show";class iw extends t3{static get NAME(){return"notification"}show(e,t){if(this._isShown||this._isTransitioning)return;let i=e||this._getElementTimeout(t);this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._showElement(i)}hide(){if(!this._isShown||this._isTransitioning)return;this._isShown=!1;let e=this._isAnimated();e&&(this._isTransitioning=!0),this._element.classList.remove(iS),this._queueCallback(()=>this._hideElement(),this._element,e)}toggle(e){this._isShown?this.hide():this.show(null,e)}_isAnimated(){return this._element.classList.contains("fade")}_showElement(e){let t=this._isAnimated();this._element.style.display="block",this._element.removeAttribute("aria-hidden"),t&&tO(this._element),this._element.classList.add(iS),this._queueCallback(()=>{this._isTransitioning=!1,e&&this._setTimeout(e,()=>this.hide())},this._element,t)}_hideElement(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1}_getConfig(e){return e={...iT,...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}_getElementTimeout(e){let t=e?parseInt(e.getAttribute("data-bs-timeout")):null;return t>0?t:this._config.timeout}_setTimeout(e,t){this._clearTimeout(),setTimeout(t,e)}_clearTimeout(){this._toId&&(clearTimeout(this._toId),this._toId=null)}constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=this._element.classList.contains(iS),this._isTransitioning=!1,this._toId=null}}tZ.on(document,"click".concat(i_,".data-api"),'[data-bs-toggle="notification"]',function(e){let t=tw(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),tZ.one(t,ib,e=>{e.defaultPrevented||tZ.one(t,iv,()=>{tx(this)&&this.focus()})}),iw.getOrCreateInstance(t).toggle(this)}),iy(iw);let iE="cookiebar",iC=".bs.cookiebar",ik=".data-api",ix="cookies_consent",iI="close".concat(iC),iA="closed".concat(iC),iL="load".concat(iC).concat(ik),iO="click".concat(iC).concat(ik),iP="show";class iD extends t3{static get NAME(){return iE}static get VERSION(){return"5.0.0"}show(){this._isShown||this._isTransitioning||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._showElement())}hide(){if(!this._isShown||this._isTransitioning)return;this._isShown=!1;let e=this._isAnimated();e&&(this._isTransitioning=!0),this._element.classList.remove(iP),this._queueCallback(()=>this._hideElement(),this._element,e)}accept(e){e=e||this._element;let t=this._getRootElement(e);this._triggerCloseEvent(t).defaultPrevented||(this._setCookieEU(),this.hide())}static clearCookie(){"undefined"!=typeof document&&(document.cookie=ix+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;")}_isAnimated(){return this._element.classList.contains("fade")}_showElement(){let e=this._isAnimated();this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-live","polite"),e&&tO(this._element),this._element.classList.add(iP),this._queueCallback(()=>{this._isTransitioning=!1},this._element,e)}_hideElement(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-live"),this._isTransitioning=!1}_setCookieEU(){var e=new Date;e.setDate(e.getDate()+30);var t=escape("true")+"; expires="+e.toUTCString();"undefined"!=typeof document&&(document.cookie=ix+"="+t+"; path=/; SameSite=Strict")}_getRootElement(e){let t=tw(e),i=null;return t&&(i=t),i||(i=e.closest(".cookiebar")),i}_triggerCloseEvent(e){return tZ.trigger(e,iI)}_removeElement(e){e.classList.remove(iP),e.setAttribute("aria-hidden","true"),e.setAttribute("aria-live","off"),tZ.trigger(e,iA),this.dispose()}static _handleAccept(e){return function(t){t&&t.preventDefault(),e.close(this)}}static _handleConsent(e){return function(t){t&&t.preventDefault(),e.close(this)}}static _getCookieEU(){if("undefined"!=typeof document){var e,t,i,n=document.cookie.split(";");for(e=0;e<n.length;e++)if(t=n[e].substring(0,n[e].indexOf("=")),i=n[e].substring(n[e].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))==ix)return unescape(i)}}constructor(e){super(e),this._isShown=this._element.classList.contains(iP),this._isTransitioning=!1}}tZ.on(document,iO,'[data-bs-accept="cookiebar"]',function(e){if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),tI(this))return;let t=tw(this)||this.closest(".".concat(iE));iD.getOrCreateInstance(t).accept()}),tZ.on(window,iL,function(){iD._getCookieEU()||"undefined"==typeof document||document.querySelectorAll(".cookiebar").forEach(e=>{iD.getOrCreateInstance(e).show()})});let iN=()=>window.matchMedia("(max-width: 991px)").matches,iM=(e,t)=>{let i=null;return t.forEach((t,n)=>{t===e&&(i=n)}),i},iR=(e,t,i)=>{i={isDirectionTop:!1,isLimit:!1,loop:!1,..."object"==typeof i?i:{}};let n=iM(e,t),r=null;if(i.isLimit&&i.isDirectionTop&&n>0)r=t[0];else if(i.isLimit&&n<t.length-1)r=t[t.length-1];else if(i.isDirectionTop){if(!i.loop&&0===n)return;r=t[0===n?t.length-1:n-1]}else{if(!i.loop&&n===t.length-1)return;r=t[n===t.length-1?0:n+1]}r&&r.focus()},iF="pagescroll-scroll-disabled",iB=!1,iU="undefined"==typeof document?0:document.scrollingElement.scrollTop,ij="undefined"==typeof document?null:document.querySelector("html");"undefined"!=typeof document&&document.addEventListener("scroll",()=>{iB&&(document.scrollingElement.scrollTop=iU)});let iq=".bs.navbarcollapsible",iH="click".concat(iq),iV="keyup".concat(iq),iz="keydown".concat(iq),iW="hide".concat(iq),iG="hidden".concat(iq),iX="show".concat(iq),iK="shown".concat(iq),iY="resize".concat(iq),iQ="show",i$="expanded";class iJ extends t3{static get NAME(){return"navbarcollapsible"}show(e){this._isShown||this._isTransitioning||tZ.trigger(this._element,iX,{relatedTarget:e}).defaultPrevented||(this._btnBack&&this._btnBack.classList.add(iQ),this._isShown=!0,"undefined"!=typeof document&&(iB=!0,iU=document.scrollingElement.scrollTop,ij.classList.add(iF)),this._showElement())}hide(){if(!this._isShown||this._isTransitioning||tZ.trigger(this._element,iW).defaultPrevented)return;this._isShown=!1;let e=this._isAnimated();e&&(this._isTransitioning=!0),this._btnBack&&this._btnBack.classList.remove(iQ),this._overlay&&this._overlay.classList.remove(iQ),this._element.classList.remove(i$),"undefined"!=typeof document&&(iB=!1,ij.classList.remove(iF)),this._queueCallback(()=>this._hideElement(),this._menuWrapper,e)}toggle(e){this._isShown?this.hide():this.show(e)}dispose(){tZ.off(window,iY),super.dispose()}_bindEvents(){tZ.on(window,iY,()=>this._onResize()),this._overlay&&tZ.on(this._overlay,iH,()=>this.hide()),tZ.on(this._btnClose,iH,e=>{e.preventDefault(),this.hide()}),tZ.on(this._btnBack,iH,e=>{e.preventDefault(),this.hide()}),this._menuItems.forEach(e=>{tZ.on(e,iz,e=>this._isMobile&&this._onMenuItemKeyDown(e)),tZ.on(e,iV,e=>this._isMobile&&this._onMenuItemKeyUp(e)),tZ.on(e,iH,e=>this._isMobile&&this._onMenuItemClick(e))})}_onResize(){this._isMobile=iN()}_onMenuItemKeyUp(e){"Shift"===e.key&&(this._isKeyShift=!1)}_onMenuItemKeyDown(e){"Shift"===e.key&&(this._isKeyShift=!0),"Tab"===e.key&&(e.preventDefault(),this._focusNext())}_onMenuItemClick(e){this.currItemIdx=iM(e.currentTarget,this._menuItems)}_isAnimated(){return!0}_isElementHidden(e){return null===e.offsetParent}_showElement(){let e=this._isAnimated();this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-expanded",!0),this._overlay&&(this._overlay.style.display="block"),e&&tO(this._element),this._element.classList.add(i$),this._overlay&&this._overlay.classList.add(iQ),this._queueCallback(()=>{this._isTransitioning=!1;let e=this._getNextVisibleItem(0);e.item&&(e.item.focus(),this._currItemIdx=e.index),tZ.trigger(this._element,iK)},this._menuWrapper,e)}_hideElement(){this._overlay&&(this._overlay.style.display="none"),this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-expanded"),this._isTransitioning=!1,tZ.trigger(this._element,iG)}_setOverlay(){this._overlay=t8.findOne(".overlay",this._element),this._isAnimated&&this._overlay.classList.add("fade")}_focusNext(){let e=this._currItemIdx+(this._isKeyShift?-1:1);e<0?e=this._menuItems.length-1:e>=this._menuItems.length&&(e=0);let t=this._getNextVisibleItem(e,this._isKeyShift);t.item&&(t.item.focus(),this._currItemIdx=t.index)}_getNextVisibleItem(e,t){let i=null,n=null,r=e,s=t?-1:1,a=!1;for(;!(i||r==e&&a);)r==e&&(a=!0),this._isElementHidden(this._menuItems[r])||(i=this._menuItems[r],n=r),(r+=s)<0?r=this._menuItems.length-1:r>=this._menuItems.length&&(r=0);return{item:i,index:n}}constructor(e){super(e),this._isShown=this._element.classList.contains(i$),this._isTransitioning=!1,this._isMobile=iN(),this._isKeyShift=!1,this._currItemIdx=0,this._btnClose=t8.findOne(".close-div button",this._element),this._btnBack=t8.findOne(".it-back-button",this._element),this._menuWrapper=t8.findOne(".menu-wrapper",this._element),this._overlay=null,this._setOverlay(),this._menuItems=t8.find(".nav-link,.nav-item .list-item,.it-heading-link,.it-footer-link,.close-menu",this._element),this._bindEvents()}}tZ.on(document,"click".concat(iq,".data-api"),'[data-bs-toggle="navbarcollapsible"]',function(e){let t=tw(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),tZ.one(t,iX,e=>{e.defaultPrevented||tZ.one(t,iG,()=>{tx(this)&&this.focus()})}),iJ.getOrCreateInstance(t).toggle(this)});let iZ=".bs.accordion",i0="keydown".concat(iZ),i1='.accordion-item > .accordion-header [data-bs-toggle="collapse"]';class i2 extends t3{static get NAME(){return"accordion"}handleKeyDown(e,t,i){let n={ArrowDown:e=>this._focusNext(e),ArrowUp:e=>this._focusPrev(e),Home:e=>this._focusFirst(e),End:e=>this._focusLast(e)};"function"==typeof n[e]&&(i&&i.preventDefault(),n[e](t))}_bindEvents(){t8.find(i1,this._element).forEach(e=>{tZ.on(e,i0,e=>{this.handleKeyDown(e.key,e.currentTarget,e)})})}_getHeadButtons(){return t8.find(":scope > "+i1,this._element)}_focusNext(e){iR(e,this._getHeadButtons(),{loop:!0})}_focusPrev(e){iR(e,this._getHeadButtons(),{isDirectionTop:!0,loop:!0})}_focusFirst(e){iR(e,this._getHeadButtons(),{isDirectionTop:!0,isLimit:!0})}_focusLast(e){iR(e,this._getHeadButtons(),{isLimit:!0})}constructor(e){super(e),this._bindEvents()}}tZ.on(document,"keydown".concat(iZ,".data-api"),i1,function(e){let t=this.closest(".accordion");t&&i2.getOrCreateInstance(t).handleKeyDown(e.key,this,e)});var i4=new Uint8Array(16);let i5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var i3=[],i8=0;i8<256;++i8)i3.push((i8+256).toString(16).substr(1));let i6=!1,i7=[];class i9{dispose(){ne(this.id)}_execute(e){this._callback(e)}constructor(e,t){this.id=e,this._callback=t}}let ne=e=>{i7=i7.filter(t=>t.id!==e)},nt=e=>{if("undefined"!=typeof document){if(i7.length||document.addEventListener("scroll",e=>{i6||(window.requestAnimationFrame(()=>{i7.forEach(t=>t.cb._execute(e)),i6=!1}),i6=!0)}),"function"==typeof e){var t,i;let n=new i9(((i=(t=t||{}).random||(t.rng||function(){if(!np&&!(np="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return np(i4)})())[6]=15&i[6]|64,i[8]=63&i[8]|128,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(i3[e[t+0]]+i3[e[t+1]]+i3[e[t+2]]+i3[e[t+3]]+"-"+i3[e[t+4]]+i3[e[t+5]]+"-"+i3[e[t+6]]+i3[e[t+7]]+"-"+i3[e[t+8]]+i3[e[t+9]]+"-"+i3[e[t+10]]+i3[e[t+11]]+i3[e[t+12]]+i3[e[t+13]]+i3[e[t+14]]+i3[e[t+15]]).toLowerCase();if(!("string"==typeof i&&i5.test(i)))throw TypeError("Stringified UUID is invalid");return i}(i)),e);return i7.push({id:n.id,cb:n}),n}return console.error("[onDocumentScroll] the provided data has to be of type function"),null}};var ni={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},nn={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},nr=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],ns={CSS:{},springs:{}};function na(e,t,i){return Math.min(Math.max(e,t),i)}function no(e,t){return e.indexOf(t)>-1}function nl(e,t){return e.apply(null,t)}var nc={arr:function(e){return Array.isArray(e)},obj:function(e){return no(Object.prototype.toString.call(e),"Object")},pth:function(e){return nc.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||nc.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return nc.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return nc.hex(e)||nc.rgb(e)||nc.hsl(e)},key:function(e){return!ni.hasOwnProperty(e)&&!nn.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function nu(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function nh(e,t){var i=nu(e),n=na(nc.und(i[0])?1:i[0],.1,100),r=na(nc.und(i[1])?100:i[1],.1,100),s=na(nc.und(i[2])?10:i[2],.1,100),a=na(nc.und(i[3])?0:i[3],.1,100),o=Math.sqrt(r/n),l=s/(2*Math.sqrt(r*n)),c=l<1?o*Math.sqrt(1-l*l):0,u=l<1?(l*o-a)/c:-a+o;function h(e){var i=t?t*e/1e3:e;return i=l<1?Math.exp(-i*l*o)*(1*Math.cos(c*i)+u*Math.sin(c*i)):(1+u*i)*Math.exp(-i*o),0===e||1===e?e:1-i}return t?h:function(){var t=ns.springs[e];if(t)return t;for(var i=1/6,n=0,r=0;;)if(1===h(n+=i)){if(++r>=16)break}else r=0;var s=n*i*1e3;return ns.springs[e]=s,s}}function nd(e){return void 0===e&&(e=10),function(t){return Math.ceil(na(t,1e-6,1)*e)*(1/e)}}var np,nf,nm,ng=function(){function e(e,t,i){return(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e}function t(e,t,i){return 3*(1-3*i+3*t)*e*e+2*(3*i-6*t)*e+3*t}return function(i,n,r,s){if(0<=i&&i<=1&&0<=r&&r<=1){var a=new Float32Array(11);if(i!==n||r!==s)for(var o=0;o<11;++o)a[o]=e(.1*o,i,r);return function(o){return i===n&&r===s||0===o||1===o?o:e(function(n){for(var s=0,o=1;10!==o&&a[o]<=n;++o)s+=.1;var l=s+(n-a[--o])/(a[o+1]-a[o])*.1,c=t(l,i,r);return c>=.001?function(i,n,r,s){for(var a=0;a<4;++a){var o=t(n,r,s);if(0===o)break;n-=(e(n,r,s)-i)/o}return n}(n,l,i,r):0===c?l:function(t,i,n,r,s){var a,o,l=0;do(a=e(o=i+(n-i)/2,r,s)-t)>0?n=o:i=o;while(Math.abs(a)>1e-7&&++l<10);return o}(n,s,s+.1,i,r)}(o),n,s)}}}}(),ny=(nf={linear:function(){return function(e){return e}}},nm={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Expo:function(){return function(e){return e?Math.pow(2,10*e-10):0}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var i=na(e,1,10),n=na(t,.1,2);return function(e){return 0===e||1===e?e:-i*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-n/(2*Math.PI)*Math.asin(1/i))/n)}}},["Quad","Cubic","Quart","Quint"].forEach(function(e,t){nm[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(nm).forEach(function(e){var t=nm[e];nf["easeIn"+e]=t,nf["easeOut"+e]=function(e,i){return function(n){return 1-t(e,i)(1-n)}},nf["easeInOut"+e]=function(e,i){return function(n){return n<.5?t(e,i)(2*n)/2:1-t(e,i)(-2*n+2)/2}},nf["easeOutIn"+e]=function(e,i){return function(n){return n<.5?(1-t(e,i)(1-2*n))/2:(t(e,i)(2*n-1)+1)/2}}}),nf);function n_(e,t){if(nc.fnc(e))return e;var i=e.split("(")[0],n=ny[i],r=nu(e);switch(i){case"spring":return nh(e,t);case"cubicBezier":return nl(ng,r);case"steps":return nl(nd,r);default:return nl(n,r)}}function nv(e){try{return document.querySelectorAll(e)}catch(e){return}}function nb(e,t){for(var i=e.length,n=arguments.length>=2?arguments[1]:void 0,r=[],s=0;s<i;s++)if(s in e){var a=e[s];t.call(n,a,s,e)&&r.push(a)}return r}function nT(e){return e.reduce(function(e,t){return e.concat(nc.arr(t)?nT(t):t)},[])}function nS(e){return nc.arr(e)?e:(nc.str(e)&&(e=nv(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function nw(e,t){return e.some(function(e){return e===t})}function nE(e){var t={};for(var i in e)t[i]=e[i];return t}function nC(e,t){var i=nE(e);for(var n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function nk(e,t){var i=nE(e);for(var n in t)i[n]=nc.und(e[n])?t[n]:e[n];return i}function nx(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function nI(e,t){return nc.fnc(e)?e(t.target,t.id,t.total):e}function nA(e,t){return e.getAttribute(t)}function nL(e,t,i){if(nw([i,"deg","rad","turn"],nx(t)))return t;var n=ns.CSS[t+i];if(!nc.und(n))return n;var r=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(r),r.style.position="absolute",r.style.width=100+i;var a=100/r.offsetWidth;s.removeChild(r);var o=a*parseFloat(t);return ns.CSS[t+i]=o,o}function nO(e,t,i){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return i?nL(e,r,i):r}}function nP(e,t){return nc.dom(e)&&!nc.inp(e)&&(!nc.nil(nA(e,t))||nc.svg(e)&&e[t])?"attribute":nc.dom(e)&&nw(nr,t)?"transform":nc.dom(e)&&"transform"!==t&&nO(e,t)?"css":null!=e[t]?"object":void 0}function nD(e){if(nc.dom(e)){for(var t,i=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map;t=n.exec(i);)r.set(t[1],t[2]);return r}}function nN(e,t,i,n){switch(nP(e,t)){case"transform":var r,s;return r=no(t,"scale")?1:0+(no(t,"translate")||"perspective"===t?"px":no(t,"rotate")||no(t,"skew")?"deg":void 0),s=nD(e).get(t)||r,n&&(n.transforms.list.set(t,s),n.transforms.last=t),i?nL(e,s,i):s;case"css":return nO(e,t,i);case"attribute":return nA(e,t);default:return e[t]||0}}function nM(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var n=nx(e)||0,r=parseFloat(t),s=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return r+s+n;case"-":return r-s+n;case"*":return r*s+n}}function nR(e,t){if(nc.col(e)){var i,n,r;return nc.rgb(e)?(i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e))?"rgba("+i[1]+",1)":e:nc.hex(e)?(n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n}),"rgba("+parseInt((r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n))[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"):nc.hsl(e)?function(e){var t,i,n,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),s=parseInt(r[1],10)/360,a=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100,l=r[4]||1;function c(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(0==a)t=i=n=o;else{var u=o<.5?o*(1+a):o+a-o*a,h=2*o-u;t=c(h,u,s+1/3),i=c(h,u,s),n=c(h,u,s-1/3)}return"rgba("+255*t+","+255*i+","+255*n+","+l+")"}(e):void 0}if(/\s/g.test(e))return e;var s=nx(e),a=s?e.substr(0,e.length-s.length):e;return t?a+t:a}function nF(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function nB(e){for(var t,i=e.points,n=0,r=0;r<i.numberOfItems;r++){var s=i.getItem(r);r>0&&(n+=nF(t,s)),t=s}return n}function nU(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*nA(e,"r");case"rect":return 2*nA(e,"width")+2*nA(e,"height");case"line":return nF({x:nA(e,"x1"),y:nA(e,"y1")},{x:nA(e,"x2"),y:nA(e,"y2")});case"polyline":return nB(e);case"polygon":return t=e.points,nB(e)+nF(t.getItem(t.numberOfItems-1),t.getItem(0))}}function nj(e,t){var i=t||{},n=i.el||function(e){for(var t=e.parentNode;nc.svg(t)&&nc.svg(t.parentNode);)t=t.parentNode;return t}(e),r=n.getBoundingClientRect(),s=nA(n,"viewBox"),a=r.width,o=r.height,l=i.viewBox||(s?s.split(" "):[0,0,a,o]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:a,h:o,vW:l[2],vH:l[3]}}function nq(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=nR(nc.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(i)?n.match(i).map(Number):[0],strings:nc.str(e)||t?n.split(i):[]}}function nH(e){return nb(e?nT(nc.arr(e)?e.map(nS):nS(e)):[],function(e,t,i){return i.indexOf(e)===t})}function nV(e){var t=nH(e);return t.map(function(e,i){return{target:e,id:i,total:t.length,transforms:{list:nD(e)}}})}var nz={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,n,r){if(n.list.set(t,i),t===n.last||r){var s="";n.list.forEach(function(e,t){s+=t+"("+e+") "}),e.style.transform=s}}};function nW(e,t){nV(e).forEach(function(e){for(var i in t){var n=nI(t[i],e),r=e.target,s=nx(n),a=nN(r,i,s,e),o=nM(nR(n,s||nx(a)),a);nz[nP(r,i)](r,i,o,e.transforms,!0)}})}function nG(e,t){var i=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=i?Math.max.apply(Math,e.map(function(e){return n(e)+e.duration})):t.duration,r.delay=i?Math.min.apply(Math,e.map(function(e){return n(e)+e.delay})):t.delay,r.endDelay=i?r.duration-Math.max.apply(Math,e.map(function(e){return n(e)+e.duration-e.endDelay})):t.endDelay,r}var nX=0,nK=[],nY=function(){var e;function t(i){for(var n=nK.length,r=0;r<n;){var s=nK[r];s.paused?(nK.splice(r,1),n--):(s.tick(i),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){n$.suspendWhenDocumentHidden&&(nQ()?e=cancelAnimationFrame(e):(nK.forEach(function(e){return e._onDocumentVisibility()}),nY()))}),function(){e||nQ()&&n$.suspendWhenDocumentHidden||!(nK.length>0)||(e=requestAnimationFrame(t))}}();function nQ(){return!!document&&document.hidden}function n$(e){void 0===e&&(e={});var t,i,n,r,s,a,o,l,c,u=0,h=0,d=0,p=0,f=null;function m(e){var t=window.Promise&&new Promise(function(e){return f=e});return e.finished=t,t}var g=(i=nC(ni,t=e),r=function(e,t){var i=[],n=t.keyframes;for(var r in n&&(t=nk(function(e){for(var t=nb(nT(e.map(function(e){return Object.keys(e)})),function(e){return nc.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),i={},n=function(n){var r=t[n];i[r]=e.map(function(e){var t={};for(var i in e)nc.key(i)?i==r&&(t.value=e[i]):t[i]=e[i];return t})},r=0;r<t.length;r++)n(r);return i}(n),t)),t)nc.key(r)&&i.push({name:r,tweens:function(e,t){var i=nE(t);if(/^spring/.test(i.easing)&&(i.duration=nh(i.easing)),nc.arr(e)){var n=e.length;2!==n||nc.obj(e[0])?nc.fnc(t.duration)||(i.duration=t.duration/n):e={value:e}}var r=nc.arr(e)?e:[e];return r.map(function(e,i){var n=nc.obj(e)&&!nc.pth(e)?e:{value:e};return nc.und(n.delay)&&(n.delay=i?0:t.delay),nc.und(n.endDelay)&&(n.endDelay=i===r.length-1?t.endDelay:0),n}).map(function(e){return nk(e,i)})}(t[r],e)});return i}(n=nC(nn,t),t),o=nG(a=nb(nT((s=nV(t.targets)).map(function(e){return r.map(function(t){return function(e,t){var i=nP(e.target,t.name);if(i){var n,r=t.tweens.map(function(i){var r=function(e,t){var i={};for(var n in e){var r=nI(e[n],t);nc.arr(r)&&1===(r=r.map(function(e){return nI(e,t)})).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,e),s=r.value,a=nc.arr(s)?s[1]:s,o=nx(a),l=nN(e.target,t.name,o,e),c=n?n.to.original:l,u=nc.arr(s)?s[0]:c,h=nx(u)||nx(l),d=o||h;return nc.und(a)&&(a=c),r.from=nq(u,d),r.to=nq(nM(a,u),d),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=n_(r.easing,r.duration),r.isPath=nc.pth(s),r.isPathTargetInsideSVG=r.isPath&&nc.svg(e.target),r.isColor=nc.col(r.from.original),r.isColor&&(r.round=1),n=r,r}),s=r[r.length-1];return{type:i,property:t.name,animatable:e,tweens:r,duration:s.end,delay:r[0].delay,endDelay:s.endDelay}}}(e,t)})})),function(e){return!nc.und(e)}),n),l=nX,nX++,nk(i,{id:l,children:[],animatables:s,animations:a,duration:o.duration,delay:o.delay,endDelay:o.endDelay}));function y(){var e=g.direction;"alternate"!==e&&(g.direction="normal"!==e?"normal":"reverse"),g.reversed=!g.reversed,c.forEach(function(e){return e.reversed=g.reversed})}function _(e){return g.reversed?g.duration-e:e}function v(){u=0,h=_(g.currentTime)*(1/n$.speed)}function b(e,t){t&&t.seek(e-t.timelineOffset)}function T(e){for(var t=0,i=g.animations,n=i.length;t<n;){var r=i[t],s=r.animatable,a=r.tweens,o=a.length-1,l=a[o];o&&(l=nb(a,function(t){return e<t.end})[0]||l);for(var c=na(e-l.start-l.delay,0,l.duration)/l.duration,u=isNaN(c)?1:l.easing(c),h=l.to.strings,d=l.round,p=[],f=l.to.numbers.length,m=void 0,y=0;y<f;y++){var _=void 0,v=l.to.numbers[y],b=l.from.numbers[y]||0;_=l.isPath?function(e,t,i){function n(i){void 0===i&&(i=0);var n=t+i>=1?t+i:0;return e.el.getPointAtLength(n)}var r=nj(e.el,e.svg),s=n(),a=n(-1),o=n(1),l=i?1:r.w/r.vW,c=i?1:r.h/r.vH;switch(e.property){case"x":return(s.x-r.x)*l;case"y":return(s.y-r.y)*c;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}(l.value,u*v,l.isPathTargetInsideSVG):b+u*(v-b),d&&(l.isColor&&y>2||(_=Math.round(_*d)/d)),p.push(_)}var T=h.length;if(T){m=h[0];for(var S=0;S<T;S++){h[S];var w=h[S+1],E=p[S];isNaN(E)||(m+=w?E+w:E+" ")}}else m=p[0];nz[r.type](s.target,r.property,m,s.transforms),r.currentValue=m,t++}}function S(e){g[e]&&!g.passThrough&&g[e](g)}function w(e){var t=g.duration,i=g.delay,n=t-g.endDelay,r=_(e);g.progress=na(r/t*100,0,100),g.reversePlayback=r<g.currentTime,c&&function(e){if(g.reversePlayback)for(var t=p;t--;)b(e,c[t]);else for(var i=0;i<p;i++)b(e,c[i])}(r),!g.began&&g.currentTime>0&&(g.began=!0,S("begin")),!g.loopBegan&&g.currentTime>0&&(g.loopBegan=!0,S("loopBegin")),r<=i&&0!==g.currentTime&&T(0),(r>=n&&g.currentTime!==t||!t)&&T(t),r>i&&r<n?(g.changeBegan||(g.changeBegan=!0,g.changeCompleted=!1,S("changeBegin")),S("change"),T(r)):g.changeBegan&&(g.changeCompleted=!0,g.changeBegan=!1,S("changeComplete")),g.currentTime=na(r,0,t),g.began&&S("update"),e>=t&&(h=0,g.remaining&&!0!==g.remaining&&g.remaining--,g.remaining?(u=d,S("loopComplete"),g.loopBegan=!1,"alternate"===g.direction&&y()):(g.paused=!0,g.completed||(g.completed=!0,S("loopComplete"),S("complete"),!g.passThrough&&"Promise"in window&&(f(),m(g)))))}return m(g),g.reset=function(){var e=g.direction;g.passThrough=!1,g.currentTime=0,g.progress=0,g.paused=!0,g.began=!1,g.loopBegan=!1,g.changeBegan=!1,g.completed=!1,g.changeCompleted=!1,g.reversePlayback=!1,g.reversed="reverse"===e,g.remaining=g.loop,c=g.children;for(var t=p=c.length;t--;)g.children[t].reset();(g.reversed&&!0!==g.loop||"alternate"===e&&1===g.loop)&&g.remaining++,T(g.reversed?g.duration:0)},g._onDocumentVisibility=v,g.set=function(e,t){return nW(e,t),g},g.tick=function(e){d=e,u||(u=d),w((d+(h-u))*n$.speed)},g.seek=function(e){w(_(e))},g.pause=function(){g.paused=!0,v()},g.play=function(){g.paused&&(g.completed&&g.reset(),g.paused=!1,nK.push(g),v(),nY())},g.reverse=function(){y(),g.completed=!g.reversed,v()},g.restart=function(){g.reset(),g.play()},g.remove=function(e){nZ(nH(e),g)},g.reset(),g.autoplay&&g.play(),g}function nJ(e,t){for(var i=t.length;i--;)nw(e,t[i].animatable.target)&&t.splice(i,1)}function nZ(e,t){var i=t.animations,n=t.children;nJ(e,i);for(var r=n.length;r--;){var s=n[r],a=s.animations;nJ(e,a),a.length||s.children.length||n.splice(r,1)}i.length||n.length||t.pause()}n$.version="3.2.1",n$.speed=1,n$.suspendWhenDocumentHidden=!0,n$.running=nK,n$.remove=function(e){for(var t=nH(e),i=nK.length;i--;)nZ(t,nK[i])},n$.get=nN,n$.set=nW,n$.convertPx=nL,n$.path=function(e,t){var i=nc.str(e)?nv(e)[0]:e,n=t||100;return function(e){return{property:e,el:i,svg:nj(i),totalLength:nU(i)*(n/100)}}},n$.setDashoffset=function(e){var t=nU(e);return e.setAttribute("stroke-dasharray",t),t},n$.stagger=function(e,t){void 0===t&&(t={});var i=t.direction||"normal",n=t.easing?n_(t.easing):null,r=t.grid,s=t.axis,a=t.from||0,o="first"===a,l="center"===a,c="last"===a,u=nc.arr(e),h=u?parseFloat(e[0]):parseFloat(e),d=u?parseFloat(e[1]):0,p=nx(u?e[1]:e)||0,f=t.start||0+(u?h:0),m=[],g=0;return function(e,t,y){if(o&&(a=0),l&&(a=(y-1)/2),c&&(a=y-1),!m.length){for(var _=0;_<y;_++){if(r){var v=l?(r[0]-1)/2:a%r[0],b=l?(r[1]-1)/2:Math.floor(a/r[0]),T=v-_%r[0],S=b-Math.floor(_/r[0]),w=Math.sqrt(T*T+S*S);"x"===s&&(w=-T),"y"===s&&(w=-S),m.push(w)}else m.push(Math.abs(a-_));g=Math.max.apply(Math,m)}n&&(m=m.map(function(e){return n(e/g)*g})),"reverse"===i&&(m=m.map(function(e){return s?e<0?-1*e:-e:Math.abs(g-e)}))}return f+(u?(d-h)/g:h)*(Math.round(100*m[t])/100)+p}},n$.timeline=function(e){void 0===e&&(e={});var t=n$(e);return t.duration=0,t.add=function(i,n){var r=nK.indexOf(t),s=t.children;function a(e){e.passThrough=!0}r>-1&&nK.splice(r,1);for(var o=0;o<s.length;o++)a(s[o]);var l=nk(i,nC(nn,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=nc.und(n)?c:nM(n,c),a(t),t.seek(l.timelineOffset);var u=n$(l);a(u),s.push(u);var h=nG(s,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},n$.easing=n_,n$.penner=ny,n$.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};let n0={duration:800,easing:"easeInOutSine"},n1=(e,t)=>{if("undefined"==typeof document)return;let i=("object"==typeof t?t:{}).complete,n=window.document.scrollingElement||window.document.body||window.document.documentElement,r=n.style.scrollBehavior;t={scrollTop:e||0,...n0,..."object"==typeof t?t:{}},n.style.scrollBehavior="auto",t.complete=e=>{n.style.scrollBehavior=r,"function"==typeof i&&i(e)},n$({targets:n,...t})},n2="active",n4="ul.link-list",n5="a.nav-link",n3="".concat(n5,".").concat(n2),n8="".concat(n5,'[href^="#"]'),n6={scrollPadding:10,duration:800,easing:"easeInOutSine"};class n7 extends t3{static get NAME(){return"navscroll"}setScrollPadding(e){this._config.scrollPadding=e}dispose(){this._scrollCb&&this._scrollCb.dispose(),super.dispose()}_getConfig(e){return e={...n6,...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}_bindEvents(){this._scrollCb=nt(()=>this._onScroll()),this._collapsible&&(tZ.on(this._collapsible._element,"shown.bs.navbarcollapsible",()=>this._onCollapseOpened()),tZ.on(this._collapsible._element,"hidden.bs.navbarcollapsible",()=>this._onCollapseClosed())),t8.find(n8,this._element).forEach(e=>{e.addEventListener("click",()=>{let t=()=>this._scrollToHash(e.hash);this._isCollapseOpened?(this._callbackQueue.push(t),this._collapsible.hide()):t()})}),tZ.on(window,"load",()=>{setTimeout(()=>this._onScroll(),150)})}_onCollapseOpened(){this._isCollapseOpened=!0}_onCollapseClosed(){for(;this._callbackQueue.length>0;){let e=this._callbackQueue.shift();"function"==typeof e&&e()}this._isCollapseOpened=!1}_getParentLinks(e){let t=[],i=e.closest(n4),n=null,r=!1;for(;i&&!r;){let e=i.closest("li.nav-link, li.nav-item");if(e){let i=e.querySelector(n5);i&&t.push(i)}n=i,(i=(i.parentElement||i).closest(n4))===n&&(r=!0)}return t}_decorateToggler(e){if(this._togglerElement){let t=t8.findOne(".it-list",this._togglerElement);this._togglerElement.innerText="",this._togglerElement.textContent="",this._togglerElement.append(t),this._togglerElement.append(e)}}_scrollToHash(e){let t=t8.findOne(e,this._sectionContainer);t&&(n1(t.offsetTop-this._getScrollPadding(),{duration:this._config.duration,easing:this._config.easing}),history.pushState?history.pushState(null,null,e):location.hash=e)}_updateProgress(e){if(!e)return;let t=t8.find(".it-navscroll-progressbar");if(t){let i=Math.min(100,Math.max(0,Math.abs(e.getBoundingClientRect().top)/e.getBoundingClientRect().height*100));t.forEach(t=>{e.getBoundingClientRect().top<=0?(t.style.width=i+"%",t.setAttribute("aria-valuenow",i)):(t.style.width="0%",t.setAttribute("aria-valuenow",0))})}}_onScroll(){let e=this._sectionContainer?this._sectionContainer.offsetTop:0;if("undefined"==typeof document)return;let t=document.scrollingElement.scrollTop-e,i=t8.find(n5,this._element),n=this._getScrollPadding();t8.find(".it-page-section").forEach((r,s)=>{if(r.offsetTop-e<=t+n&&(t8.find(n3,this._element).forEach(e=>{e.classList.remove(n2)}),s<i.length)){let e=i[s];this._getParentLinks(e).forEach(e=>{e.classList.add(n2)}),e.classList.add(n2),this._decorateToggler(e.innerText)}}),this._updateProgress(this._sectionContainer)}_getCollapsible(){let e=t8.findOne(".navbar-collapsable",this._element);return e?iJ.getOrCreateInstance(e):null}_getScrollPadding(){return"function"==typeof this._config.scrollPadding?this._config.scrollPadding():this._config.scrollPadding}constructor(e,t){super(e),this._config=this._getConfig(t),this._togglerElement=t8.findOne(".custom-navbar-toggler",this._element),this._sectionContainer=t8.findOne(".it-page-sections-container"),this._collapsible=this._getCollapsible(),this._isCollapseOpened=!1,this._callbackQueue=[],this._scrollCb=null,this._bindEvents()}}t8.find("[data-bs-navscroll]").map(e=>{n7.getOrCreateInstance(e)});let n9=".bs.sticky",re="resize".concat(n9),rt="on".concat(n9),ri="off".concat(n9),rn="bs-is-sticky",rr="bs-is-fixed",rs='[data-bs-toggle="sticky"]',ra={positionType:"sticky",stickyClassName:"",stackable:!1,paddingTop:0};class ro extends t3{dispose(){tZ.off(window,re),this._scrollCb.dispose(),super.dispose()}static get NAME(){return"sticky"}_getConfig(e){return e={...ra,...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}_bindEvents(){tZ.on(window,re,()=>this._onResize()),this._scrollCb=nt(()=>this._onScroll())}_onResize(){this._isMobile=iN(),this._setLimit()}_onScroll(){this._checkSticky()}_setLimit(){this._stickyLimit=this._cumulativeOffset(this._stickyTarget).top,this._stickyLimitMobile=this._cumulativeOffset(this._stickyTargetMobile).top}_getLimit(){let e=this._isMobile?this._stickyLimitMobile:this._stickyLimit;return this._config.stackable&&this._getStickySimblings().forEach((t,i)=>{let n=t.getBoundingClientRect();e-=n.height+(0===i?parseFloat(t.style.top):0)}),e>0?e:0}_cumulativeOffset(e){let t=0,i=0;do t+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent;while(e);return{top:t,left:i}}_isTypeSticky(){return"sticky"===this._config.positionType}_checkSticky(){this._isSticky||this._setLimit();let e=this._getLimit();window.pageYOffset>e?this._setSticky():this._unsetSticky()}_setSticky(){if(!this._isSticky){this._isSticky=!0;let e=rn;this._isTypeSticky()||(e=rr,this._wrapper=this._createWrapper()),this._element.classList.add(e),this._config.stickyClassName&&this._element.classList.add(this._config.stickyClassName),this._prevTop=this._element.style.top,this._element.style.top=this._getPositionTop()+"px",tZ.trigger(this._element,rt)}}_unsetSticky(){if(this._isSticky){let e=rn;this._isTypeSticky()||(e=rr,this._destroyWrapper()),this._element.classList.remove(e),this._config.stickyClassName&&this._element.classList.remove(this._config.stickyClassName),this._element.style.top=this._prevTop,this._isSticky=!1,tZ.trigger(this._element,ri)}}_createWrapper(){if("undefined"==typeof document)return;let e=document.createElement("div");return e.classList.add("bs-it-sticky-wrapper"),e.style.width="100%",e.style.height=this._element.getBoundingClientRect().height+"px",e.style.overflow="hidden",this._element.parentNode.insertBefore(e,this._element),e.appendChild(this._element),e}_destroyWrapper(){this._wrapper&&(this._wrapper.parentNode.insertBefore(this._element,this._wrapper),this._wrapper.remove())}_getStickySimblings(){return t8.find(rs).filter(e=>{let t=ro.getInstance(e);return!(!t||!t._isSticky||e===this._element)})}_getPositionTop(){let e=0;return this._config.stackable?(this._getStickySimblings().forEach((t,i)=>{let n=t.getBoundingClientRect();e+=n.height+(0===i?parseFloat(t.style.top):0)}),e):e+this._config.paddingTop}constructor(e,t){super(e),this._config=this._getConfig(t),this._isSticky=!1,this._wrapper=null,this._stickyTarget=t8.findOne(tS(this._element),this._element)||this._element,this._stickyTargetMobile=t8.findOne(this._element.getAttribute("data-bs-target-mobile"),this._element)||this._stickyTarget,this._stickyLimit=0,this._stickyLimitMobile=0,this._setLimit(),this._scrollCb=null,this._isMobile=iN(),this._prevTop=0,this._onScroll(),this._bindEvents()}}nt(()=>{t8.find(rs).map(e=>{ro.getOrCreateInstance(e)})});let rl="cloned-element",rc=".".concat(rl),ru=new Map;class rh{static getOrCreateInstance(e){return ru.get(e)||new this(e)}_bindEvents(){this._element.addEventListener("on.bs.sticky",()=>this._toggleClonedElement(!0)),this._element.addEventListener("off.bs.sticky",()=>this._toggleClonedElement(!1))}_toggleClonedElement(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!tx(t8.findOne(".custom-navbar-toggler",this._element))){let t=t8.findOne(".menu-wrapper",this._element);if(e){let e=t8.findOne(".it-brand-wrapper",this._element),i=t8.findOne(".it-search-wrapper",this._element),n=t8.findOne(".it-user-wrapper",this._element),r=e?e.cloneNode(!0):null,s=i?i.cloneNode(!0):null,a=n?n.cloneNode(!0):null;r&&t.insertBefore(r,t.childNodes[0]).classList.add(rl),s&&t.appendChild(s).classList.add(rl),a&&(t.appendChild(a).classList.add(rl),t.appendChild(a).classList.remove("show"))}else t8.find(rc,this._element).forEach(e=>{e.parentElement.removeChild(e)})}}constructor(e){if(ru.get(e))return null;this._element=e,this._elementObj=ro.getOrCreateInstance(e),ru.set(e,this._elementObj),this._bindEvents(),this._toggleClonedElement(this._element.classList.contains("is-sticky"))}}nt(()=>{t8.find(".it-header-sticky").map(e=>{rh.getOrCreateInstance(e)})});var rd=Object.defineProperty,rp=(e,t,i)=>{var n;return(n="symbol"!=typeof t?t+"":t)in e?rd(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,i};let rf=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,rm=/^[0-9]+$/,rg=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/,ry=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;var r_=((n=r_||{}).Required="required",n.Email="email",n.MinLength="minLength",n.MaxLength="maxLength",n.Password="password",n.Number="number",n.MaxNumber="maxNumber",n.MinNumber="minNumber",n.StrongPassword="strongPassword",n.CustomRegexp="customRegexp",n.MinFilesCount="minFilesCount",n.MaxFilesCount="maxFilesCount",n.Files="files",n),rv=((a=rv||{}).Required="required",a),rb=((o=rb||{}).Label="label",o.LabelArrow="labelArrow",o);let rT=[{key:r_.Required,dict:{en:"The field is required"}},{key:r_.Email,dict:{en:"Email has invalid format"}},{key:r_.MaxLength,dict:{en:"The field must contain a maximum of :value characters"}},{key:r_.MinLength,dict:{en:"The field must contain a minimum of :value characters"}},{key:r_.Password,dict:{en:"Password must contain minimum eight characters, at least one letter and one number"}},{key:r_.StrongPassword,dict:{en:"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"}},{key:r_.Number,dict:{en:"Value should be a number"}},{key:r_.MaxNumber,dict:{en:"Number should be less or equal than :value"}},{key:r_.MinNumber,dict:{en:"Number should be more or equal than :value"}},{key:r_.MinFilesCount,dict:{en:"Files count should be more or equal than :value"}},{key:r_.MaxFilesCount,dict:{en:"Files count should be less or equal than :value"}},{key:r_.Files,dict:{en:"Uploaded files have one or several invalid properties (extension/size/type etc)."}}],rS=e=>"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then,rw=e=>Array.isArray(e)?e.filter(e=>e.length>0):"string"==typeof e&&e.trim()?[...e.split(" ").filter(e=>e.length>0)]:[],rE=e=>e instanceof Element||e instanceof HTMLDocument,rC={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1,validateBeforeSubmitting:!1};class rk{initialize(e,t,i){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=rC,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],this.currentLocale="en","string"==typeof e){let t=document.querySelector(e);if(!t)throw Error("Form with ".concat(e," selector not found! Please check the form selector"));this.setForm(t)}else{if(!(e instanceof HTMLFormElement))throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");this.setForm(e)}if(this.globalConfig={...rC,...t},i&&(this.dictLocale=[...i,...rT]),this.isTooltip()){let e=document.createElement("style");e.textContent=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",this.customStyleTags[rb.Label]=document.head.appendChild(e),this.addListener("scroll",document,this.handleDocumentScroll)}}getLocalisedString(e,t,i){var n;let r=null!=i?i:e,s=null==(n=this.dictLocale.find(e=>e.key===r))?void 0:n.dict[this.currentLocale];if(s||i&&(s=i),s&&void 0!==t)switch(e){case r_.MaxLength:case r_.MinLength:case r_.MaxNumber:case r_.MinNumber:case r_.MinFilesCount:case r_.MaxFilesCount:s=s.replace(":value",String(t))}return s||i||"Value is incorrect"}getFieldErrorMessage(e,t){let i="function"==typeof e.errorMessage?e.errorMessage(this.getElemValue(t),this.fields):e.errorMessage;return this.getLocalisedString(e.rule,e.value,i)}getFieldSuccessMessage(e,t){let i="function"==typeof e?e(this.getElemValue(t),this.fields):e;return this.getLocalisedString(void 0,void 0,i)}getGroupErrorMessage(e){return this.getLocalisedString(e.rule,void 0,e.errorMessage)}getGroupSuccessMessage(e){if(e.successMessage)return this.getLocalisedString(void 0,void 0,e.successMessage)}setFieldInvalid(e,t){this.fields[e].isValid=!1,this.fields[e].errorMessage=this.getFieldErrorMessage(t,this.fields[e].elem)}setFieldValid(e,t){this.fields[e].isValid=!0,void 0!==t&&(this.fields[e].successMessage=this.getFieldSuccessMessage(t,this.fields[e].elem))}setGroupInvalid(e,t){this.groupFields[e].isValid=!1,this.groupFields[e].errorMessage=this.getGroupErrorMessage(t)}setGroupValid(e,t){this.groupFields[e].isValid=!0,this.groupFields[e].successMessage=this.getGroupSuccessMessage(t)}getElemValue(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}validateGroupRule(e,t,i){i.rule===rv.Required&&(t.every(e=>!e.checked)?this.setGroupInvalid(e,i):this.setGroupValid(e,i))}validateFieldRule(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=i.value,s=this.getElemValue(t);if(i.plugin)i.plugin(s,this.fields)||this.setFieldInvalid(e,i);else switch(i.rule){case r_.Required:let a;a=s,"string"==typeof s&&(a=s.trim()),a||this.setFieldInvalid(e,i);break;case r_.Email:if("string"!=typeof s){this.setFieldInvalid(e,i);break}rf.test(s)||this.setFieldInvalid(e,i);break;case r_.MaxLength:if(void 0===r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field is not defined. The field will be always invalid.")),this.setFieldInvalid(e,i);break}if("number"!=typeof r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] should be a number. The field will be always invalid.")),this.setFieldInvalid(e,i);break}if("string"!=typeof s){this.setFieldInvalid(e,i);break}if(""===s)break;s.length>r&&this.setFieldInvalid(e,i);break;case r_.MinLength:if(void 0===r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field is not defined. The field will be always invalid.")),this.setFieldInvalid(e,i);break}if("number"!=typeof r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] should be a number. The field will be always invalid.")),this.setFieldInvalid(e,i);break}if("string"!=typeof s){this.setFieldInvalid(e,i);break}if(""===s)break;s.length<r&&this.setFieldInvalid(e,i);break;case r_.Password:if("string"!=typeof s){this.setFieldInvalid(e,i);break}if(""===s)break;rg.test(s)||this.setFieldInvalid(e,i);break;case r_.StrongPassword:if("string"!=typeof s){this.setFieldInvalid(e,i);break}if(""===s)break;ry.test(s)||this.setFieldInvalid(e,i);break;case r_.Number:if("string"!=typeof s){this.setFieldInvalid(e,i);break}if(""===s)break;rm.test(s)||this.setFieldInvalid(e,i);break;case r_.MaxNumber:{if(void 0===r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field is not defined. The field will be always invalid.")),this.setFieldInvalid(e,i);break}if("number"!=typeof r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field should be a number. The field will be always invalid.")),this.setFieldInvalid(e,i);break}if("string"!=typeof s){this.setFieldInvalid(e,i);break}if(""===s)break;let t=+s;(Number.isNaN(t)||t>r)&&this.setFieldInvalid(e,i);break}case r_.MinNumber:{if(void 0===r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field is not defined. The field will be always invalid.")),this.setFieldInvalid(e,i);break}if("number"!=typeof r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field should be a number. The field will be always invalid.")),this.setFieldInvalid(e,i);break}if("string"!=typeof s){this.setFieldInvalid(e,i);break}if(""===s)break;let t=+s;(Number.isNaN(t)||t<r)&&this.setFieldInvalid(e,i);break}case r_.CustomRegexp:{let t;if(void 0===r)return console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field is not defined. This field will be always invalid.")),void this.setFieldInvalid(e,i);try{t=new RegExp(r)}catch(t){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] should be a valid regexp. This field will be always invalid.")),this.setFieldInvalid(e,i);break}let n=String(s);""===n||t.test(n)||this.setFieldInvalid(e,i);break}case r_.MinFilesCount:if(void 0===r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field is not defined. This field will be always invalid.")),this.setFieldInvalid(e,i);break}if("number"!=typeof r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field should be a number. The field will be always invalid.")),this.setFieldInvalid(e,i);break}Number.isFinite(null==s?void 0:s.length)&&s.length<r&&this.setFieldInvalid(e,i);break;case r_.MaxFilesCount:if(void 0===r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field is not defined. This field will be always invalid.")),this.setFieldInvalid(e,i);break}if("number"!=typeof r){console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field should be a number. The field will be always invalid.")),this.setFieldInvalid(e,i);break}Number.isFinite(null==s?void 0:s.length)&&s.length>r&&this.setFieldInvalid(e,i);break;case r_.Files:{if(void 0===r)return console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field is not defined. This field will be always invalid.")),void this.setFieldInvalid(e,i);if("object"!=typeof r)return console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field should be an object. This field will be always invalid.")),void this.setFieldInvalid(e,i);let t=r.files;if("object"!=typeof t)return console.error("Value for ".concat(i.rule," rule for [").concat(e,"] field should be an object with files array. This field will be always invalid.")),void this.setFieldInvalid(e,i);let n=(e,t)=>{let i=Number.isFinite(t.minSize)&&e.size<t.minSize,n=Number.isFinite(t.maxSize)&&e.size>t.maxSize,r=Array.isArray(t.names)&&!t.names.includes(e.name),s=Array.isArray(t.extensions)&&!t.extensions.includes(e.name.split(".")[e.name.split(".").length-1]),a=Array.isArray(t.types)&&!t.types.includes(e.type);return i||n||r||s||a};if("object"==typeof s&&null!==s)for(let r=0,a=s.length;r<a;++r){let a=s.item(r);if(!a||n(a,t)){this.setFieldInvalid(e,i);break}}break}default:{if("function"!=typeof i.validator)return console.error("Validator for custom rule for [".concat(e,"] field should be a function. This field will be always invalid.")),void this.setFieldInvalid(e,i);let t=i.validator(s,this.fields);if("boolean"!=typeof t&&"function"!=typeof t&&console.error("Validator return value for [".concat(e,"] field should be boolean or function. It will be cast to boolean.")),"function"==typeof t){if(!n){this.fields[e].asyncCheckPending=!1;let n=t();return rS(n)?n.then(t=>{t||this.setFieldInvalid(e,i)}).catch(()=>{this.setFieldInvalid(e,i)}):(console.error("Validator function for custom rule for [".concat(e,"] field should return a Promise. This field will be always invalid.")),void this.setFieldInvalid(e,i))}this.fields[e].asyncCheckPending=!0}t||this.setFieldInvalid(e,i)}}}validateField(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.fields[e];n.isValid=!0;let r=[];return[...n.rules].reverse().forEach(t=>{let s=this.validateFieldRule(e,n.elem,t,i);rS(s)&&r.push(s)}),n.isValid&&this.setFieldValid(e,null==(t=n.config)?void 0:t.successMessage),Promise.allSettled(r)}revalidateField(e){if("string"!=typeof e&&!rE(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");let t=this.getKeyByFieldSelector(e);return t&&this.fields[t]?new Promise(e=>{this.validateField(t,!0).finally(()=>{this.clearFieldStyle(t),this.clearFieldLabel(t),this.renderFieldError(t),e(!!this.fields[t].isValid)})}):(console.error("Field not found. Check the field selector."),Promise.reject())}validateGroup(e,t){let i=[];return[...t.rules].reverse().forEach(n=>{let r=this.validateGroupRule(e,t.elems,n);rS(r)&&i.push(r)}),Promise.allSettled(i)}focusInvalidField(){for(let e in this.fields){let t=this.fields[e];if(!t.isValid){setTimeout(()=>t.elem.focus(),0);break}}}afterSubmitValidation(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.renderErrors(e),this.globalConfig.focusInvalidField&&this.focusInvalidField()}validate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(t=>{let i=[];Object.keys(this.fields).forEach(e=>{let t=this.validateField(e);rS(t)&&i.push(t)}),Object.keys(this.groupFields).forEach(e=>{let t=this.groupFields[e],n=this.validateGroup(e,t);rS(n)&&i.push(n)}),i.length?Promise.allSettled(i).then(()=>{this.afterSubmitValidation(e),t(!0)}):(this.afterSubmitValidation(e),t(!1))})}revalidate(){return new Promise(e=>{this.validateHandler(void 0,!0).finally(()=>{this.globalConfig.focusInvalidField&&this.focusInvalidField(),e(this.isValid)})})}validateHandler(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.globalConfig.lockForm&&this.lockForm(),this.validate(t).finally(()=>{var t,i;this.globalConfig.lockForm&&this.unlockForm(),this.isValid?null==(t=this.onSuccessCallback)||t.call(this,e):null==(i=this.onFailCallback)||i.call(this,this.fields,this.groupFields)})}setForm(e){this.form=e,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}addListener(e,t,i){t.addEventListener(e,i),this.eventListeners.push({type:e,elem:t,func:i})}removeListener(e,t,i){t.removeEventListener(e,i),this.eventListeners=this.eventListeners.filter(i=>i.type!==e||i.elem!==t)}addField(e,t,i){let n;if("string"!=typeof e&&!rE(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");if(!(n="string"==typeof e?this.form.querySelector(e):e))throw Error("Field doesn't exist in the DOM! Please check the field selector.");if(!Array.isArray(t)||!t.length)throw Error("Rules argument should be an array and should contain at least 1 element.");t.forEach(e=>{if(!("rule"in e||"validator"in e||"plugin"in e))throw Error("Rules argument must contain at least one rule or validator property.");if(!(e.validator||e.plugin||e.rule&&Object.values(r_).includes(e.rule)))throw Error("Rule should be one of these types: ".concat(Object.values(r_).join(", "),". Provided value: ").concat(e.rule))});let r=this.setKeyByFieldSelector(e);return this.fields[r]={elem:n,rules:t,isValid:void 0,config:i},this.setListeners(n),this.isSubmitted&&this.validate(),this}removeField(e){if("string"!=typeof e&&!rE(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");let t=this.getKeyByFieldSelector(e);if(!t||!this.fields[t])return console.error("Field not found. Check the field selector."),this;let i=this.getListenerType(this.fields[t].elem.type);return this.removeListener(i,this.fields[t].elem,this.handlerChange),this.clearErrors(),delete this.fields[t],this}removeGroup(e){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");let t=this.getKeyByFieldSelector(e);return t&&this.groupFields[t]?(this.groupFields[t].elems.forEach(e=>{let t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange)}),this.clearErrors(),delete this.groupFields[t]):console.error("Group not found. Check the group selector."),this}addRequiredGroup(e,t,i,n){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");let r=this.form.querySelector(e);if(!r)throw Error("Group with ".concat(e," selector not found! Please check the group selector."));let s=r.querySelectorAll("input"),a=Array.from(s).filter(e=>{let t=((e,t)=>{let i=[...t].reverse();for(let t=0,n=i.length;t<n;++t){let n=i[t];for(let t in e){let i=e[t];if(i.groupElem===n)return[t,i]}}return null})(this.groupFields,(e=>{let t=e,i=[];for(;t;)i.unshift(t),t=t.parentNode;return i})(e));return!t||t[1].elems.find(t=>t!==e)}),o=this.setKeyByFieldSelector(e);return this.groupFields[o]={rules:[{rule:rv.Required,errorMessage:t,successMessage:n}],groupElem:r,elems:a,isDirty:!1,isValid:void 0,config:i},s.forEach(e=>{this.setListeners(e)}),this}getListenerType(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListeners(e){let t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange),this.addListener(t,e,this.handlerChange)}clearFieldLabel(e){var t,i;null==(t=this.errorLabels[e])||t.remove(),null==(i=this.successLabels[e])||i.remove()}clearFieldStyle(e){var t,i,n,r;let s=this.fields[e];Object.keys((null==(t=s.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle).forEach(e=>{s.elem.style[e]=""}),Object.keys((null==(i=s.config)?void 0:i.successFieldStyle)||this.globalConfig.successFieldStyle||{}).forEach(e=>{s.elem.style[e]=""}),s.elem.classList.remove(...rw((null==(n=s.config)?void 0:n.errorFieldCssClass)||this.globalConfig.errorFieldCssClass),...rw((null==(r=s.config)?void 0:r.successFieldCssClass)||this.globalConfig.successFieldCssClass))}clearErrors(){var e,t;for(let e in Object.keys(this.errorLabels).forEach(e=>this.errorLabels[e].remove()),Object.keys(this.successLabels).forEach(e=>this.successLabels[e].remove()),this.fields)this.clearFieldStyle(e);for(let i in this.groupFields){let n=this.groupFields[i];Object.keys((null==(e=n.config)?void 0:e.errorFieldStyle)||this.globalConfig.errorFieldStyle).forEach(e=>{n.elems.forEach(t=>{var i;t.style[e]="",t.classList.remove(...rw((null==(i=n.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))})}),Object.keys((null==(t=n.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle||{}).forEach(e=>{n.elems.forEach(t=>{var i;t.style[e]="",t.classList.remove(...rw((null==(i=n.config)?void 0:i.successFieldCssClass)||this.globalConfig.successFieldCssClass))})})}this.tooltips=[]}isTooltip(){return!!this.globalConfig.tooltip}lockForm(){let e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,i=e.length;t<i;++t)e[t].setAttribute("data-just-validate-fallback-disabled",e[t].disabled?"true":"false"),e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webkitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"}unlockForm(){let e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,i=e.length;t<i;++t)"true"!==e[t].getAttribute("data-just-validate-fallback-disabled")&&e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webkitFilter="",e[t].style.filter=""}renderTooltip(e,t,i){var n;let{top:r,left:s,width:a,height:o}=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=i||(null==(n=this.globalConfig.tooltip)?void 0:n.position);switch(c){case"left":t.style.top=r+o/2-l.height/2+"px",t.style.left=s-l.width-5+"px";break;case"top":t.style.top=r-l.height-5+"px",t.style.left=s+a/2-l.width/2+"px";break;case"right":t.style.top=r+o/2-l.height/2+"px",t.style.left="".concat(s+a+5,"px");break;case"bottom":t.style.top="".concat(r+o+5,"px"),t.style.left=s+a/2-l.width/2+"px"}return t.dataset.direction=c,{refresh:()=>{this.renderTooltip(e,t,i)}}}createErrorLabelElem(e,t,i){let n=document.createElement("div");n.innerHTML=t;let r=this.isTooltip()?null==i?void 0:i.errorLabelStyle:(null==i?void 0:i.errorLabelStyle)||this.globalConfig.errorLabelStyle;return Object.assign(n.style,r),n.classList.add(...rw((null==i?void 0:i.errorLabelCssClass)||this.globalConfig.errorLabelCssClass),"just-validate-error-label"),this.isTooltip()&&(n.dataset.tooltip="true"),this.globalConfig.testingMode&&(n.dataset.testId="error-label-".concat(e)),this.errorLabels[e]=n,n}createSuccessLabelElem(e,t,i){if(void 0===t)return null;let n=document.createElement("div");n.innerHTML=t;let r=(null==i?void 0:i.successLabelStyle)||this.globalConfig.successLabelStyle;return Object.assign(n.style,r),n.classList.add(...rw((null==i?void 0:i.successLabelCssClass)||this.globalConfig.successLabelCssClass),"just-validate-success-label"),this.globalConfig.testingMode&&(n.dataset.testId="success-label-".concat(e)),this.successLabels[e]=n,n}renderErrorsContainer(e,t){let i=t||this.globalConfig.errorsContainer;if("string"==typeof i){let t=this.form.querySelector(i);if(t)return t.appendChild(e),!0;console.error("Error container with ".concat(i," selector not found. Errors will be rendered as usual"))}return i instanceof Element?(i.appendChild(e),!0):(void 0!==i&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}renderGroupLabel(e,t,i,n){!n&&this.renderErrorsContainer(t,i)||e.appendChild(t)}renderFieldLabel(e,t,i,n){var r,s,a,o,l,c,u;if(!(!n&&this.renderErrorsContainer(t,i))){if("checkbox"===e.type||"radio"===e.type){let i=document.querySelector('label[for="'.concat(e.getAttribute("id"),'"]'));"label"===(null==(s=null==(r=e.parentElement)?void 0:r.tagName)?void 0:s.toLowerCase())?null==(o=null==(a=e.parentElement)?void 0:a.parentElement)||o.appendChild(t):i?null==(l=i.parentElement)||l.appendChild(t):null==(c=e.parentElement)||c.appendChild(t)}else null==(u=e.parentElement)||u.appendChild(t)}}showLabels(e,t){Object.keys(e).forEach((i,n)=>{let r=e[i],s=this.getKeyByFieldSelector(i);if(!s||!this.fields[s])return void console.error("Field not found. Check the field selector.");let a=this.fields[s];a.isValid=!t,this.clearFieldStyle(s),this.clearFieldLabel(s),this.renderFieldError(s,r),0===n&&this.globalConfig.focusInvalidField&&setTimeout(()=>a.elem.focus(),0)})}showErrors(e){if("object"!=typeof e)throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(e,!0)}showSuccessLabels(e){if("object"!=typeof e)throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(e,!1)}renderFieldError(e,t){var i,n,r,s,a,o;let l=this.fields[e];if(void 0===l.isValid)return;if(l.isValid){if(!l.asyncCheckPending){let r=this.createSuccessLabelElem(e,void 0!==t?t:l.successMessage,l.config);r&&this.renderFieldLabel(l.elem,r,null==(i=l.config)?void 0:i.errorsContainer,!0),l.elem.classList.add(...rw((null==(n=l.config)?void 0:n.successFieldCssClass)||this.globalConfig.successFieldCssClass))}return}this.isValid=!1,l.elem.classList.add(...rw((null==(r=l.config)?void 0:r.errorFieldCssClass)||this.globalConfig.errorFieldCssClass));let c=this.createErrorLabelElem(e,void 0!==t?t:l.errorMessage,l.config);this.renderFieldLabel(l.elem,c,null==(s=l.config)?void 0:s.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(l.elem,c,null==(o=null==(a=l.config)?void 0:a.tooltip)?void 0:o.position))}renderGroupError(e){var t,i,n,r;let s=this.groupFields[e];if(void 0===s.isValid)return;if(s.isValid){s.elems.forEach(e=>{var t,i;Object.assign(e.style,(null==(t=s.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle),e.classList.add(...rw((null==(i=s.config)?void 0:i.successFieldCssClass)||this.globalConfig.successFieldCssClass))});let i=this.createSuccessLabelElem(e,s.successMessage,s.config);return void(i&&this.renderGroupLabel(s.groupElem,i,null==(t=s.config)?void 0:t.errorsContainer,!0))}this.isValid=!1,s.elems.forEach(e=>{var t,i;Object.assign(e.style,(null==(t=s.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle),e.classList.add(...rw((null==(i=s.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))});let a=this.createErrorLabelElem(e,s.errorMessage,s.config);this.renderGroupLabel(s.groupElem,a,null==(i=s.config)?void 0:i.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(s.groupElem,a,null==(r=null==(n=s.config)?void 0:n.tooltip)?void 0:r.position))}renderErrors(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isSubmitted||e||this.globalConfig.validateBeforeSubmitting){for(let e in this.clearErrors(),this.isValid=!0,this.groupFields)this.renderGroupError(e);for(let e in this.fields)this.renderFieldError(e)}}destroy(){this.eventListeners.forEach(e=>{this.removeListener(e.type,e.elem,e.func)}),Object.keys(this.customStyleTags).forEach(e=>{this.customStyleTags[e].remove()}),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}refresh(){this.destroy(),this.form?(this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach(e=>{let t=this.getFieldSelectorByKey(e);t&&this.addField(t,[...this.fields[e].rules],this.fields[e].config)})):console.error("Cannot initialize the library! Form is not defined")}setCurrentLocale(e){"string"==typeof e||void 0===e?(this.currentLocale=e,this.isSubmitted&&this.validate()):console.error("Current locale should be a string")}onSuccess(e){return this.onSuccessCallback=e,this}onFail(e){return this.onFailCallback=e,this}constructor(e,t,i){rp(this,"form",null),rp(this,"fields",{}),rp(this,"groupFields",{}),rp(this,"errors",{}),rp(this,"isValid",!1),rp(this,"isSubmitted",!1),rp(this,"globalConfig",rC),rp(this,"errorLabels",{}),rp(this,"successLabels",{}),rp(this,"eventListeners",[]),rp(this,"dictLocale",rT),rp(this,"currentLocale","en"),rp(this,"customStyleTags",{}),rp(this,"onSuccessCallback"),rp(this,"onFailCallback"),rp(this,"tooltips",[]),rp(this,"lastScrollPosition"),rp(this,"isScrollTick"),rp(this,"fieldIds",new Map),rp(this,"getKeyByFieldSelector",e=>this.fieldIds.get(e)),rp(this,"getFieldSelectorByKey",e=>{for(let[t,i]of this.fieldIds)if(e===i)return t}),rp(this,"setKeyByFieldSelector",e=>{if(this.fieldIds.has(e))return this.fieldIds.get(e);let t=String(this.fieldIds.size+1);return this.fieldIds.set(e,t),t}),rp(this,"refreshAllTooltips",()=>{this.tooltips.forEach(e=>{e.refresh()})}),rp(this,"handleDocumentScroll",()=>{this.lastScrollPosition=window.scrollY,this.isScrollTick||(window.requestAnimationFrame(()=>{this.refreshAllTooltips(),this.isScrollTick=!1}),this.isScrollTick=!0)}),rp(this,"formSubmitHandler",e=>{e.preventDefault(),this.isSubmitted=!0,this.validateHandler(e)}),rp(this,"handleFieldChange",e=>{let t;for(let i in this.fields)if(this.fields[i].elem===e){t=i;break}t&&this.validateField(t,!0)}),rp(this,"handleGroupChange",e=>{let t,i;for(let n in this.groupFields){let r=this.groupFields[n];if(r.elems.find(t=>t===e)){t=r,i=n;break}}t&&i&&this.validateGroup(i,t)}),rp(this,"handlerChange",e=>{e.target&&(this.handleFieldChange(e.target),this.handleGroupChange(e.target),this.renderErrors())}),this.initialize(e,t,i)}}class rx{init(){this.observer=new MutationObserver(e=>this.mutationCallback(e)),this.observe()}observe(){this.observer.observe(this.targetNode,{attributes:!0})}disconnect(){this.observer.disconnect()}mutationCallback(e){for(let t of e)if("attributes"===t.type&&"class"===t.attributeName){let e=t.target.classList.contains(this.classToWatch);(this.ignoreToggle||this.lastClassState!==e)&&(this.lastClassState=e,e?"function"==typeof this.classAddedCallback&&this.classAddedCallback():"function"==typeof this.classRemovedCallback&&this.classRemovedCallback())}}constructor(e,t,i,n,r){this.targetNode=e,this.classToWatch=t,this.classAddedCallback=i,this.classRemovedCallback=n,this.observer=null,this.lastClassState=e.classList.contains(this.classToWatch),this.ignoreToggle=!!r,this.init()}}class rI{init(){this.observer=new MutationObserver(e=>this.mutationCallback(e)),this.observe()}observe(){this.observer.observe(this.targetNode,{childList:!0,subtree:!0})}disconnect(){this.observer.disconnect()}mutationCallback(e){for(let t of e)"childList"===t.type&&(t.addedNodes.forEach(e=>{this._callbackExec(e)}),t.removedNodes.forEach(e=>{this._callbackExec(e,!0)}))}_callbackExec(e,t){let i=e.matches&&e.matches(this.contentSelector)?[e]:e.querySelectorAll?e.querySelectorAll(this.contentSelector):null,n=t&&"function"==typeof this.contentRemovedCallback?this.contentRemovedCallback:"function"==typeof this.contentAddedCallback?this.contentAddedCallback:null;i&&n&&i.forEach(e=>n(e))}constructor(e,t,i,n){this.targetNode=e,this.contentSelector=t,this.contentAddedCallback=i,this.contentRemovedCallback=n,this.observer=null,this.init()}}let rA={errorFieldCssClass:"is-invalid",errorLabelCssClass:"just-validate-error-label"},rL="justvalidatebi";class rO extends t3{static get NAME(){return"input"}_bindEvents(){"file"===this._element.getAttribute("type")&&tZ.on(this._element,"change.bs.input",()=>{this._handleFileDescription()})}_handleFileDescription(){let e=[],t="";Array.from(this._element.files).forEach(t=>{let i=Math.round(parseInt(t.size,10)/1024);e.push(t.name+" ("+i+"kb)")}),this._element.files.length>1&&(t=this._element.files.length+" file da caricare: ");let i=t8.findOne('label[for="'+this._element.getAttribute("id")+'"] label.form-file-name',this._element);i&&(i.innerText=t+e.join("; "))}constructor(e){super(e),this._label=new ia(e),this._bindEvents()}}let rP=["select",'input[data-bs-input][type="password"]',"input.input-password[data-bs-input]",'input[data-bs-autocomplete][type="search"]','input[type="time"]','input[type="radio"]','input[type="checkbox"]'];"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("input, textarea, label").forEach(function(e){(e=>{let t=!!rP.find(t=>e.matches(t)),i=!("number"!==e.getAttribute("type")||!e.parentNode.querySelector('button[class^="input-number-"]'));t||i||rO.getOrCreateInstance(e)})(ia.getInputFromLabel(e)||e)})});var rD="undefined"!=typeof globalThis?globalThis:window;function rN(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function rM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rR(e,t){return e(t={exports:{}},t.exports),t.exports}let rF=rM(rR(function(e,t){var i;window,i=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,(function(t){return e[t]}).bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=37)}([function(e,t,i){var n=i(1),r=i(6),s=i(7),a=i(16),o=i(18),l="prototype",c=function(e,t,i){var u,h,d,p,f=e&c.F,m=e&c.G,g=e&c.S,y=e&c.P,_=e&c.B,v=m?n:g?n[t]||(n[t]={}):(n[t]||{})[l],b=m?r:r[t]||(r[t]={}),T=b[l]||(b[l]={});for(u in m&&(i=t),i)d=((h=!f&&v&&void 0!==v[u])?v:i)[u],p=_&&h?o(d,n):y&&"function"==typeof d?o(Function.call,d):d,v&&a(v,u,d,e&c.U),b[u]!=d&&s(b,u,p),y&&T[u]!=d&&(T[u]=d)};n.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var i=e.exports=window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){e.exports=!i(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){i.r(t),i.d(t,"h",function(){return o}),i.d(t,"createElement",function(){return o}),i.d(t,"cloneElement",function(){return u}),i.d(t,"Component",function(){return N}),i.d(t,"render",function(){return M}),i.d(t,"rerender",function(){return f}),i.d(t,"options",function(){return r});var n=function(){},r={},s=[],a=[];function o(e,t){var i,o,l,c,u=a;for(c=arguments.length;2<c--;)s.push(arguments[c]);for(t&&null!=t.children&&(s.length||s.push(t.children),delete t.children);s.length;)if((o=s.pop())&&void 0!==o.pop)for(c=o.length;c--;)s.push(o[c]);else"boolean"==typeof o&&(o=null),(l="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o=String(o):"string"!=typeof o&&(l=!1)),l&&i?u[u.length-1]+=o:u===a?u=[o]:u.push(o),i=l;var h=new n;return h.nodeName=e,h.children=u,h.attributes=null==t?void 0:t,h.key=null==t?void 0:t.key,void 0!==r.vnode&&r.vnode(h),h}function l(e,t){for(var i in t)e[i]=t[i];return e}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(e,t){return o(e.nodeName,l(l({},e.attributes),t),2<arguments.length?[].slice.call(arguments,2):e.children)}var h=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,d=[];function p(e){!e._dirty&&(e._dirty=!0)&&1==d.push(e)&&(r.debounceRendering||c)(f)}function f(){var e,t=d;for(d=[];e=t.pop();)e._dirty&&P(e)}function m(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function g(e){var t=l({},e.attributes);t.children=e.children;var i=e.nodeName.defaultProps;if(void 0!==i)for(var n in i)void 0===t[n]&&(t[n]=i[n]);return t}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,i,n,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)i&&i(null),n&&n(e);else if("class"!==t||r){if("style"===t){if(n&&"string"!=typeof n&&"string"!=typeof i||(e.style.cssText=n||""),n&&"object"==typeof n){if("string"!=typeof i)for(var s in i)s in n||(e.style[s]="");for(var s in n)e.style[s]="number"==typeof n[s]&&!1===h.test(s)?n[s]+"px":n[s]}}else if("dangerouslySetInnerHTML"===t)n&&(e.innerHTML=n.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),n?i||e.addEventListener(t,v,a):e.removeEventListener(t,v,a),(e._listeners||(e._listeners={}))[t]=n}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==n?"":n}catch(e){}null!=n&&!1!==n||"spellcheck"==t||e.removeAttribute(t)}else{var o=r&&t!==(t=t.replace(/^xlink:?/,""));null==n||!1===n?o?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof n&&(o?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):e.setAttribute(t,n))}}else e.className=n||""}function v(e){return this._listeners[e.type](r.event&&r.event(e)||e)}var b=[],T=0,S=!1,w=!1;function E(){for(var e;e=b.pop();)r.afterMount&&r.afterMount(e),e.componentDidMount&&e.componentDidMount()}function C(e,t,i,n,r){var s,a,o=e,l=S;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),k(e,!0))),o.__preactattr_=!0,o;var c=t.nodeName;if("function"==typeof c)return function(e,t,i,n){for(var r=e&&e._component,s=r,a=e,o=r&&e._componentConstructor===t.nodeName,l=o,c=g(t);r&&!l&&(r=r._parentComponent);)l=r.constructor===t.nodeName;return r&&l&&(!n||r._component)?(O(r,c,3,i,n),e=r.base):(s&&!o&&(D(s),e=a=null),r=A(t.nodeName,c,i),e&&!r.nextBase&&(r.nextBase=e,a=null),O(r,c,1,i,n),e=r.base,a&&e!==a&&(a._component=null,k(a,!1))),e}(e,t,i,n);if(S="svg"===c||"foreignObject"!==c&&S,c=String(c),(!e||!m(e,c))&&(s=c,(a=S?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,o=a,e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),k(e,!0)}var u=o.firstChild,h=o.__preactattr_,d=t.children;if(null==h){h=o.__preactattr_={};for(var p=o.attributes,f=p.length;f--;)h[p[f].name]=p[f].value}return!w&&d&&1===d.length&&"string"==typeof d[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=d[0]&&(u.nodeValue=d[0]):(d&&d.length||null!=u)&&function(e,t,i,n,r){var s,a,o,l,c,u,h,d=e.childNodes,p=[],f={},g=0,_=0,v=d.length,b=0,T=t?t.length:0;if(0!==v)for(var S=0;S<v;S++){var w=d[S],E=w.__preactattr_;null!=(s=T&&E?w._component?w._component.__key:E.key:null)?(g++,f[s]=w):(E||(void 0!==w.splitText?!r||w.nodeValue.trim():r))&&(p[b++]=w)}if(0!==T)for(S=0;S<T;S++){if(u=null,null!=(s=(c=t[S]).key))g&&void 0!==f[s]&&(u=f[s],f[s]=void 0,g--);else if(_<b){for(a=_;a<b;a++)if(void 0!==p[a]&&(h=o=p[a],"string"==typeof c||"number"==typeof c?void 0!==h.splitText:"string"==typeof c.nodeName?!h._componentConstructor&&m(h,c.nodeName):r||h._componentConstructor===c.nodeName)){u=o,p[a]=void 0,a===b-1&&b--,a===_&&_++;break}}u=C(u,c,i,n),l=d[S],u&&u!==e&&u!==l&&(null==l?e.appendChild(u):u===l.nextSibling?y(l):e.insertBefore(u,l))}if(g)for(var S in f)void 0!==f[S]&&k(f[S],!1);for(;_<=b;)void 0!==(u=p[b--])&&k(u,!1)}(o,d,i,n,w||null!=h.dangerouslySetInnerHTML),function(e,t,i){var n;for(n in i)t&&null!=t[n]||null==i[n]||_(e,n,i[n],i[n]=void 0,S);for(n in t)"children"===n||"innerHTML"===n||n in i&&t[n]===("value"===n||"checked"===n?e[n]:i[n])||_(e,n,i[n],i[n]=t[n],S)}(o,t.attributes,h),S=l,o}function k(e,t){var i=e._component;i?D(i):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||y(e),x(e))}function x(e){for(e=e.lastChild;e;){var t=e.previousSibling;k(e,!0),e=t}}var I=[];function A(e,t,i){var n,r=I.length;for(e.prototype&&e.prototype.render?(n=new e(t,i),N.call(n,t,i)):((n=new N(t,i)).constructor=e,n.render=L);r--;)if(I[r].constructor===e)return n.nextBase=I[r].nextBase,I.splice(r,1),n;return n}function L(e,t,i){return this.constructor(e,i)}function O(e,t,i,n,s){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||s?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,n)),n&&n!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=n),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==i&&(1!==i&&!1===r.syncComponentUpdates&&e.base?p(e):P(e,1,s)),e.__ref&&e.__ref(e))}function P(e,t,i,n){if(!e._disable){var s,a,o,c=e.props,u=e.state,h=e.context,d=e.prevProps||c,p=e.prevState||u,f=e.prevContext||h,m=e.base,y=e.nextBase,_=m||y,v=e._component,x=!1,I=f;if(e.constructor.getDerivedStateFromProps&&(u=l(l({},u),e.constructor.getDerivedStateFromProps(c,u)),e.state=u),m&&(e.props=d,e.state=p,e.context=f,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,u,h)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(c,u,h),e.props=c,e.state=u,e.context=h),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!x){s=e.render(c,u,h),e.getChildContext&&(h=l(l({},h),e.getChildContext())),m&&e.getSnapshotBeforeUpdate&&(I=e.getSnapshotBeforeUpdate(d,p));var L,N,M,R,F,B,U,j=s&&s.nodeName;if("function"==typeof j){var q=g(s);(a=v)&&a.constructor===j&&q.key==a.__key?O(a,q,1,h,!1):(B=a,e._component=a=A(j,q,h),a.nextBase=a.nextBase||y,a._parentComponent=e,O(a,q,0,h,!1),P(a,1,i,!0)),U=a.base}else o=_,(B=v)&&(o=e._component=null),(_||1===t)&&(o&&(o._component=null),L=o,N=h,M=i||!m,R=_&&_.parentNode,T++||(S=null!=R&&void 0!==R.ownerSVGElement,w=null!=L&&!("__preactattr_"in L)),F=C(L,s,N,M,!0),R&&F.parentNode!==R&&R.appendChild(F),--T||(w=!1),U=F);if(_&&U!==_&&a!==v){var H=_.parentNode;H&&U!==H&&(H.replaceChild(U,_),B||(_._component=null,k(_,!1)))}if(B&&D(B),(e.base=U)&&!n){for(var V=e,z=e;z=z._parentComponent;)(V=z).base=U;U._component=V,U._componentConstructor=V.constructor}}for(!m||i?b.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(d,p,I),r.afterUpdate&&r.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);T||n||E()}}function D(e){r.beforeUnmount&&r.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var i=e._component;i?D(i):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),y(e.nextBase=t),I.push(e),x(t)),e.__ref&&e.__ref(null)}function N(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function M(e,t,i){var n,r;return n={},T++||(S=null!=t&&void 0!==t.ownerSVGElement,w=null!=i&&!("__preactattr_"in i)),r=C(i,e,n,!1,!1),t&&r.parentNode!==t&&t.appendChild(r),--T||(w=!1,E()),r}l(N.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),p(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),P(this,2)},render:function(){}}),t.default={h:o,createElement:o,cloneElement:u,Component:N,render:M,rerender:f,options:r}},function(e,t){var i=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},function(e,t,i){var n=i(8),r=i(40);e.exports=i(3)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(9),r=i(38),s=i(39),a=Object.defineProperty;t.f=i(3)?Object.defineProperty:function(e,t,i){if(n(e),t=s(t,!0),n(i),r)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(2);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t,i){var n=i(22);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(4);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,i){var n=i(0);n(n.S+n.F,"Object",{assign:i(41)})},function(e,t,i){var n=i(2),r=i(1).document,s=n(r)&&n(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},function(e,t,i){var n=i(1),r=i(7),s=i(17),a=i(10)("src"),o="toString",l=Function[o],c=(""+l).split(o);i(6).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,i,o){var l="function"==typeof i;l&&(s(i,"name")||r(i,"name",t)),e[t]!==i&&(l&&(s(i,a)||r(i,a,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=i:o?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,o,function(){return"function"==typeof this&&this[a]||l.call(this)})},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(19);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(42),r=i(28);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,i){var n=i(11),r=i(12);e.exports=function(e){return n(r(e))}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(21),r=i(24),s=i(43);e.exports=function(e){return function(t,i,a){var o,l=n(t),c=r(l.length),u=s(a,c);if(e&&i!=i){for(;u<c;)if((o=l[u++])!=o)return!0}else for(;u<c;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},function(e,t,i){var n=i(25),r=Math.min;e.exports=function(e){return 0<e?r(n(e),0x1fffffffffffff):0}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:i)(e)}},function(e,t,i){var n=i(27)("keys"),r=i(10);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(6),r=i(1),s="__core-js_shared__",a=r[s]||(r[s]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(44)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n=i(12);e.exports=function(e){return Object(n(e))}},function(e,t,i){var n=i(8).f,r=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in r||i(3)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},function(e,t,i){var n=i(0),r=i(32)(1);n(n.P+!i(13)([].map,!0)*n.F,"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,i){var n=i(18),r=i(11),s=i(29),a=i(24),o=i(47);e.exports=function(e,t){var i=1==e,l=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h,p=t||o;return function(t,o,f){for(var m,g,y=s(t),_=r(y),v=n(o,f,3),b=a(_.length),T=0,S=i?p(t,b):l?p(t,0):void 0;T<b;T++)if((d||T in _)&&(g=v(m=_[T],T,y),e)){if(i)S[T]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return T;case 2:S.push(m)}else if(u)return!1}return h?-1:c||u?u:S}}},function(e,t,i){var n=i(22);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(27)("wks"),r=i(10),s=i(1).Symbol,a="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=a&&s[e]||(a?s:r)("Symbol."+e))}).store=n},function(e,t,i){var n=i(0),r=i(23)(!1),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!i(13)(s)),"Array",{indexOf:function(e){return a?s.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,i){var n=i(0);n(n.S,"Object",{create:i(52)})},function(e,t,i){t.__esModule=!0,t.default=void 0,i(14),i(30),i(31),i(35),i(49),i(50);var n,r=i(5),s=(n=i(51))&&n.__esModule?n:{default:n};function a(e){if(!e.element)throw Error("element is not defined");if(!e.id)throw Error("id is not defined");if(!e.source)throw Error("source is not defined");Array.isArray(e.source)&&(e.source=o(e.source)),(0,r.render)((0,r.createElement)(s.default,e),e.element)}var o=function(e){return function(t,i){i(e.filter(function(e){return -1!==e.toLowerCase().indexOf(t.toLowerCase())}))}};a.enhanceSelectElement=function(e){if(!e.selectElement)throw Error("selectElement is not defined");if(!e.source){var t=[].filter.call(e.selectElement.options,function(t){return t.value||e.preserveNullOptions});e.source=t.map(function(e){return e.textContent||e.innerText})}if(e.onConfirm=e.onConfirm||function(t){var i=[].filter.call(e.selectElement.options,function(e){return(e.textContent||e.innerText)===t})[0];i&&(i.selected=!0)},e.selectElement.value||void 0===e.defaultValue){var i=e.selectElement.options[e.selectElement.options.selectedIndex];e.defaultValue=i.textContent||i.innerText}void 0===e.name&&(e.name=""),void 0===e.id&&(void 0===e.selectElement.id?e.id="":e.id=e.selectElement.id),void 0===e.autoselect&&(e.autoselect=!0);var n=document.createElement("div");e.selectElement.parentNode.insertBefore(n,e.selectElement),a(Object.assign({},e,{element:n})),e.selectElement.style.display="none",e.selectElement.id=e.selectElement.id+"-select"},t.default=a},function(e,t,i){e.exports=!i(3)&&!i(4)(function(){return 7!=Object.defineProperty(i(15)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(2);e.exports=function(e,t){var i,r;if(!n(e))return e;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e))||"function"==typeof(i=e.valueOf)&&!n(r=i.call(e))||!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(20),r=i(45),s=i(46),a=i(29),o=i(11),l=Object.assign;e.exports=!l||i(4)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var i=a(e),l=arguments.length,c=1,u=r.f,h=s.f;c<l;)for(var d,p=o(arguments[c++]),f=u?n(p).concat(u(p)):n(p),m=f.length,g=0;g<m;)h.call(p,d=f[g++])&&(i[d]=p[d]);return i}:l},function(e,t,i){var n=i(17),r=i(21),s=i(23)(!1),a=i(26)("IE_PROTO");e.exports=function(e,t){var i,o=r(e),l=0,c=[];for(i in o)i!=a&&n(o,i)&&c.push(i);for(;t.length>l;)n(o,i=t[l++])&&(~s(c,i)||c.push(i));return c}},function(e,t,i){var n=i(25),r=Math.max,s=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):s(e,t)}},function(e,t){e.exports=!1},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f=({}).propertyIsEnumerable},function(e,t,i){var n=i(48);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){var n=i(2),r=i(33),s=i(34)("species");e.exports=function(e){var t;return r(e)&&("function"==typeof(t=e.constructor)&&(t===Array||r(t.prototype))&&(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){var n=i(0),r=i(32)(2);n(n.P+!i(13)([].filter,!0)*n.F,"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,i){var n=i(0);n(n.S,"Array",{isArray:i(33)})},function(e,t,i){t.__esModule=!0,t.default=void 0,i(14),i(36),i(30),i(31),i(35),i(55),i(58);var n=i(5),r=a(i(60)),s=a(i(61));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c={13:"enter",27:"escape",32:"space",38:"up",40:"down"};function u(){return"undefined"!=typeof navigator&&!(!navigator.userAgent.match(/(iPod|iPhone|iPad)/g)||!navigator.userAgent.match(/AppleWebKit/g))}var h=function(e){function t(t){var i;return(i=e.call(this,t)||this).elementReferences={},i.state={focused:null,hovered:null,menuOpen:!1,options:t.defaultValue?[t.defaultValue]:[],query:t.defaultValue,validChoiceMade:!1,selected:null,ariaHint:!0},i.handleComponentBlur=i.handleComponentBlur.bind(l(l(i))),i.handleKeyDown=i.handleKeyDown.bind(l(l(i))),i.handleUpArrow=i.handleUpArrow.bind(l(l(i))),i.handleDownArrow=i.handleDownArrow.bind(l(l(i))),i.handleEnter=i.handleEnter.bind(l(l(i))),i.handlePrintableKey=i.handlePrintableKey.bind(l(l(i))),i.handleListMouseLeave=i.handleListMouseLeave.bind(l(l(i))),i.handleOptionBlur=i.handleOptionBlur.bind(l(l(i))),i.handleOptionClick=i.handleOptionClick.bind(l(l(i))),i.handleOptionFocus=i.handleOptionFocus.bind(l(l(i))),i.handleOptionMouseDown=i.handleOptionMouseDown.bind(l(l(i))),i.handleOptionMouseEnter=i.handleOptionMouseEnter.bind(l(l(i))),i.handleInputBlur=i.handleInputBlur.bind(l(l(i))),i.handleInputChange=i.handleInputChange.bind(l(l(i))),i.handleInputFocus=i.handleInputFocus.bind(l(l(i))),i.pollInputElement=i.pollInputElement.bind(l(l(i))),i.getDirectInputChanges=i.getDirectInputChanges.bind(l(l(i))),i}t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var i=t.prototype;return i.isQueryAnOption=function(e,t){var i=this;return -1!==t.map(function(e){return i.templateInputValue(e).toLowerCase()}).indexOf(e.toLowerCase())},i.componentDidMount=function(){this.pollInputElement()},i.componentWillUnmount=function(){clearTimeout(this.$pollInput)},i.pollInputElement=function(){var e=this;this.getDirectInputChanges(),this.$pollInput=setTimeout(function(){e.pollInputElement()},100)},i.getDirectInputChanges=function(){var e=this.elementReferences[-1];e&&e.value!==this.state.query&&this.handleInputChange({target:{value:e.value}})},i.componentDidUpdate=function(e,t){var i=this.state.focused,n=t.focused!==i;n&&null!==i&&this.elementReferences[i].focus();var r=n&&null===t.focused;if(-1===i&&r){var s=this.elementReferences[i];s.setSelectionRange(0,s.value.length)}},i.hasAutoselect=function(){return!u()&&this.props.autoselect},i.templateInputValue=function(e){var t=this.props.templates&&this.props.templates.inputValue;return t?t(e):e},i.templateSuggestion=function(e){var t=this.props.templates&&this.props.templates.suggestion;return t?t(e):e},i.handleComponentBlur=function(e){var t,i=this.state,n=i.options,r=i.query,s=i.selected;this.props.confirmOnBlur?(t=e.query||r,this.props.onConfirm(n[s])):t=r,this.setState({focused:null,menuOpen:e.menuOpen||!1,query:t,selected:null,validChoiceMade:this.isQueryAnOption(t,n)})},i.handleListMouseLeave=function(e){this.setState({hovered:null})},i.handleOptionBlur=function(e,t){var i=this.state,n=i.focused,r=i.menuOpen,s=i.options,a=i.selected,o=null===e.relatedTarget,l=e.relatedTarget===this.elementReferences[-1],c=n!==t&&-1!==n;if(!c&&o||!c&&!l){var h=r&&u();this.handleComponentBlur({menuOpen:h,query:this.templateInputValue(s[a])})}},i.handleInputBlur=function(e){var t=this.state,i=t.focused,n=t.menuOpen,r=t.options,s=t.query,a=t.selected;if(-1===i){var o=n&&u(),l=u()?s:this.templateInputValue(r[a]);this.handleComponentBlur({menuOpen:o,query:l})}},i.handleInputChange=function(e){var t=this,i=this.props,n=i.minLength,r=i.source,s=i.showAllValues,a=this.hasAutoselect(),o=e.target.value,l=0===o.length,c=this.state.query.length!==o.length,u=o.length>=n;this.setState({query:o,ariaHint:l}),s||!l&&c&&u?r(o,function(e){var i=0<e.length;t.setState({menuOpen:i,options:e,selected:a&&i?0:-1,validChoiceMade:!1})}):!l&&u||this.setState({menuOpen:!1,options:[]})},i.handleInputClick=function(e){this.handleInputChange(e)},i.handleInputFocus=function(e){var t=this.state,i=t.query,n=t.validChoiceMade,r=t.options,s=this.props.minLength,a=!n&&i.length>=s&&0<r.length;a?this.setState(function(e){var t=e.menuOpen;return{focused:-1,menuOpen:a||t,selected:-1}}):this.setState({focused:-1})},i.handleOptionFocus=function(e){this.setState({focused:e,hovered:null,selected:e})},i.handleOptionMouseEnter=function(e,t){u()||this.setState({hovered:t})},i.handleOptionClick=function(e,t){var i=this.state.options[t],n=this.templateInputValue(i);this.props.onConfirm(i),this.setState({focused:-1,hovered:null,menuOpen:!1,query:n,selected:-1,validChoiceMade:!0}),this.forceUpdate()},i.handleOptionMouseDown=function(e){e.preventDefault()},i.handleUpArrow=function(e){e.preventDefault();var t=this.state,i=t.menuOpen,n=t.selected;-1!==n&&i&&this.handleOptionFocus(n-1)},i.handleDownArrow=function(e){var t=this;if(e.preventDefault(),this.props.showAllValues&&!1===this.state.menuOpen)e.preventDefault(),this.props.source("",function(e){t.setState({menuOpen:!0,options:e,selected:0,focused:0,hovered:null})});else if(!0===this.state.menuOpen){var i=this.state,n=i.menuOpen,r=i.options,s=i.selected;s!==r.length-1&&n&&this.handleOptionFocus(s+1)}},i.handleSpace=function(e){var t=this;this.props.showAllValues&&!1===this.state.menuOpen&&""===this.state.query&&(e.preventDefault(),this.props.source("",function(e){t.setState({menuOpen:!0,options:e})})),-1!==this.state.focused&&(e.preventDefault(),this.handleOptionClick(e,this.state.focused))},i.handleEnter=function(e){this.state.menuOpen&&(e.preventDefault(),0<=this.state.selected&&this.handleOptionClick(e,this.state.selected))},i.handlePrintableKey=function(e){var t=this.elementReferences[-1];e.target===t||t.focus()},i.handleKeyDown=function(e){switch(c[e.keyCode]){case"up":this.handleUpArrow(e);break;case"down":this.handleDownArrow(e);break;case"space":this.handleSpace(e);break;case"enter":this.handleEnter(e);break;case"escape":this.handleComponentBlur({query:this.state.query});break;default:var t;(47<(t=e.keyCode)&&t<58||32===t||8===t||64<t&&t<91||95<t&&t<112||185<t&&t<193||218<t&&t<223)&&this.handlePrintableKey(e)}},i.render=function(){var e,t=this,i=this.props,s=i.cssNamespace,a=i.displayMenu,l=i.id,c=i.minLength,h=i.name,d=i.placeholder,p=i.required,f=i.showAllValues,m=i.tNoResults,g=i.tStatusQueryTooShort,y=i.tStatusNoResults,_=i.tStatusSelectedOption,v=i.tStatusResults,b=i.tAssistiveHint,T=i.dropdownArrow,S=this.state,w=S.focused,E=S.hovered,C=S.menuOpen,k=S.options,x=S.query,I=S.selected,A=S.ariaHint,L=S.validChoiceMade,O=this.hasAutoselect(),P=0===k.length,D=0!==x.length,N=x.length>=c,M=this.props.showNoOptionsFound&&-1===w&&P&&D&&N,R=s+"__input",F=this.props.showAllValues?" "+R+"--show-all-values":" "+R+"--default",B=s+"__menu",U=B+"--"+(C||M?"visible":"hidden"),j=s+"__option",q=this.templateInputValue(k[I]),H=q&&0===q.toLowerCase().indexOf(x.toLowerCase())&&O?x+q.substr(x.length):"",V=l+"__assistiveHint",z=A?{"aria-describedby":V}:null;return f&&"string"==typeof(e=T({className:s+"__dropdown-arrow-down"}))&&(e=(0,n.createElement)("div",{className:s+"__dropdown-arrow-down-wrapper",dangerouslySetInnerHTML:{__html:e}})),(0,n.createElement)("div",{className:s+"__wrapper",onKeyDown:this.handleKeyDown},(0,n.createElement)(r.default,{id:l,length:k.length,queryLength:x.length,minQueryLength:c,selectedOption:this.templateInputValue(k[I]),selectedOptionIndex:I,validChoiceMade:L,isInFocus:null!==this.state.focused,tQueryTooShort:g,tNoResults:y,tSelectedOption:_,tResults:v}),H&&(0,n.createElement)("span",null,(0,n.createElement)("input",{className:s+"__hint",readonly:!0,tabIndex:"-1",value:H})),(0,n.createElement)("input",o({"aria-expanded":C?"true":"false","aria-activedescendant":!!(-1!==w&&null!==w)&&l+"__option--"+w,"aria-owns":l+"__listbox","aria-autocomplete":this.hasAutoselect()?"both":"list"},z,{autoComplete:"off",className:""+R+(null!==w?" "+R+"--focused":"")+F,id:l,onClick:function(e){return t.handleInputClick(e)},onBlur:this.handleInputBlur},{onInput:this.handleInputChange},{onFocus:this.handleInputFocus,name:h,placeholder:d,ref:function(e){t.elementReferences[-1]=e},type:"text",role:"combobox",required:p,value:x})),e,(0,n.createElement)("ul",{className:B+" "+B+"--"+a+" "+U,onMouseLeave:function(e){return t.handleListMouseLeave(e)},id:l+"__listbox",role:"listbox"},k.map(function(e,i){var r=(-1===w?I===i:w===i)&&null===E?" "+j+"--focused":"",s=i%2?" "+j+"--odd":"",a=u()?"<span id="+l+"__option-suffix--"+i+' style="border:0;clip:rect(0 0 0 0);height:1px;marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;whiteSpace:nowrap;width:1px"> '+(i+1)+" of "+k.length+"</span>":"";return(0,n.createElement)("li",{"aria-selected":w===i?"true":"false",className:""+j+r+s,dangerouslySetInnerHTML:{__html:t.templateSuggestion(e)+a},id:l+"__option--"+i,key:i,onBlur:function(e){return t.handleOptionBlur(e,i)},onClick:function(e){return t.handleOptionClick(e,i)},onMouseDown:t.handleOptionMouseDown,onMouseEnter:function(e){return t.handleOptionMouseEnter(e,i)},ref:function(e){t.elementReferences[i]=e},role:"option",tabIndex:"-1","aria-posinset":i+1,"aria-setsize":k.length})}),M&&(0,n.createElement)("li",{className:j+" "+j+"--no-results"},m())),(0,n.createElement)("span",{id:V,style:{display:"none"}},b()))},t}(n.Component);(t.default=h).defaultProps={autoselect:!1,cssNamespace:"autocomplete",defaultValue:"",displayMenu:"inline",minLength:0,name:"input-autocomplete",placeholder:"",onConfirm:function(){},confirmOnBlur:!0,showNoOptionsFound:!0,showAllValues:!1,required:!1,tNoResults:function(){return"No results found"},tAssistiveHint:function(){return"When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures."},dropdownArrow:s.default}},function(e,t,i){var n=i(9),r=i(53),s=i(28),a=i(26)("IE_PROTO"),o=function(){},l="prototype",c=function(){var e,t=i(15)("iframe"),n=s.length;for(t.style.display="none",i(54).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c[l][s[n]];return c()};e.exports=Object.create||function(e,t){var i;return null!==e?(o[l]=n(e),i=new o,o[l]=null,i[a]=e):i=c(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(8),r=i(9),s=i(20);e.exports=i(3)?Object.defineProperties:function(e,t){r(e);for(var i,a=s(t),o=a.length,l=0;l<o;)n.f(e,i=a[l++],t[i]);return e}},function(e,t,i){var n=i(1).document;e.exports=n&&n.documentElement},function(e,t,i){var n=i(0);n(n.P,"Function",{bind:i(56)})},function(e,t,i){var n=i(19),r=i(2),s=i(57),a=[].slice,o={};e.exports=Function.bind||function(e){var t=n(this),i=a.call(arguments,1),l=function(){var n=i.concat(a.call(arguments));return this instanceof l?function(e,t,i){if(!(t in o)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";o[t]=Function("F,a","return new F("+n.join(",")+")")}return o[t](e,i)}(t,n.length,n):s(t,n,e)};return r(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){i(59)("match",1,function(e,t,i){return[function(i){var n=e(this),r=null==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},i]})},function(e,t,i){var n=i(7),r=i(16),s=i(4),a=i(12),o=i(34);e.exports=function(e,t,i){var l=o(e),c=i(a,l,""[e]),u=c[0],h=c[1];s(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,u),n(RegExp.prototype,l,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)}))}},function(e,t,i){t.__esModule=!0,t.default=void 0,i(36);var n=i(5),r=function(e){function t(){for(var t,i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={bump:!1,debounced:!1},t}t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var i=t.prototype;return i.componentWillMount=function(){var e,t,i=this;this.debounceStatusUpdate=(e=function(){if(!i.state.debounced){var e=!i.props.isInFocus||i.props.validChoiceMade;i.setState(function(t){return{bump:!t.bump,debounced:!0,silenced:e}})}},function(){var i=this,n=arguments;clearTimeout(t),t=setTimeout(function(){t=null,e.apply(i,n)},1400)})},i.componentWillReceiveProps=function(e){e.queryLength,this.setState({debounced:!1})},i.render=function(){var e,t=this.props,i=t.id,r=t.length,s=t.queryLength,a=t.minQueryLength,o=t.selectedOption,l=t.selectedOptionIndex,c=t.tQueryTooShort,u=t.tNoResults,h=t.tSelectedOption,d=t.tResults,p=this.state,f=p.bump,m=p.debounced,g=p.silenced,y=s<a,_=0===r,v=o?h(o,r,l):"";return e=y?c(a):_?u():d(r,v),this.debounceStatusUpdate(),(0,n.createElement)("div",{style:{border:"0",clip:"rect(0 0 0 0)",height:"1px",marginBottom:"-1px",marginRight:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},(0,n.createElement)("div",{id:i+"__status--A",role:"status","aria-atomic":"true","aria-live":"polite"},!g&&m&&f?e:""),(0,n.createElement)("div",{id:i+"__status--B",role:"status","aria-atomic":"true","aria-live":"polite"},g||!m||f?"":e))},t}(n.Component);(t.default=r).defaultProps={tQueryTooShort:function(e){return"Type in "+e+" or more characters for results"},tNoResults:function(){return"No search results"},tSelectedOption:function(e,t,i){return e+" "+(i+1)+" of "+t+" is highlighted"},tResults:function(e,t){return e+" "+(1===e?"result":"results")+" "+(1===e?"is":"are")+" available. "+t}}},function(e,t,i){t.__esModule=!0,t.default=void 0;var n=i(5);t.default=function(e){var t=e.className;return(0,n.createElement)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:t,focusable:"false"},(0,n.createElement)("g",{stroke:"none",fill:"none","fill-rule":"evenodd"},(0,n.createElement)("polygon",{fill:"#000000",points:"0 0 22 0 11 17"})))}}]).default},e.exports=i()})),rB={autocomplete:[]},rU="autocomplete-list-show",rj="data-bs-autocomplete",rq="input["+rj+'][type="search"]';class rH extends t3{static get NAME(){return"inputsearchautocomplete"}search(){let e=this._element.value;this._autocompleteElement.innerHTML="",e?this._items.forEach(t=>{let i=RegExp("("+e+")","gi"),n=t.text.replace(i,"<mark>$1</mark>"),r=t.label?"<em>"+t.label+"</em>":"",s=t.icon?t.icon:"",a=t.link?t.link:"#";-1!==n.toLowerCase().indexOf(e.toLowerCase())&&(this._autocompleteElement.classList.add(rU),this._autocompleteElement.appendChild(this._createOption(a,n,r,s)))}):this._autocompleteElement.classList.remove(rU)}_getConfig(e){return e={...rB,..."object"==typeof e?e:{}}}_getItems(){try{return JSON.parse(this._element.getAttribute(rj))}catch(e){return console.error("[InputSearchAutocomplete] invalid data provided for "+rj+" attribute",e),[]}}_init(){this._element.classList.contains("autocomplete")&&"undefined"!=typeof document&&(this._items=this._getItems(),this._autocompleteElement=document.createElement("ul"),this._autocompleteElement.classList.add("autocomplete-list"),this._element.parentNode.insertBefore(this._autocompleteElement,this._element.nextSibling))}_bindEvents(){tZ.on(this._element,"keyup.bs.inputsearchautocomplete",()=>this.search())}_createOption(e,t,i,n){if("undefined"==typeof document)return;let r=document.createElement("li");return r.innerHTML='<a href="'.concat(e,'">\n        ').concat(n,'\n        <span class="autocomplete-list-text">\n          <span>').concat(t,"</span>\n          ").concat(i,"\n        </span>\n      </a>"),r}constructor(e,t){super(e),this._config=this._getConfig(t),this._items=[],this._autocompleteElement=null,this._label=new ia(e),this._init(),this._bindEvents()}}"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(rq+", label").forEach(function(e){let t=ia.getInputFromLabel(e)||e;t&&t.matches(rq)&&rH.getOrCreateInstance(t)})});let rV=".bs.inputpassword",rz=".data-api",rW={shortPass:"Password troppo breve",badPass:"Password debole.",goodPass:"Password abbastanza sicura.",strongPass:"Password sicura.",minimumLength:8,suggestionsLabel:"Suggerimenti per una buona password:",suggestionFollowed:"suggerimenti seguito",suggestionFollowedPlural:"suggerimenti seguiti",suggestionOf:"di",suggestionMetLabel:"Soddisfatto: ",suggestionMetIconPath:"\n    M9.6 16.9 4 11.4l.8-.7 4.8 4.8 8.5-8.4.7.7-9.2 9.1z\n  ",suggestionLength:"Almeno {minLength} caratteri.",suggestionUppercase:"Una o pi\xf9 maiuscole.",suggestionLowercase:"Una o pi\xf9 minuscole.",suggestionNumber:"Uno o pi\xf9 numeri.",suggestionSpecial:"Uno o pi\xf9 caratteri speciali."},rG="click".concat(rV),rX="keyup".concat(rV),rK="score".concat(rV),rY="text".concat(rV),rQ="suggs".concat(rV),r$="click".concat(rV).concat(rz),rJ="mousedown".concat(rV).concat(rz),rZ="keyup".concat(rV).concat(rz),r0='input[data-bs-input][type="password"]',r1=".password-icon";class r2 extends t3{static get NAME(){return"inputpassword"}_getConfig(e){return e={...rW,...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}_init(){this._isCustom&&(this._handleAutofill(),this._showPwdElement=t8.findOne(r1,this._element.parentNode),this._meter&&(this._grayBarElement=this._meter.querySelector(".password-meter"),this._colorBarElement=this._meter.querySelector(".progress-bar"),this._textElement=this._meter.querySelector(".strength-meter-info"),this._suggsElement=this._meter.querySelector(".strenght-meter-suggestions"),this._textElement&&(this._config=Object.assign({},this._config,{...t4.getDataAttributes(this._textElement)})),this._suggsElement&&this._createsuggestionsList()))}_bindEvents(){this._isCustom&&(this._showPwdElement&&tZ.on(this._showPwdElement,rG,()=>this._toggleShowPassword()),this._meter&&(tZ.on(this._element,rX,()=>this._checkPassword()),tZ.on(this._element,"input",()=>this._checkPassword())))}_handleAutofill(){let e=()=>{""!==this._element.value&&(this._label._labelOut(),this._checkPassword())};e(),setTimeout(e,100),tZ.on(this._element,"animationstart",t=>{"onAutoFillStart"===t.animationName&&e()})}_toggleShowPassword(){let e="password"===this._element.getAttribute("type");t8.find('[class^="password-icon"]',this._showPwdElement).forEach(e=>e.classList.toggle("d-none")),this._element.setAttribute("type",e?"text":"password"),this._showPwdElement.setAttribute("aria-checked",e.toString())}_checkPassword(){let e=this._element.value,t=this._calculateScore(e);this._updateMeter(t),this._updateText(t,e),this._updateSuggestions(e)}_updateMeter(e){let t=e<0?0:e;this._colorBarElement&&(this._colorBarElement.classList.forEach(e=>{e.match(/(^|\s)bg-\S+/g)&&this._colorBarElement.classList.remove(e)}),this._colorBarElement.classList.add("bg-".concat(this._scoreColor(e))),this._colorBarElement.style.width="".concat(t,"%"),this._colorBarElement.setAttribute("aria-valuenow",t)),tZ.trigger(this._element,rK)}_updateText(e,t){if(this._textElement){let i=this._scoreText(e);if(this._suggsElement){let{completedCount:e,totalCount:n}=this._getCompletedSuggestions(t),r=1===e?this._config.suggestionFollowed:this._config.suggestionFollowedPlural;i+=" ".concat(e," ").concat(this._config.suggestionOf," ").concat(n," ").concat(r,".")}this._textElement.textContent!==i&&(this._textElement.textContent=i,this._textElement.classList.forEach(e=>{e.match(/(^|\s)text-\S+/g)&&this._textElement.classList.remove(e)}),this._textElement.classList.add("text-".concat(this._scoreColor(e))),tZ.trigger(this._element,rY))}}_updateSuggestions(e){this._suggsElement&&(this._updateSuggestionsList(e),tZ.trigger(this._element,rQ))}_getCompletedSuggestions(e){let t=0,i=this._suggestions.length;return this._suggestions.forEach(i=>{i.test(e,this._config)&&t++}),{completedCount:t,totalCount:i}}_createsuggestionsList(){if(this._suggsElement.querySelector(".password-suggestions"))return;let e=document.createElement("label");e.className="visually-hidden",e.htmlFor="suggestions",e.textContent=rW.suggestionsLabel;let t=document.createElement("div");t.id="suggestions",t.className="password-suggestions",this._suggestions.forEach(e=>{let i=document.createElement("div");i.className="suggestion",i.dataset.suggestion=e.key;let n=this._createIconCheck(),r=document.createElement("span");r.textContent=e.text(this._config),i.appendChild(n),i.appendChild(r),t.appendChild(i)}),this._suggsElement.appendChild(e),this._suggsElement.appendChild(t)}_createIconCheck(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("class","icon icon-xs me-1 d-none"),e.setAttribute("aria-label",this._config.suggestionMetLabel),e.setAttribute("viewBox","0 0 24 24"),e.style.width="1em",e.style.height="1em";let t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",this._config.suggestionMetIconPath.trim()),e.appendChild(t),e}_updateSuggestionsList(e){this._suggsElement&&this._suggestions.forEach(t=>{let i=this._suggsElement.querySelector('[data-suggestion="'.concat(t.key,'"]'));if(i){let n=t.test(e,this._config),r=i.querySelector(".icon");r&&r.classList.toggle("d-none",!n)}})}_scoreText(e){return -1===e?this._config.shortPass:-2===e?"":(e=e<0?0:e)<26||e<51?this._config.badPass:e<76?this._config.goodPass:this._config.strongPass}_scoreColor(e){return -1===e||-2===e||e<26?"danger":e<51?"warning":"success"}_calculateScore(e){var t=0;if(0===e.trim().length)return -2;if(e.length<this._config.minimumLength)return -1;t+=4*e.length+(this._checkRepetition(1,e).length-e.length)+(this._checkRepetition(2,e).length-e.length)+(this._checkRepetition(3,e).length-e.length)+(this._checkRepetition(4,e).length-e.length),e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(t+=5);var i=".*[!,@,#,$,%,^,&,*,?,_,~]";return i=RegExp("("+i+i+")"),e.match(i)&&(t+=5),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(t+=10),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(t+=15),e.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&e.match(/([0-9])/)&&(t+=15),e.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&e.match(/([a-zA-Z])/)&&(t+=15),(e.match(/^\w+$/)||e.match(/^\d+$/))&&(t-=10),t>100&&(t=100),t<0&&(t=0),t}_checkRepetition(e,t){for(var i="",n=!1,r=0;r<t.length;r++){n=!0;for(var s=0;s<e&&s+r+e<t.length;s++)n=n&&t.charAt(s+r)===t.charAt(s+r+e);s<e&&(n=!1),n?(r+=e-1,n=!1):i+=t.charAt(r)}return i}constructor(e,t){super(e),this._config=this._getConfig(t),this._isCustom=this._element.classList.contains("input-password"),this._meter=this._element.parentNode.querySelector(".password-strength-meter"),this._grayBarElement=null,this._colorBarElement=null,this._textElement=null,this._suggsElement=null,this._showPwdElement=null,this._text={},this._label=new ia(e),this._suggestions=[{key:"length",text:e=>e.suggestionLength.replace("{minLength}",e.minimumLength.toString()),test:(e,t)=>e.length>=t.minimumLength},{key:"uppercase",text:e=>e.suggestionUppercase,test:e=>/[A-Z]/.test(e)},{key:"lowercase",text:e=>e.suggestionLowercase,test:e=>/[a-z]/.test(e)},{key:"number",text:e=>e.suggestionNumber,test:e=>/[0-9]/.test(e)},{key:"special",text:e=>e.suggestionSpecial,test:e=>/[^A-Za-z0-9]/.test(e)}],this._init(),this._bindEvents()}}let r4=e=>e&&e.matches(r0)?r2.getOrCreateInstance(e):null,r5=()=>{let e=t8.findOne(r0);e&&r2.getOrCreateInstance(e)};"loading"!==document.readyState?r5():document.addEventListener("DOMContentLoaded",r5),tZ.on(document,rJ,r0+", label",function(){r4(ia.getInputFromLabel(this)||this)}),tZ.on(document,rZ,r0+", label",function(){let e=r4(ia.getInputFromLabel(this)||this);e&&e._label&&e._label._labelOut()}),tZ.on(document,r$,r1,function(){let e=this.parentNode&&this.parentNode.querySelector(r0);e&&r2.getOrCreateInstance(e)});let r3=rM(rR(function(e,t){e.exports=(function e(t,i,n){function r(a,o){if(!i[a]){if(!t[a]){if(!o&&rN)return rN();if(s)return s(a,!0);var l=Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){return r(t[a][1][e]||e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var s=rN,a=0;a<n.length;a++)r(n[a]);return r})({1:[function(e,t,i){(function(e){(function(){var n,r,s,a,o,l,c,u,h,d,p="__lodash_hash_undefined__",f="[object Arguments]",m="[object Function]",g="[object Object]",y=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[f]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[m]=v["[object Map]"]=v["[object Number]"]=v[g]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var b,T="object"==typeof e&&e&&e.Object===Object&&e,S="object"==typeof self&&self&&self.Object===Object&&self,w=T||S||Function("return this")(),E="object"==typeof i&&i&&!i.nodeType&&i,C=E&&"object"==typeof t&&t&&!t.nodeType&&t,k=C&&C.exports===E,x=k&&T.process,I=function(){try{return C&&C.require&&C.require("util").types||x&&x.binding&&x.binding("util")}catch(e){}}(),A=I&&I.isTypedArray,L=Array.prototype,O=Function.prototype,P=Object.prototype,D=w["__core-js_shared__"],N=O.toString,M=P.hasOwnProperty,R=(b=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",F=P.toString,B=N.call(Object),U=RegExp("^"+N.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=k?w.Buffer:void 0,q=w.Symbol,H=w.Uint8Array;j&&j.allocUnsafe;var V=(c=Object.getPrototypeOf,u=Object,function(e){return c(u(e))}),z=Object.create,W=P.propertyIsEnumerable,G=L.splice,X=q?q.toStringTag:void 0,K=function(){try{var e=ed(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Y=j?j.isBuffer:void 0,Q=Math.max,$=Date.now,J=ed(w,"Map"),Z=ed(Object,"create"),ee=function(){function e(){}return function(t){if(!eE(t))return{};if(z)return z(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function et(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ei(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function en(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function er(e){var t=this.__data__=new ei(e);this.size=t.size}function es(e,t,i){(void 0===i||ey(e[t],i))&&(void 0!==i||t in e)||eo(e,t,i)}function ea(e,t){for(var i=e.length;i--;)if(ey(e[i][0],t))return i;return -1}function eo(e,t,i){"__proto__"==t&&K?K(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}et.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},et.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},et.prototype.get=function(e){var t=this.__data__;if(Z){var i=t[e];return i===p?void 0:i}return M.call(t,e)?t[e]:void 0},et.prototype.has=function(e){var t=this.__data__;return Z?void 0!==t[e]:M.call(t,e)},et.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Z&&void 0===t?p:t,this},ei.prototype.clear=function(){this.__data__=[],this.size=0},ei.prototype.delete=function(e){var t=this.__data__,i=ea(t,e);return!(i<0||(i==t.length-1?t.pop():G.call(t,i,1),--this.size,0))},ei.prototype.get=function(e){var t=this.__data__,i=ea(t,e);return i<0?void 0:t[i][1]},ei.prototype.has=function(e){return ea(this.__data__,e)>-1},ei.prototype.set=function(e,t){var i=this.__data__,n=ea(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},en.prototype.clear=function(){this.size=0,this.__data__={hash:new et,map:new(J||ei),string:new et}},en.prototype.delete=function(e){var t=eh(this,e).delete(e);return this.size-=t?1:0,t},en.prototype.get=function(e){return eh(this,e).get(e)},en.prototype.has=function(e){return eh(this,e).has(e)},en.prototype.set=function(e,t){var i=eh(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},er.prototype.clear=function(){this.__data__=new ei,this.size=0},er.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},er.prototype.get=function(e){return this.__data__.get(e)},er.prototype.has=function(e){return this.__data__.has(e)},er.prototype.set=function(e,t){var i=this.__data__;if(i instanceof ei){var n=i.__data__;if(!J||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new en(n)}return i.set(e,t),this.size=i.size,this};var el=function(e,t,i){for(var n=-1,r=Object(e),s=i(e),a=s.length;a--;){var o=s[++n];if(!1===t(r[o],o,r))break}return e};function ec(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=M.call(e,X),i=e[X];try{e[X]=void 0;var n=!0}catch(e){}var r=F.call(e);return n&&(t?e[X]=i:delete e[X]),r}(e):F.call(e)}function eu(e){return eC(e)&&ec(e)==f}function eh(e,t){var i,n=e.__data__;return("string"==(i=typeof t)||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function ed(e,t){var i=null==e?void 0:e[t];return!(!eE(i)||R&&R in i)&&(eS(i)?U:y).test(function(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(i))?i:void 0}function ep(e,t){var i=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==i||"symbol"!=i&&_.test(e))&&e>-1&&e%1==0&&e<t}function ef(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||P)}function em(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var eg=(n=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:eA,r=0,s=0,function(){var e=$(),t=16-(e-s);if(s=e,t>0){if(++r>=800)return arguments[0]}else r=0;return n.apply(void 0,arguments)});function ey(e,t){return e===t||e!=e&&t!=t}var e_=eu(function(){return arguments}())?eu:function(e){return eC(e)&&M.call(e,"callee")&&!W.call(e,"callee")},ev=Array.isArray;function eb(e){return null!=e&&ew(e.length)&&!eS(e)}var eT=Y||function(){return!1};function eS(e){if(!eE(e))return!1;var t=ec(e);return t==m||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ew(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function eE(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eC(e){return null!=e&&"object"==typeof e}var ek=A?function(e){return A(e)}:function(e){return eC(e)&&ew(e.length)&&!!v[ec(e)]};function ex(e){return eb(e)?function(e,t){var i=ev(e),n=!i&&e_(e),r=!i&&!n&&eT(e),s=!i&&!n&&!r&&ek(e),a=i||n||r||s,o=a?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=o.length;for(var c in e)a&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ep(c,l))||o.push(c);return o}(e):function(e){if(!eE(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=ef(e),i=[];for(var n in e)("constructor"!=n||!t&&M.call(e,n))&&i.push(n);return i}(e)}var eI=(h=function(e,t,i){!function e(t,i,n,r,s){t!==i&&el(i,function(a,o){if(s||(s=new er),eE(a))(function(e,t,i,n,r,s,a){var o=em(e,i),l=em(t,i),c=a.get(l);if(c)es(e,i,c);else{var u=s?s(o,l,i+"",e,t,a):void 0,h=void 0===u;if(h){var d,p,f,m=ev(l),y=!m&&eT(l),_=!m&&!y&&ek(l);u=l,m||y||_?ev(o)?u=o:eC(o)&&eb(o)?u=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(o):y?(h=!1,u=l.slice()):_?(h=!1,new H(p=new(d=l.buffer).constructor(d.byteLength)).set(new H(d)),f=p,u=new l.constructor(f,l.byteOffset,l.length)):u=[]:function(e){if(!eC(e)||ec(e)!=g)return!1;var t=V(e);if(null===t)return!0;var i=M.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&N.call(i)==B}(l)||e_(l)?(u=o,e_(o)?u=function(e,t,i,n){var r=!i;i||(i={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;void 0===l&&(l=e[o]),r?eo(i,o,l):function(e,t,i){var n=e[t];M.call(e,t)&&ey(n,i)&&(void 0!==i||t in e)||eo(e,t,i)}(i,o,l)}return i}(o,ex(o)):eE(o)&&!eS(o)||(u="function"!=typeof l.constructor||ef(l)?{}:ee(V(l)))):h=!1}h&&(a.set(l,u),r(u,l,n,s,a),a.delete(l)),es(e,i,u)}})(t,i,o,n,e,r,s);else{var l=r?r(em(t,o),a,o+"",t,i,s):void 0;void 0===l&&(l=a),es(t,o,l)}},ex)}(e,t,i)},eg((a=d=function(e,t){var i=-1,n=t.length,r=n>1?t[n-1]:void 0,s=n>2?t[2]:void 0;for(r=h.length>3&&"function"==typeof r?(n--,r):void 0,s&&function(e,t,i){if(!eE(i))return!1;var n=typeof t;return!!("number"==n?eb(i)&&ep(t,i.length):"string"==n&&t in i)&&ey(i[t],e)}(t[0],t[1],s)&&(r=n<3?void 0:r,n=1),e=Object(e);++i<n;){var a=t[i];a&&h(e,a,i,r)}return e},o=void 0,l=eA,o=Q(void 0===o?a.length-1:o,0),function(){for(var e=arguments,t=-1,i=Q(e.length-o,0),n=Array(i);++t<i;)n[t]=e[o+t];t=-1;for(var r=Array(o+1);++t<o;)r[t]=e[t];return r[o]=l(n),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(a,this,r)}),d+""));function eA(e){return e}t.exports=eI}).call(this)}).call(this,void 0!==rD?rD:"undefined"!=typeof self?self:window)},{}],2:[function(e,t,i){var n,r;n=self,r=function(){return function(){var e={720:function(e,t,i){i.r(t),i.d(t,{Scene:function(){return eY},Tweenable:function(){return e_},interpolate:function(){return eW},processTweens:function(){return eu},setBezierFunction:function(){return H},shouldScheduleUpdate:function(){return ep},tween:function(){return ev},unsetBezierFunction:function(){return V}});var n={};i.r(n),i.d(n,{bounce:function(){return R},bouncePast:function(){return F},easeFrom:function(){return U},easeFromTo:function(){return B},easeInBack:function(){return A},easeInCirc:function(){return C},easeInCubic:function(){return u},easeInExpo:function(){return S},easeInOutBack:function(){return O},easeInOutCirc:function(){return x},easeInOutCubic:function(){return d},easeInOutExpo:function(){return E},easeInOutQuad:function(){return c},easeInOutQuart:function(){return m},easeInOutQuint:function(){return _},easeInOutSine:function(){return T},easeInQuad:function(){return o},easeInQuart:function(){return p},easeInQuint:function(){return g},easeInSine:function(){return v},easeOutBack:function(){return L},easeOutBounce:function(){return I},easeOutCirc:function(){return k},easeOutCubic:function(){return h},easeOutExpo:function(){return w},easeOutQuad:function(){return l},easeOutQuart:function(){return f},easeOutQuint:function(){return y},easeOutSine:function(){return b},easeTo:function(){return j},elastic:function(){return P},linear:function(){return a},swingFrom:function(){return N},swingFromTo:function(){return D},swingTo:function(){return M}});var r={};i.r(r),i.d(r,{afterTween:function(){return eq},beforeTween:function(){return ej},doesApply:function(){return eB},tweenCreated:function(){return eU}});var s,a=function(e){return e},o=function(e){return Math.pow(e,2)},l=function(e){return-(Math.pow(e-1,2)-1)},c=function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},u=function(e){return Math.pow(e,3)},h=function(e){return Math.pow(e-1,3)+1},d=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},p=function(e){return Math.pow(e,4)},f=function(e){return-(Math.pow(e-1,4)-1)},m=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},g=function(e){return Math.pow(e,5)},y=function(e){return Math.pow(e-1,5)+1},_=function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},v=function(e){return 1-Math.cos(Math.PI/2*e)},b=function(e){return Math.sin(Math.PI/2*e)},T=function(e){return -.5*(Math.cos(Math.PI*e)-1)},S=function(e){return 0===e?0:Math.pow(2,10*(e-1))},w=function(e){return 1===e?1:1-Math.pow(2,-10*e)},E=function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},C=function(e){return-(Math.sqrt(1-e*e)-1)},k=function(e){return Math.sqrt(1-Math.pow(e-1,2))},x=function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},I=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},A=function(e){return e*e*(2.70158*e-1.70158)},L=function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},O=function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},P=function(e){return -1*Math.pow(4,-8*e)*Math.sin(2*Math.PI*(6*e-1)/2)+1},D=function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},N=function(e){return e*e*(2.70158*e-1.70158)},M=function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},R=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},F=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},B=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},U=function(e){return Math.pow(e,4)},j=function(e){return Math.pow(e,.25)},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.75,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.75;return function(r){var s,a,o,l,c,u,h,d;return l=0,c=0,u=0,h=function(e){return((l*e+c)*e+u)*e},d=function(e){return e>=0?e:0-e},l=1-(u=3*e)-(c=3*(i-e)-u),(((1-(o=3*t)-(a=3*(n-t)-o))*(s=function(e,t){var i,n,r,s,a,o,p;for(r=e,o=0;o<8;o++){if(.005>d(s=h(r)-e))return r;if(1e-6>d(a=(3*l*(p=r)+2*c)*p+u))break;r-=s/a}if((r=e)<(i=0))return i;if(r>(n=1))return n;for(;i<n&&!(.005>d((s=h(r))-e));)e>s?i=r:n=r,r=.5*(n-i)+i;return r}(r,.005))+a)*s+o)*s}},H=function(e,t,i,n,r){var s=q(t,i,n,r);return s.displayName=e,s.x1=t,s.y1=i,s.x2=n,s.y2=r,e_.formulas[e]=s},V=function(e){return delete e_.formulas[e]};function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function G(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function X(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?G(Object(i),!0).forEach(function(t){K(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function K(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Y,Q,$,J="linear",Z=window,ee="afterTween",et="beforeTween",ei="string",en=Z.requestAnimationFrame||Z.webkitRequestAnimationFrame||Z.oRequestAnimationFrame||Z.msRequestAnimationFrame||Z.mozCancelRequestAnimationFrame&&Z.mozRequestAnimationFrame||setTimeout,er=function(){},es=null,ea=null,eo=X({},n),el=function(e,t,i,n,r,s,a){var o,l,c,u=e<s?0:(e-s)/r,h=!1;for(var d in a&&a.call&&(h=!0,o=a(u)),t)h||(o=((l=a[d]).call?l:eo[l])(u)),c=i[d],t[d]=c+(n[d]-c)*o;return t},ec=function(e,t){var i=e._timestamp,n=e._currentState,r=e._delay;if(!(t<i+r)){var s=e._duration,a=e._targetState,o=i+r+s,l=t>o?o:t;e._hasEnded=l>=o;var c=s-(o-l),u=e._filters.length>0;if(e._hasEnded)return e._render(a,e._data,c),e.stop(!0);u&&e._applyFilter(et),l<i+r?i=s=l=1:i+=r,el(l,n,e._originalState,a,s,i,e._easing),u&&e._applyFilter(ee),e._render(n,e._data,c)}},eu=function(){for(var e,t=e_.now(),i=es;i;)e=i._next,ec(i,t),i=e},eh=Date.now||function(){return+new Date},ed=!1,ep=function(e){e&&ed||(ed=e,e&&ef())},ef=function e(){Y=eh(),ed&&en.call(Z,e,16.666666666666668),eu()},em=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(t))return q.apply(void 0,function(e){if(Array.isArray(e))return W(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return W(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?W(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var n=z(t);if(eo[t])return eo[t];if(n===ei||"function"===n)for(var r in e)i[r]=t;else for(var s in e)i[s]=t[s]||J;return i},eg=function(e){e===es?(es=e._next)?es._previous=null:ea=null:e===ea?(ea=e._previous)?ea._next=null:es=null:(Q=e._previous,$=e._next,Q._next=$,$._previous=Q),e._previous=e._next=null},ey="function"==typeof Promise?Promise:null;s=Symbol.toStringTag;var e_=function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),K(this,s,"Promise"),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._hasEnded=!1,this._resolve=null,this._reject=null,this._currentState=e||{},this._originalState={},this._targetState={},this._start=er,this._render=er,this._promiseCtor=ey,i&&this.setConfig(i)}return e=[{key:"_applyFilter",value:function(e){for(var t=this._filters.length;t>0;t--){var i=this._filters[t-t][e];i&&i(this)}}},{key:"tween",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!e&&this._config||this.setConfig(e),this._pausedAtTime=null,this._timestamp=t.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._config;for(var n in e)i[n]=e[n];var r=i.promise,s=void 0===r?this._promiseCtor:r,a=i.start,o=void 0===a?er:a,l=i.finish,c=i.render,u=void 0===c?this._config.step||er:c,h=i.step,d=void 0===h?er:h;this._data=i.data||i.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=o,this._render=u||d,this._duration=i.duration||500,this._promiseCtor=s,l&&(this._resolve=l);var p=e.from,f=e.to,m=void 0===f?{}:f,g=this._currentState,y=this._originalState,_=this._targetState;for(var v in p)g[v]=p[v];var b=!1;for(var T in g){var S=g[T];b||z(S)!==ei||(b=!0),y[T]=S,_[T]=m.hasOwnProperty(T)?m[T]:S}if(this._easing=em(this._currentState,i.easing,this._easing),this._filters.length=0,b){for(var w in t.filters)t.filters[w].doesApply(this)&&this._filters.push(t.filters[w]);this._applyFilter("tweenCreated")}return this}},{key:"then",value:function(e,t){var i=this;return this._promise=new this._promiseCtor(function(e,t){i._resolve=e,i._reject=t}),this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then().catch(e)}},{key:"finally",value:function(e){return this.then().finally(e)}},{key:"get",value:function(){return X({},this._currentState)}},{key:"set",value:function(e){this._currentState=e}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=t.now(),this._isPlaying=!1,eg(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=e-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===es?es=this:(this._previous=ea,ea._next=this),ea=this,this)}},{key:"seek",value:function(e){e=Math.max(e,0);var i=t.now();return this._timestamp+e===0||(this._timestamp=i-e,ec(this,i)),this}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,eg(this);var t=this._filters.length>0;return e&&(t&&this._applyFilter(et),el(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),t&&(this._applyFilter(ee),this._applyFilter("afterTweenEnd"))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,this}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._currentState,i=this._data;return this._isPlaying?(this._reject&&this._reject({data:i,state:t,tweenable:this}),this._resolve=null,this._reject=null,this.stop(e)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"hasEnded",value:function(){return this._hasEnded}},{key:"setScheduleFunction",value:function(e){t.setScheduleFunction(e)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&(this._data=X({},e)),this._data}},{key:"dispose",value:function(){for(var e in this)delete this[e]}}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}();function ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new e_;return t.tween(e),t.tweenable=t,t}K(e_,"now",function(){return Y}),K(e_,"setScheduleFunction",function(e){return en=e}),K(e_,"filters",{}),K(e_,"formulas",eo),ep(!0);var eb,eT,eS=/(\d|-|\.)/,ew=/([^\-0-9.]+)/g,eE=/[0-9.-]+/g,eC=(eb=eE.source,eT=/,\s*/.source,RegExp("rgba?\\(".concat(eb).concat(eT).concat(eb).concat(eT).concat(eb,"(").concat(eT).concat(eb,")?\\)"),"g")),ek=/^.*\(/,ex=/#([0-9]|[a-f]){3,6}/gi,eI=function(e,t){return e.map(function(e,i){return"_".concat(t,"_").concat(i)})};function eA(e){return parseInt(e,16)}var eL=function(e){var t;return"rgb(".concat((3===(t=(t=e).replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[eA(t.substr(0,2)),eA(t.substr(2,2)),eA(t.substr(4,2))]).join(","),")")},eO=function(e,t,i){var n=t.match(e),r=t.replace(e,"VAL");return n&&n.forEach(function(e){return r=r.replace("VAL",i(e))}),r},eP=function(e){for(var t in e){var i=e[t];"string"==typeof i&&i.match(ex)&&(e[t]=eO(ex,i,eL))}},eD=function(e){var t=e.match(eE),i=t.slice(0,3).map(Math.floor),n=e.match(ek)[0];if(3===t.length)return"".concat(n).concat(i.join(","),")");if(4===t.length)return"".concat(n).concat(i.join(","),",").concat(t[3],")");throw Error("Invalid rgbChunk: ".concat(e))},eN=function(e){return e.match(eE)},eM=function(e,t){var i={};return t.forEach(function(t){i[t]=e[t],delete e[t]}),i},eR=function(e,t){return t.map(function(t){return e[t]})},eF=function(e,t){return t.forEach(function(t){return e=e.replace("VAL",+t.toFixed(4))}),e},eB=function(e){for(var t in e._currentState)if("string"==typeof e._currentState[t])return!0;return!1};function eU(e){var t=e._currentState;[t,e._originalState,e._targetState].forEach(eP),e._tokenData=function(e){var t,i={};for(var n in e){var r=e[n];"string"==typeof r&&(i[n]={formatString:(t=void 0,(t=r.match(ew))?(1===t.length||r.charAt(0).match(eS))&&t.unshift(""):t=["",""],t.join("VAL")),chunkNames:eI(eN(r),n)})}return i}(t)}function ej(e){var t=e._currentState,i=e._originalState,n=e._targetState,r=e._easing,s=e._tokenData;(function(e,t){for(var i in t)(function(i){var n=t[i].chunkNames,r=e[i];if("string"==typeof r){var s=r.split(" "),a=s[s.length-1];n.forEach(function(t,i){return e[t]=s[i]||a})}else n.forEach(function(t){return e[t]=r});delete e[i]})(i)})(r,s),[t,i,n].forEach(function(e){return function(e,t){var i=function(i){eN(e[i]).forEach(function(n,r){return e[t[i].chunkNames[r]]=+n}),delete e[i]};for(var n in t)i(n)}(e,s)})}function eq(e){var t=e._currentState,i=e._originalState,n=e._targetState,r=e._easing,s=e._tokenData;[t,i,n].forEach(function(e){return function(e,t){for(var i in t){var n=t[i],r=n.chunkNames,s=eF(n.formatString,eR(eM(e,r),r));e[i]=eO(eC,s,eD)}}(e,s)}),function(e,t){for(var i in t){var n=t[i].chunkNames,r=e[n[0]];e[i]="string"==typeof r?n.map(function(t){var i=e[t];return delete e[t],i}).join(" "):r}}(r,s)}function eH(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}var eV=new e_,ez=e_.filters,eW=function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(i),!0).forEach(function(t){var n;n=i[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eH(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},e),a=em(e,n);for(var o in eV._filters.length=0,eV.set({}),eV._currentState=s,eV._originalState=e,eV._targetState=t,eV._easing=a,ez)ez[o].doesApply(eV)&&eV._filters.push(ez[o]);eV._applyFilter("tweenCreated"),eV._applyFilter("beforeTween");var l=el(i,s,e,t,1,r,a);return eV._applyFilter("afterTween"),l};function eG(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function eX(e,t){var i=t.get(e);if(!i)throw TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}var eK=new WeakMap,eY=function(){var e;function t(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),eK.set(this,{writable:!0,value:[]});for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];i.forEach(this.add.bind(this))}return e=[{key:"add",value:function(e){return eX(this,eK).push(e),e}},{key:"remove",value:function(e){var t=eX(this,eK).indexOf(e);return~t&&eX(this,eK).splice(t,1),e}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return eX(this,eK).some(function(e){return e.isPlaying()})}},{key:"play",value:function(){return eX(this,eK).forEach(function(e){return e.tween()}),this}},{key:"pause",value:function(){return eX(this,eK).forEach(function(e){return e.pause()}),this}},{key:"resume",value:function(){return this.playingTweenables.forEach(function(e){return e.resume()}),this}},{key:"stop",value:function(e){return eX(this,eK).forEach(function(t){return t.stop(e)}),this}},{key:"tweenables",get:function(){var e;return function(e){if(Array.isArray(e))return eG(e)}(e=eX(this,eK))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eG(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?eG(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},{key:"playingTweenables",get:function(){return eX(this,eK).filter(function(e){return!e.hasEnded()})}},{key:"promises",get:function(){return eX(this,eK).map(function(e){return e.then()})}}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}();e_.filters.token=r}},t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}return i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(720)}()},"object"==typeof i&&"object"==typeof t?t.exports=r():"object"==typeof i?i.shifty=r():n.shifty=r()},{}],3:[function(e,t,i){var n=e("./shape"),r=e("./utils"),s=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,n.apply(this,arguments)};s.prototype=new n,s.prototype.constructor=s,s.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var i=50-t/2;return r.render(this._pathTemplate,{radius:i,"2radius":2*i})},s.prototype._trailString=function(e){return this._pathString(e)},t.exports=s},{"./shape":8,"./utils":10}],4:[function(e,t,i){var n=e("./shape"),r=e("./utils"),s=function(e,t){this._pathTemplate=t.vertical?"M {center},100 L {center},0":"M 0,{center} L 100,{center}",n.apply(this,arguments)};s.prototype=new n,s.prototype.constructor=s,s.prototype._initializeSvg=function(e,t){var i=t.vertical?"0 0 "+t.strokeWidth+" 100":"0 0 100 "+t.strokeWidth;e.setAttribute("viewBox",i),e.setAttribute("preserveAspectRatio","none")},s.prototype._pathString=function(e){return r.render(this._pathTemplate,{center:e.strokeWidth/2})},s.prototype._trailString=function(e){return this._pathString(e)},t.exports=s},{"./shape":8,"./utils":10}],5:[function(e,t,i){t.exports={Line:e("./line"),Circle:e("./circle"),SemiCircle:e("./semicircle"),Square:e("./square"),Path:e("./path"),Shape:e("./shape"),utils:e("./utils")}},{"./circle":3,"./line":4,"./path":6,"./semicircle":7,"./shape":8,"./square":9,"./utils":10}],6:[function(e,t,i){var n=e("shifty"),r=e("./utils"),s=n.Tweenable,a={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},o=function e(t,i){if(!(this instanceof e))throw Error("Constructor was called without new keyword");i=r.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},i),n=r.isString(t)?document.querySelector(t):t,this.path=n,this._opts=i,this._tweenable=null;var n,s=this.path.getTotalLength();this.path.style.strokeDasharray=s+" "+s,this.set(0)};o.prototype.value=function(){return parseFloat((1-this._getComputedDashOffset()/this.path.getTotalLength()).toFixed(6),10)},o.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(r.isFunction(t)){var i=this._easing(this._opts.easing);t(this._calculateTo(e,i),this._opts.shape||this,this._opts.attachment)}},o.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},o.prototype.animate=function(e,t,i){t=t||{},r.isFunction(t)&&(i=t,t={});var n=r.extend({},t),a=r.extend({},this._opts);t=r.extend(a,t);var o=this._easing(t.easing),l=this._resolveFromAndTo(e,o,n);this.stop(),this.path.getBoundingClientRect();var c=this._getComputedDashOffset(),u=this._progressToOffset(e),h=this;this._tweenable=new s,this._tweenable.tween({from:r.extend({offset:c},l.from),to:r.extend({offset:u},l.to),duration:t.duration,delay:t.delay,easing:o,step:function(e){h.path.style.strokeDashoffset=e.offset;var i=t.shape||h;t.step(e,i,t.attachment)}}).then(function(e){r.isFunction(i)&&i()}).catch(function(e){throw console.error("Error in tweening:",e),e})},o.prototype._getComputedDashOffset=function(){return parseFloat(window.getComputedStyle(this.path,null).getPropertyValue("stroke-dashoffset"),10)},o.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},o.prototype._resolveFromAndTo=function(e,t,i){return i.from&&i.to?{from:i.from,to:i.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},o.prototype._calculateFrom=function(e){return n.interpolate(this._opts.from,this._opts.to,this.value(),e)},o.prototype._calculateTo=function(e,t){return n.interpolate(this._opts.from,this._opts.to,e,t)},o.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(!0),this._tweenable=null)},o.prototype._easing=function(e){return a.hasOwnProperty(e)?a[e]:e},t.exports=o},{"./utils":10,shifty:2}],7:[function(e,t,i){var n=e("./shape"),r=e("./circle"),s=e("./utils"),a=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,n.apply(this,arguments)};a.prototype=new n,a.prototype.constructor=a,a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},a.prototype._initializeTextContainer=function(e,t,i){e.text.style&&(i.style.top="auto",i.style.bottom="0",e.text.alignToBottom?s.setStyle(i,"transform","translate(-50%, 0)"):s.setStyle(i,"transform","translate(-50%, 50%)"))},a.prototype._pathString=r.prototype._pathString,a.prototype._trailString=r.prototype._trailString,t.exports=a},{"./circle":3,"./shape":8,"./utils":10}],8:[function(e,t,i){var n=e("./path"),r=e("./utils"),s="Object is destroyed",a=function e(t,i){if(!(this instanceof e))throw Error("Constructor was called without new keyword");if(0!=arguments.length){this._opts=r.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},i,!0),r.isObject(i)&&void 0!==i.svgStyle&&(this._opts.svgStyle=i.svgStyle),r.isObject(i)&&r.isObject(i.text)&&void 0!==i.text.style&&(this._opts.text.style=i.text.style);var s,a=this._createSvgView(this._opts);if(!(s=r.isString(t)?document.querySelector(t):t))throw Error("Container does not exist: "+t);this._container=s,this._container.appendChild(a.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&r.setStyles(a.svg,this._opts.svgStyle),this.svg=a.svg,this.path=a.path,this.trail=a.trail,this.text=null;var o=r.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new n(a.path,o),r.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};a.prototype.animate=function(e,t,i){if(null===this._progressPath)throw Error(s);this._progressPath.animate(e,t,i)},a.prototype.stop=function(){if(null===this._progressPath)throw Error(s);void 0!==this._progressPath&&this._progressPath.stop()},a.prototype.pause=function(){if(null===this._progressPath)throw Error(s);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},a.prototype.resume=function(){if(null===this._progressPath)throw Error(s);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},a.prototype.destroy=function(){if(null===this._progressPath)throw Error(s);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},a.prototype.set=function(e){if(null===this._progressPath)throw Error(s);this._progressPath.set(e)},a.prototype.value=function(){if(null===this._progressPath)throw Error(s);return void 0===this._progressPath?0:this._progressPath.value()},a.prototype.setText=function(e){if(null===this._progressPath)throw Error(s);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),r.isObject(e)?(r.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},a.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var i=null;(e.trailColor||e.trailWidth)&&(i=this._createTrail(e),t.appendChild(i));var n=this._createPath(e);return t.appendChild(n),{svg:t,path:n,trail:i}},a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},a.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},a.prototype._createTrail=function(e){var t=this._trailString(e),i=r.extend({},e);return i.trailColor||(i.trailColor="#eee"),i.trailWidth||(i.trailWidth=i.strokeWidth),i.color=i.trailColor,i.strokeWidth=i.trailWidth,i.fill=null,this._createPathElement(t,i)},a.prototype._createPathElement=function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",e),i.setAttribute("stroke",t.color),i.setAttribute("stroke-width",t.strokeWidth),t.fill?i.setAttribute("fill",t.fill):i.setAttribute("fill-opacity","0"),i},a.prototype._createTextContainer=function(e,t){var i=document.createElement("div");i.className=e.text.className;var n=e.text.style;return n&&(e.text.autoStyleContainer&&(t.style.position="relative"),r.setStyles(i,n),n.color||(i.style.color=e.color)),this._initializeTextContainer(e,t,i),i},a.prototype._initializeTextContainer=function(e,t,i){},a.prototype._pathString=function(e){throw Error("Override this function for each progress bar")},a.prototype._trailString=function(e){throw Error("Override this function for each progress bar")},a.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),i=parseFloat(t.getPropertyValue("width"),10),n=parseFloat(t.getPropertyValue("height"),10);r.floatEquals(this.containerAspectRatio,i/n)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",i/n),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},t.exports=a},{"./path":6,"./utils":10}],9:[function(e,t,i){var n=e("./shape"),r=e("./utils"),s=function(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",n.apply(this,arguments)};s.prototype=new n,s.prototype.constructor=s,s.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return r.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},s.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return r.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=s},{"./shape":8,"./utils":10}],10:[function(e,t,i){var n=e("lodash.merge"),r="Webkit Moz O ms".split(" ");function s(e,t,i){for(var n=e.style,s=0;s<r.length;++s)n[r[s]+a(t)]=i;n[t]=i}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return"[object Array]"!==Object.prototype.toString.call(e)&&"object"==typeof e&&!!e}function l(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)}t.exports={extend:n,render:function(e,t){var i=e;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],s=RegExp("\\{"+n+"\\}","g");i=i.replace(s,r)}return i},setStyle:s,setStyles:function(e,t){l(t,function(t,i){null!=t&&(o(t)&&!0===t.prefix?s(e,i,t.value):e.style[i]=t)})},capitalize:a,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:o,forEachObject:l,floatEquals:function(e,t){return .001>Math.abs(e-t)},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},{"lodash.merge":1}]},{},[5])(5)})),r8={color:"#5C6F82",trailColor:"#D9DADB",strokeWidth:24,trailWidth:12,easing:"easeInOut",duration:1400,text:{autoStyleContainer:!1},animate:!0,value:0};class r6 extends t3{static get NAME(){return"progressdonut"}set(e){this._config.animate?this._bar.animate(e):this._bar.set(e)}dispose(){this._bar.destroy(),super.dispose()}_getConfig(e){return e={...r8,step:this._getStepCallback(),...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}_getStepCallback(){return(e,t)=>{let i=Math.round(100*t.value());t.setText(i+"%")}}_init(){this._bar=new r3.Circle(this._element,this._config),this._config.value>0&&this.set(this._config.value)}constructor(e,t){super(e),this._config=this._getConfig(t),this._bar=null,this._init()}}t8.find("[data-bs-progress-donut]").forEach(e=>{r6.getOrCreateInstance(e)});let r7="dragend",r9="dragover",se="dragenter",st="dragleave",si="drop",sn="success",sr="dragover",ss="loading",sa="[data-bs-upload-dragdrop]";class so extends t3{static get NAME(){return"upload"}progress(e){this._donut.set(e)}start(){this.reset(),this._element.classList.add(ss)}success(){this._element.classList.remove(ss),this._element.classList.add(sn)}reset(){this._element.classList.remove(ss),this._element.classList.remove(sn),this._donut.set(0)}dispose(){this._donut.dispose(),super.dispose()}_bindEvents(){tZ.on(this._element,"drag",e=>this._preventEvent(e)),tZ.on(this._element,"dragstart",e=>this._preventEvent(e)),tZ.on(this._element,r7,e=>this._preventEvent(e)),tZ.on(this._element,r9,e=>this._preventEvent(e)),tZ.on(this._element,se,e=>this._preventEvent(e)),tZ.on(this._element,st,e=>this._preventEvent(e)),tZ.on(this._element,si,e=>this._preventEvent(e)),tZ.on(this._element,r9,()=>this._dropIn()),tZ.on(this._element,se,()=>this._dropIn()),tZ.on(this._element,st,()=>this._dropOut()),tZ.on(this._element,r7,()=>this._dropOut()),tZ.on(this._element,si,()=>this._dropOut()),tZ.on(this._element,si,()=>this._drop())}_preventEvent(e){e.preventDefault(),e.stopPropagation()}_dropIn(){this._isSuccess()||this._element.classList.add(sr)}_dropOut(){this._isSuccess()||this._element.classList.remove(sr)}_drop(){this._isSuccess()||this.start()}_isSuccess(){return this._element.classList.contains(sn)}constructor(e){super(e);let t=t8.findOne("[data-bs-progress-donut]",this._element);t&&(this._donut=r6.getOrCreateInstance(t)),this._bindEvents()}}let sl=e=>{let t=e.matches&&e.matches(sa)?e:e.closest?e.closest(sa):null;return t&&so.getOrCreateInstance(t),null};"undefined"!=typeof document&&(document.addEventListener("dragenter",function(e){sl(e.target)}),tZ.on(document,"click.bs.upload.data-api",sa+" label",function(){sl(this)}));let sc="back-to-top-show",su={positionTop:0,scrollLimit:100,duration:800,easing:"easeInOutSine"};class sh extends t3{static get NAME(){return"backtotop"}show(){this._element.classList.contains(sc)||this._element.classList.add(sc)}hide(){this._element.classList.contains(sc)&&this._element.classList.remove(sc)}toggleShow(){"undefined"!=typeof document&&document.scrollingElement.scrollTop>this._config.scrollLimit?this.show():this.hide()}scrollToTop(){this._isAnim||(this._isAnim=!0,n1(this._config.positionTop,{duration:this._config.duration,easing:this._config.easing,complete:()=>{this._isAnim=!1}}))}dispose(){this._scrollCb&&this._scrollCb.dispose(),super.dispose()}_getConfig(e){return e={...su,...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}_bindEvents(){this._scrollCb=nt(()=>this.toggleShow()),tZ.on(this._element,"click.bs.backtotop",e=>{e.preventDefault(),this.scrollToTop()})}constructor(e,t){super(e),this._config=this._getConfig(t),this._scrollCb=null,this._isAnim=!1,this._prevScrollBehavior="",this._bindEvents()}}nt(()=>{t8.find('[data-bs-toggle="backtotop"]').map(e=>{sh.getOrCreateInstance(e)})});let sd=".bs.historyback",sp="click".concat(sd);class sf extends t3{static get NAME(){return"historyback"}back(){window.history.back()}_bindEvents(){tZ.on(this._element,sp,e=>{e.preventDefault(),this.back()})}constructor(e){super(e),this._bindEvents()}}tZ.on(document,"click".concat(sd,".data-api"),'[data-bs-toggle="historyback"]',function(e){e.preventDefault(),sf.getOrCreateInstance(this).back()});let sm=".bs.historyback",sg="click".concat(sm),sy={duration:800,easing:"easeInOutSine"};class s_ extends t3{static get NAME(){return"historyback"}goToTarget(){let e=tw(this._element);e&&n1(e.offsetTop,{duration:this._config.duration,easing:this._config.easing})}_getConfig(e){return e={...sy,...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}_bindEvents(){tZ.on(this._element,sg,e=>{e.preventDefault(),this.goToTarget()})}constructor(e,t){super(e),this._config=this._getConfig(t),this._bindEvents()}}tZ.on(document,"click".concat(sm,".data-api"),'[data-bs-toggle="forward"]',function(e){e.preventDefault(),s_.getOrCreateInstance(this).goToTarget()});var sv=rR(function(e){var t,i;t=window,i=function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return -1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return -1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],r=0;r<i.length;r++){var s=i[r];n&&n[s]&&(this.off(e,s),delete n[s]),s.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e},e.exports?e.exports=i():t.EvEmitter=i()}),sb=rR(function(e){var t,i;t=window,i=function(){function e(e){var t=parseFloat(e);return -1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n=i.length;function r(e){var i=getComputedStyle(e);return i||t("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var s,a=!1;return function t(o){if(function(){if(!a){a=!0;var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(i),s=200==Math.round(e(r(i).width)),t.isBoxSizeOuter=s,n.removeChild(i)}}(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var l=r(o);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<n;t++)e[i[t]]=0;return e}();var c={};c.width=o.offsetWidth,c.height=o.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,h=0;h<n;h++){var d=i[h],p=parseFloat(l[d]);c[d]=isNaN(p)?0:p}var f=c.paddingLeft+c.paddingRight,m=c.paddingTop+c.paddingBottom,g=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,_=c.borderLeftWidth+c.borderRightWidth,v=c.borderTopWidth+c.borderBottomWidth,b=u&&s,T=e(l.width);!1!==T&&(c.width=T+(b?0:f+_));var S=e(l.height);return!1!==S&&(c.height=S+(b?0:m+v)),c.innerWidth=c.width-(f+_),c.innerHeight=c.height-(m+v),c.outerWidth=c.width+g,c.outerHeight=c.height+y,c}}},e.exports?e.exports=i():t.getSize=i()}),sT=rR(function(e){var t,i;t=window,i=function(){var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var n=t[i]+"MatchesSelector";if(e[n])return n}}();return function(t,i){return t[e](i)}},e.exports?e.exports=i():t.matchesSelector=i()}),sS=rR(function(e){var t,i;t=window,i=function(e,t){var i={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},n=Array.prototype.slice;i.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?n.call(e):[e]},i.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},i.getParent=function(e,i){for(;e.parentNode&&e!=document.body;)if(t(e=e.parentNode,i))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,n){e=i.makeArray(e);var r=[];return e.forEach(function(e){if(e instanceof HTMLElement){if(n){t(e,n)&&r.push(e);for(var i=e.querySelectorAll(n),s=0;s<i.length;s++)r.push(i[s])}else r.push(e)}}),r},i.debounceMethod=function(e,t,i){i=i||100;var n=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){clearTimeout(this[r]);var e=arguments,t=this;this[r]=setTimeout(function(){n.apply(t,e),delete t[r]},i)}},i.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var r=e.console;return i.htmlInit=function(t,n){i.docReady(function(){var s=i.toDashed(n),a="data-"+s,o=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+s),c=i.makeArray(o).concat(i.makeArray(l)),u=a+"-options",h=e.jQuery;c.forEach(function(e){var i,s=e.getAttribute(a)||e.getAttribute(u);try{i=s&&JSON.parse(s)}catch(t){return void(r&&r.error("Error parsing "+a+" on "+e.className+": "+t))}var o=new t(e,i);h&&h.data(e,n,o)})})},i},e.exports?e.exports=i(t,sT):t.fizzyUIUtils=i(t,t.matchesSelector)}),sw=rR(function(e){var t,i;t=window,i=function(e,t){var i=document.documentElement.style,n="string"==typeof i.transition?"transition":"WebkitTransition",r="string"==typeof i.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],a={transform:r,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function o(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=o.prototype=Object.create(e.prototype);l.constructor=o,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var i in e)t[a[i]||i]=e[i]},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=e[t?"left":"right"],r=e[i?"top":"bottom"],s=parseFloat(n),a=parseFloat(r),o=this.layout.size;-1!=n.indexOf("%")&&(s=s/100*o.width),-1!=r.indexOf("%")&&(a=a/100*o.height),s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=t?o.paddingLeft:o.paddingRight,a-=i?o.paddingTop:o.paddingBottom,this.position.x=s,this.position.y=a},l.layoutPosition=function(){var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),r=this.position.x+e[i?"paddingLeft":"paddingRight"];t[i?"left":"right"]=this.getXValue(r),t[i?"right":"left"]="";var s=this.position.y+e[n?"paddingTop":"paddingBottom"];t[n?"top":"bottom"]=this.getYValue(s),t[n?"bottom":"top"]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,r=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!r||this.isTransitioning){var s={};s.transform=this.getTranslate(e-i,t-n),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=u[e.propertyName]||e.propertyName;delete t.ingProperties[i],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd&&(t.onEnd[i].call(this),delete t.onEnd[i]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(h)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o},e.exports?e.exports=i(sv,sb):(t.Outlayer={},t.Outlayer.Item=i(t.EvEmitter,t.getSize))}),sE=rR(function(e){var t,i;t=window,i=function(e,t,i,n,r){var s=e.console,a=e.jQuery,o=function(){},l=0,c={};function u(e,t){var i=n.getQueryElement(e);if(i){this.element=i,a&&(this.$element=a(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(t);var r=++l;this.element.outlayerGUID=r,c[r]=this,this._create(),this._getOption("initLayout")&&this.layout()}else s&&s.error("Bad element for "+this.constructor.namespace+": "+(i||e))}u.namespace="outlayer",u.Item=r,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=u.prototype;function d(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}n.extend(h,t.prototype),h.option=function(e){n.extend(this.options,e)},h._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],r=0;r<t.length;r++){var s=new i(t[r],this);n.push(s)}return n},h._filterFindItemElements=function(e){return n.filterFindElements(e,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(e){return e.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=i(this.element)},h._getMeasurement=function(e,t){var n,r=this.options[e];r?("string"==typeof r?n=this.element.querySelector(r):r instanceof HTMLElement&&(n=r),this[e]=n?i(n)[t]:r):this[e]=0},h.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},h._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},h._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var i=[];e.forEach(function(e){var n=this._getItemLayoutPosition(e);n.item=e,n.isInstant=t||e.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},h.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],n=t&&t[2];return i.length?(i=parseFloat(i))*(p[n]||1):0}(e),this.stagger;this.stagger=0},h._positionItem=function(e,t,i,n,r){n?e.goTo(t,i):(e.stagger(r*this.stagger),e.moveTo(t,i))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},h._getContainerSize=o,h._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},h._emitCompleteOnItems=function(e,t){var i=this;function n(){i.dispatchEvent(e+"Complete",null,[t])}var r=t.length;if(t&&r){var s=0;t.forEach(function(t){t.once(e,a)})}else n();function a(){++s==r&&n()}},h.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),a){if(this.$element=this.$element||a(this.element),t){var r=a.Event(t);r.type=e,this.$element.trigger(r,i)}else this.$element.trigger(e,i)}},h.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},h.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},h.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},h.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){n.removeFrom(this.stamps,e),this.unignore(e)},this)},h._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=n.makeArray(e)},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},h._manageStamp=o,h._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,r=i(e);return{left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom}},h.handleEvent=n.handleEvent,h.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},n.debounceMethod(u,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var e=i(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},h.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},h.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},h.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},h.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t),e.reveal()})}},h.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t),e.hide()})}},h.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},h.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},h.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return i}},h.getItems=function(e){e=n.makeArray(e);var t=[];return e.forEach(function(e){var i=this.getItem(e);i&&t.push(i)},this),t},h.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),n.removeFrom(this.items,e)},this)},h.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=n.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},u.create=function(e,t){var i=d(u);return i.defaults=n.extend({},u.defaults),n.extend(i.defaults,t),i.compatOptions=n.extend({},u.compatOptions),i.namespace=e,i.data=u.data,i.Item=d(r),n.htmlInit(i,e),a&&a.bridget&&a.bridget(e,i),i};var p={ms:1,s:1e3};return u.Item=r,u},e.exports?e.exports=i(t,sv,sb,sS,sw):t.Outlayer=i(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}),sC=rR(function(e){var t,i;t=window,i=function(e,t){var i=e.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,s=r/n,a=n-r%n;s=Math[a&&a<1?"round":"floor"](s),this.cols=Math.max(s,1)},n.getContainerWidth=function(){var e=t(this._getOption("fitWidth")?this.element.parentNode:this.element);this.containerWidth=e&&e.innerWidth},n._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,e),r={x:this.columnWidth*n.col,y:n.y},s=n.y+e.size.outerHeight,a=i+n.col,o=n.col;o<a;o++)this.colYs[o]=s;return r},n._getTopColPosition=function(e){var t=this._getTopColGroup(e),i=Math.min.apply(Math,t);return{col:t.indexOf(i),y:i}},n._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;n<i;n++)t[n]=this._getColGroupY(n,e);return t},n._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var i=this.colYs.slice(e,e+t);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(e,t){var i=this.horizontalColIndex%this.cols;i=e>1&&i+e>this.cols?0:i;var n=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=n?i+e:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,e)}},n._manageStamp=function(e){var i=t(e),n=this._getElementOffset(e),r=this._getOption("originLeft")?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var o=Math.floor(s/this.columnWidth);o-=s%this.columnWidth?0:1,o=Math.min(this.cols-1,o);for(var l=(this._getOption("originTop")?n.top:n.bottom)+i.outerHeight,c=a;c<=o;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},n._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},i},e.exports?e.exports=i(sE,sb):t.Masonry=i(t.Outlayer,t.getSize)});let sk="masonry-loader",sx=".".concat(sk),sI={percentPosition:!0};class sA extends t3{static get NAME(){return"masonry"}dispose(){this._masonry&&(this._masonry.destroy(),this._masonry=null),super.dispose()}_getConfig(e){return e={...sI,...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}_init(){this._images.length>0?this._images.forEach(e=>{let t=new Image;t.onload=()=>this._onLoadEnd(),t.src=e.src}):this._initMasonry()}_onLoadEnd(){this._loadCounter++,this._loadCounter>=this._images.length&&this._initMasonry()}_initMasonry(){this._masonry=new sC(this._element,this._config)}_createLoader(){if("undefined"==typeof document)return;let e=document.createElement("div");return e.classList.add(sk,"fade","d-flex","justify-content-center","align-items-center"),e.innerHTML='<div class="progress-spinner progress-spinner-active"><span class="visually-hidden">Caricamento...</span></div>',this._element.appendChild(e),e}_getOrCreateLoader(){return t8.findOne(sx,this._element)||this._createLoader()}_destroyLoader(){let e=t8.findOne(sx,this._element);e&&e.remove()}_showLoader(){this._getOrCreateLoader().classList.add("show")}_hideLoader(){this._destroyLoader()}constructor(e,t){super(e),this._config=this._getConfig(t),this._masonry=null,this._images=t8.find("img",this._element),this._loadCounter=0,this._init()}}let sL=t8.find('[data-bs-toggle="masonry"]');sL.length>0&&sL.forEach(e=>{sA.getOrCreateInstance(e)});let sO=".bs.list",sP="click".concat(sO),sD="click".concat(sO,".data-api"),sN="active",sM="input[type=checkbox]";class sR extends t3{static get NAME(){return"list"}toggleCheckbox(e){let t=t8.findOne("input",e);t&&(t.checked?(t.checked=!1,e.classList.remove(sN)):(t.checked=!0,e.classList.add(sN)))}_init(){this._initCheckbox()}_initCheckbox(){t8.find(sM,this._element).forEach(e=>{tZ.on(e.closest("a"),sP,t=>{t.preventDefault(),this.toggleCheckbox(e.closest("a"))})})}constructor(e){super(e),this._init()}}t8.find("[data-bs-list-checkbox]").forEach(e=>{t8.find(sM,e).forEach(t=>{tZ.one(t.closest("a"),sD,t=>{sR.getInstance(e)||(t.preventDefault(),sR.getOrCreateInstance(e).toggleCheckbox(t.currentTarget))})})});let sF=".bs.transfer",sB=".data-api",sU="click".concat(sF).concat(sB),sj="keyup".concat(sF).concat(sB),sq="click".concat(sF),sH="active",sV="source",sz="semi-checked",sW="[data-bs-transfer]",sG=".transfer-header input",sX=".transfer-group input",sK=".it-transfer-wrapper",sY=".transfer-group",sQ="".concat(sK,".source"),s$="".concat(sK,".target"),sJ=".form-check";class sZ extends t3{static get NAME(){return"transfer"}_bindEvents(){t8.find(sG,this._element).forEach(e=>{tZ.on(e,sq,()=>{this._checkListHeader(e.closest(sK))})}),t8.find(sX,this._element).forEach(e=>{tZ.on(e,sq,()=>{this._checkList(e.closest(sK))})}),tZ.on(this._addBtnElement,sq,e=>{e.preventDefault(),this._disableElement(this._addBtnElement),this._addItems()}),tZ.on(this._invBtnElement,sq,e=>{e.preventDefault(),this._disableElement(this._invBtnElement),this._addItems(!0)}),tZ.on(this._resetBtnElement,sq,e=>{e.preventDefault(),this._disableElement(this._addBtnElement),this._disableElement(this._invBtnElement),this._disableElement(this._resetBtnElement),this._resetAll()})}_disableElement(e){e.classList.remove(sH),e.setAttribute("disabled","disabled"),e.setAttribute("aria-disabled","true")}_enableElement(e){e.classList.add(sH),e.removeAttribute("disabled"),e.removeAttribute("aria-disabled")}_getScopeData(e){return{scope:e,list:t8.find(sX,e),listChecked:t8.find(sX+":checked",e),head:t8.findOne(".transfer-header",e),inputHead:t8.findOne(sG,e),labelNumHead:t8.findOne(".transfer-header span.num",e),group:t8.findOne(sY,e)}}_checkList(e){let t=this._getScopeData(e);0==t.listChecked.length?(t.inputHead.classList.remove(sz),t.inputHead.checked=!0,e.classList.contains(sV)?this._disableElement(this._addBtnElement):this._disableElement(this._invBtnElement)):(t.listChecked.length==t.list.length?(t.inputHead.classList.remove(sz),t.inputHead.checked=!0):(t.inputHead.classList.add(sz),t.inputHead.checked=!1),e.classList.contains(sV)?this._enableElement(this._addBtnElement):this._enableElement(this._invBtnElement))}_checkListHeader(e){let t=this._getScopeData(e);t.listChecked.length>0?(t.list.forEach(e=>{e.checked=!1}),t.inputHead.classList.remove(sz),t.inputHead.checked=!1,e.classList.contains(sV)?this._disableElement(this._addBtnElement):this._disableElement(this._invBtnElement)):(t.list.forEach(e=>{e.checked=!0}),e.classList.contains(sV)?this._enableElement(this._addBtnElement):this._enableElement(this._invBtnElement))}_addItems(e){let t=this._getScopeData(t8.findOne(e?s$:sQ,this._element)),i=this._getScopeData(t8.findOne(e?sQ:s$,this._element)),n=t.listChecked,r=t.inputHead,s=t.labelNumHead,a=n.length,o=t.list.length,l=i.group,c=i.list.length+a,u=i.labelNumHead,h=i.inputHead;n.forEach(e=>{let t=e.closest(sJ);t.remove(),l.appendChild(t),e.checked=!1});let d=o-a;s.innerText=d,u.innerText=c,0==d&&r.setAttribute("disabled",!0),c>0&&h.removeAttribute("disabled"),r.classList.remove(sz),r.checked=!1,this._enableElement(this._resetBtnElement)}_resetAll(){let e={source:this._getScopeData(t8.findOne(sQ,this._element)),target:this._getScopeData(t8.findOne(s$,this._element))};Object.keys(e).forEach(t=>{e[t].list.forEach(e=>e.closest(sJ).remove())}),Object.keys(e).forEach(t=>{this._listDefault[t].forEach(i=>{i.checked=!1,e[t].group.appendChild(i)}),e[t].labelNumHead.innerText=this._listDefault[t].length,e[t].inputHead.removeAttribute("disabled"),e[t].inputHead.classList.remove(sz),e[t].inputHead.checked=!1})}constructor(e){super(e),this._addBtnElement=t8.findOne("a.transfer",this._element),this._invBtnElement=t8.findOne("a.backtransfer",this._element),this._resetBtnElement=t8.findOne("a.reset",this._element),this._listDefault={source:t8.find(sQ+" "+sY+" "+sJ,this._element),target:t8.find(s$+" "+sY+" "+sJ,this._element)},this._bindEvents()}}tZ.on(document,sU,sW+" .form-check label",function(){sZ.getOrCreateInstance(this.closest(sW))}),tZ.on(document,sj,sW+" .form-check label",function(){sZ.getOrCreateInstance(this.closest(sW))});let s0=".bs.alert",s1="close".concat(s0),s2="closed".concat(s0),s4=class e extends t3{static get NAME(){return"alert"}close(){if(tZ.trigger(this._element,s1).defaultPrevented)return;this._element.classList.remove("show");let e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),tZ.trigger(this._element,s2),this.dispose()}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this);if("string"==typeof t){if(void 0===i[t]||t.startsWith("_")||"constructor"===t)throw TypeError('No method named "'.concat(t,'"'));i[t](this)}})}};iy(s4,"close"),tM(s4);let s5='[data-bs-toggle="button"]',s3=class e extends t3{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this);"toggle"===t&&i[t]()})}};tZ.on(document,"click.bs.button.data-api",s5,e=>{e.preventDefault();let t=e.target.closest(s5);s3.getOrCreateInstance(t).toggle()}),tM(s3);let s8=".bs.swipe",s6="touchstart".concat(s8),s7="touchmove".concat(s8),s9="touchend".concat(s8),ae="pointerdown".concat(s8),at="pointerup".concat(s8),ai={endCallback:null,leftCallback:null,rightCallback:null},an={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ar extends t5{static get Default(){return ai}static get DefaultType(){return an}static get NAME(){return"swipe"}dispose(){tZ.off(this._element,s8)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),tR(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=40)return;let t=e/this._deltaX;this._deltaX=0,t&&tR(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(tZ.on(this._element,ae,e=>this._start(e)),tZ.on(this._element,at,e=>this._end(e)),this._element.classList.add("pointer-event")):(tZ.on(this._element,s6,e=>this._start(e)),tZ.on(this._element,s7,e=>this._move(e)),tZ.on(this._element,s9,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}constructor(e,t){super(),this._element=e,e&&ar.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}}let as=".bs.carousel",aa=".data-api",ao="next",al="prev",ac="left",au="right",ah="slide".concat(as),ad="slid".concat(as),ap="keydown".concat(as),af="mouseenter".concat(as),am="mouseleave".concat(as),ag="dragstart".concat(as),ay="load".concat(as).concat(aa),a_="click".concat(as).concat(aa),av="carousel",ab="active",aT=".active",aS=".carousel-item",aw=aT+aS,aE={ArrowLeft:au,ArrowRight:ac},aC={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ak={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},ax=class e extends t3{static get Default(){return aC}static get DefaultType(){return ak}static get NAME(){return"carousel"}next(){this._slide(ao)}nextWhenVisible(){!document.hidden&&tx(this._element)&&this.next()}prev(){this._slide(al)}pause(){this._isSliding&&tE(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?tZ.one(this._element,ad,()=>this.cycle()):this.cycle())}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void tZ.one(this._element,ad,()=>this.to(e));let i=this._getItemIndex(this._getActive());if(i===e)return;let n=e>i?ao:al;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&tZ.on(this._element,ap,e=>this._keydown(e)),"hover"===this._config.pause&&(tZ.on(this._element,af,()=>this.pause()),tZ.on(this._element,am,()=>this._maybeEnableCycle())),this._config.touch&&ar.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of t8.find(".carousel-item img",this._element))tZ.on(e,ag,e=>e.preventDefault());this._swipeHelper=new ar(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ac)),rightCallback:()=>this._slide(this._directionToOrder(au)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=aE[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=t8.findOne(aT,this._indicatorsElement);t.classList.remove(ab),t.removeAttribute("aria-current");let i=t8.findOne('[data-bs-slide-to="'.concat(e,'"]'),this._indicatorsElement);i&&(i.classList.add(ab),i.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._isSliding)return;let i=this._getActive(),n=e===ao,r=t||tB(this._getItems(),i,n,this._config.wrap);if(r===i)return;let s=this._getItemIndex(r),a=t=>tZ.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:s});if(a(ah).defaultPrevented||!i||!r)return;let o=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=r;let l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";r.classList.add(c),tO(r),i.classList.add(l),r.classList.add(l),this._queueCallback(()=>{r.classList.remove(l,c),r.classList.add(ab),i.classList.remove(ab,c,l),this._isSliding=!1,a(ad)},i,this._isAnimated()),o&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return t8.findOne(aw,this._element)}_getItems(){return t8.find(aS,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return tN()?e===ac?al:ao:e===ac?ao:al}_orderToDirection(e){return tN()?e===al?ac:au:e===al?au:ac}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===i[t]||t.startsWith("_")||"constructor"===t)throw TypeError('No method named "'.concat(t,'"'));i[t]()}}else i.to(t)})}constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=t8.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===av&&this.cycle()}};tZ.on(document,a_,"[data-bs-slide], [data-bs-slide-to]",function(e){let t=tw(this);if(!t||!t.classList.contains(av))return;e.preventDefault();let i=ax.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");return n?i.to(n):"next"===t4.getDataAttribute(this,"slide")?i.next():i.prev(),void i._maybeEnableCycle()}),tZ.on(window,ay,()=>{for(let e of t8.find('[data-bs-ride="carousel"]'))ax.getOrCreateInstance(e)}),tM(ax);let aI=".bs.collapse",aA="show".concat(aI),aL="shown".concat(aI),aO="hide".concat(aI),aP="hidden".concat(aI),aD="show",aN="collapse",aM="collapsing",aR=":scope .".concat(aN," .").concat(aN),aF='[data-bs-toggle="collapse"]',aB={parent:null,toggle:!0},aU={parent:"(null|element)",toggle:"boolean"},aj=class e extends t3{static get Default(){return aB}static get DefaultType(){return aU}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(t=>e.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning||tZ.trigger(this._element,aA).defaultPrevented)return;for(let e of t)e.hide();let i=this._getDimension();this._element.classList.remove(aN),this._element.classList.add(aM),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let n="scroll".concat(i[0].toUpperCase()+i.slice(1));this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(aM),this._element.classList.add(aN,aD),this._element.style[i]="",tZ.trigger(this._element,aL)},this._element,!0),this._element.style[i]="".concat(this._element[n],"px")}hide(){if(this._isTransitioning||!this._isShown()||tZ.trigger(this._element,aO).defaultPrevented)return;let e=this._getDimension();for(let t of(this._element.style[e]="".concat(this._element.getBoundingClientRect()[e],"px"),tO(this._element),this._element.classList.add(aM),this._element.classList.remove(aN,aD),this._triggerArray)){let e=tw(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(aM),this._element.classList.add(aN),tZ.trigger(this._element,aP)},this._element,!0)}_isShown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element;return e.classList.contains(aD)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=tk(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let e of this._getFirstLevelChildren(aF)){let t=tw(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(e){let t=t8.find(aR,this._config.parent);return t8.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(t){let i={};return"string"==typeof t&&/show|hide/.test(t)&&(i.toggle=!1),this.each(function(){let n=e.getOrCreateInstance(this,i);if("string"==typeof t){if(void 0===n[t])throw TypeError('No method named "'.concat(t,'"'));n[t]()}})}constructor(e,t){for(let i of(super(e,t),this._isTransitioning=!1,this._triggerArray=[],t8.find(aF))){let e=tS(i),t=t8.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}};tZ.on(document,"click".concat(aI,".data-api"),aF,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();let t=tS(this);for(let e of t8.find(t))aj.getOrCreateInstance(e,{toggle:!1}).toggle()}),tM(aj);var aq="bottom",aH="right",aV="left",az="auto",aW=["top",aq,aH,aV],aG="start",aX="clippingParents",aK="viewport",aY="popper",aQ="reference",a$=aW.reduce(function(e,t){return e.concat([t+"-"+aG,t+"-end"])},[]),aJ=[].concat(aW,[az]).reduce(function(e,t){return e.concat([t,t+"-"+aG,t+"-end"])},[]),aZ="beforeRead",a0="read",a1="afterRead",a2="beforeMain",a4="main",a5="afterMain",a3="beforeWrite",a8="write",a6="afterWrite",a7=[aZ,a0,a1,a2,a4,a5,a3,a8,a6];function a9(e){return e?(e.nodeName||"").toLowerCase():null}function oe(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ot(e){return e instanceof oe(e).Element||e instanceof Element}function oi(e){return e instanceof oe(e).HTMLElement||e instanceof HTMLElement}function on(e){return"undefined"!=typeof ShadowRoot&&(e instanceof oe(e).ShadowRoot||e instanceof ShadowRoot)}let or={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},r=t.elements[e];oi(r)&&a9(r)&&(Object.assign(r.style,i),Object.keys(n).forEach(function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],r=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});oi(n)&&a9(n)&&(Object.assign(n.style,s),Object.keys(r).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};function os(e){return e.split("-")[0]}var oa=Math.max,oo=Math.min,ol=Math.round;function oc(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ou(){return!/^((?!chrome|android).)*safari/i.test(oc())}function oh(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),r=1,s=1;t&&oi(e)&&(r=e.offsetWidth>0&&ol(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&ol(n.height)/e.offsetHeight||1);var a=(ot(e)?oe(e):window).visualViewport,o=!ou()&&i,l=(n.left+(o&&a?a.offsetLeft:0))/r,c=(n.top+(o&&a?a.offsetTop:0))/s,u=n.width/r,h=n.height/s;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function od(e){var t=oh(e),i=e.offsetWidth,n=e.offsetHeight;return 1>=Math.abs(t.width-i)&&(i=t.width),1>=Math.abs(t.height-n)&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function op(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&on(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function of(e){return oe(e).getComputedStyle(e)}function om(e){return((ot(e)?e.ownerDocument:e.document)||window.document).documentElement}function og(e){return"html"===a9(e)?e:e.assignedSlot||e.parentNode||(on(e)?e.host:null)||om(e)}function oy(e){return oi(e)&&"fixed"!==of(e).position?e.offsetParent:null}function o_(e){for(var t=oe(e),i=oy(e);i&&["table","td","th"].indexOf(a9(i))>=0&&"static"===of(i).position;)i=oy(i);return i&&("html"===a9(i)||"body"===a9(i)&&"static"===of(i).position)?t:i||function(e){var t=/firefox/i.test(oc());if(/Trident/i.test(oc())&&oi(e)&&"fixed"===of(e).position)return null;var i=og(e);for(on(i)&&(i=i.host);oi(i)&&0>["html","body"].indexOf(a9(i));){var n=of(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function ov(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ob(e,t,i){return oa(e,oo(t,i))}function oT(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function oS(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}let ow={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,r=e.options,s=i.elements.arrow,a=i.modifiersData.popperOffsets,o=os(i.placement),l=ov(o),c=[aV,aH].indexOf(o)>=0?"height":"width";if(s&&a){var u,h=oT("number"!=typeof(u="function"==typeof(u=r.padding)?u(Object.assign({},i.rects,{placement:i.placement})):u)?u:oS(u,aW)),d=od(s),p="y"===l?"top":aV,f="y"===l?aq:aH,m=i.rects.reference[c]+i.rects.reference[l]-a[l]-i.rects.popper[c],g=a[l]-i.rects.reference[l],y=o_(s),_=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,v=h[p],b=_-d[c]-h[f],T=_/2-d[c]/2+(m/2-g/2),S=ob(v,T,b);i.modifiersData[n]=((t={})[l]=S,t.centerOffset=S-T,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&op(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oE(e){return e.split("-")[1]}var oC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ok(e){var t,i=e.popper,n=e.popperRect,r=e.placement,s=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=a.x,p=void 0===d?0:d,f=a.y,m=void 0===f?0:f,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),v=aV,b="top",T=window;if(c){var S=o_(i),w="clientHeight",E="clientWidth";S===oe(i)&&"static"!==of(S=om(i)).position&&"absolute"===o&&(w="scrollHeight",E="scrollWidth"),("top"===r||(r===aV||r===aH)&&"end"===s)&&(b=aq,m-=(h&&S===T&&T.visualViewport?T.visualViewport.height:S[w])-n.height,m*=l?1:-1),(r===aV||("top"===r||r===aq)&&"end"===s)&&(v=aH,p-=(h&&S===T&&T.visualViewport?T.visualViewport.width:S[E])-n.width,p*=l?1:-1)}var C,k,x,I,A,L,O=Object.assign({position:o},c&&oC),P=!0===u?(C={x:p,y:m},k=oe(i),x=C.x,I=C.y,{x:ol(x*(A=k.devicePixelRatio||1))/A||0,y:ol(I*A)/A||0}):{x:p,y:m};return p=P.x,m=P.y,l?Object.assign({},O,((L={})[b]=_?"0":"",L[v]=y?"0":"",L.transform=1>=(T.devicePixelRatio||1)?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",L)):Object.assign({},O,((t={})[b]=_?m+"px":"",t[v]=y?p+"px":"",t.transform="",t))}let ox={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=i.adaptive,s=i.roundOffsets,a=void 0===s||s,o={placement:os(t.placement),variation:oE(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===n||n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ok(Object.assign({},o,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===r||r,roundOffsets:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ok(Object.assign({},o,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var oI={passive:!0};let oA={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,s=void 0===r||r,a=n.resize,o=void 0===a||a,l=oe(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(e){e.addEventListener("scroll",i.update,oI)}),o&&l.addEventListener("resize",i.update,oI),function(){s&&c.forEach(function(e){e.removeEventListener("scroll",i.update,oI)}),o&&l.removeEventListener("resize",i.update,oI)}},data:{}};var oL={left:"right",right:"left",bottom:"top",top:"bottom"};function oO(e){return e.replace(/left|right|bottom|top/g,function(e){return oL[e]})}var oP={start:"end",end:"start"};function oD(e){return e.replace(/start|end/g,function(e){return oP[e]})}function oN(e){var t=oe(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function oM(e){return oh(om(e)).left+oN(e).scrollLeft}function oR(e){var t=of(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function oF(e,t){void 0===t&&(t=[]);var i,n=function e(t){return["html","body","#document"].indexOf(a9(t))>=0?t.ownerDocument.body:oi(t)&&oR(t)?t:e(og(t))}(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),s=oe(n),a=r?[s].concat(s.visualViewport||[],oR(n)?n:[]):n,o=t.concat(a);return r?o:o.concat(oF(og(a)))}function oB(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oU(e,t,i){var n,r,s,a,o,l,c,u,h,d;return t===aK?oB(function(e,t){var i=oe(e),n=om(e),r=i.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;var c=ou();(c||!c&&"fixed"===t)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o+oM(e),y:l}}(e,i)):ot(t)?((n=oh(t,!1,"fixed"===i)).top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n):oB((r=om(e),a=om(r),o=oN(r),l=null==(s=r.ownerDocument)?void 0:s.body,c=oa(a.scrollWidth,a.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=oa(a.scrollHeight,a.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),h=-o.scrollLeft+oM(r),d=-o.scrollTop,"rtl"===of(l||a).direction&&(h+=oa(a.clientWidth,l?l.clientWidth:0)-c),{width:c,height:u,x:h,y:d}))}function oj(e){var t,i=e.reference,n=e.element,r=e.placement,s=r?os(r):null,a=r?oE(r):null,o=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(s){case"top":t={x:o,y:i.y-n.height};break;case aq:t={x:o,y:i.y+i.height};break;case aH:t={x:i.x+i.width,y:l};break;case aV:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=s?ov(s):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case aG:t[c]=t[c]-(i[u]/2-n[u]/2);break;case"end":t[c]=t[c]+(i[u]/2-n[u]/2)}}return t}function oq(e,t){void 0===t&&(t={});var i,n,r,s,a,o,l=t,c=l.placement,u=void 0===c?e.placement:c,h=l.strategy,d=void 0===h?e.strategy:h,p=l.boundary,f=void 0===p?aX:p,m=l.rootBoundary,g=l.elementContext,y=void 0===g?aY:g,_=l.altBoundary,v=l.padding,b=void 0===v?0:v,T=oT("number"!=typeof b?b:oS(b,aW)),S=y===aY?aQ:aY,w=e.rects.popper,E=e.elements[void 0!==_&&_?S:y],C=(i=ot(E)?E:E.contextElement||om(e.elements.popper),a=(s=[].concat("clippingParents"===f?(n=oF(og(i)),ot(r=["absolute","fixed"].indexOf(of(i).position)>=0&&oi(i)?o_(i):i)?n.filter(function(e){return ot(e)&&op(e,r)&&"body"!==a9(e)}):[]):[].concat(f),[void 0===m?aK:m]))[0],(o=s.reduce(function(e,t){var n=oU(i,t,d);return e.top=oa(n.top,e.top),e.right=oo(n.right,e.right),e.bottom=oo(n.bottom,e.bottom),e.left=oa(n.left,e.left),e},oU(i,a,d))).width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o),k=oh(e.elements.reference),x=oj({reference:k,element:w,strategy:"absolute",placement:u}),I=oB(Object.assign({},w,x)),A=y===aY?I:k,L={top:C.top-A.top+T.top,bottom:A.bottom-C.bottom+T.bottom,left:C.left-A.left+T.left,right:A.right-C.right+T.right},O=e.modifiersData.offset;if(y===aY&&O){var P=O[u];Object.keys(L).forEach(function(e){var t=[aH,aq].indexOf(e)>=0?1:-1,i=["top",aq].indexOf(e)>=0?"y":"x";L[e]+=P[i]*t})}return L}let oH={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,s=void 0===r||r,a=i.altAxis,o=void 0===a||a,l=i.fallbackPlacements,c=i.padding,u=i.boundary,h=i.rootBoundary,d=i.altBoundary,p=i.flipVariations,f=void 0===p||p,m=i.allowedAutoPlacements,g=t.options.placement,y=os(g),_=l||(y!==g&&f?function(e){if(os(e)===az)return[];var t=oO(e);return[oD(e),t,oD(t)]}(g):[oO(g)]),v=[g].concat(_).reduce(function(e,i){var n,r,s,a,o,l,d,p,g,y,_,v;return e.concat(os(i)===az?(r=(n={placement:i,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:m}).placement,s=n.boundary,a=n.rootBoundary,o=n.padding,l=n.flipVariations,p=void 0===(d=n.allowedAutoPlacements)?aJ:d,0===(_=(y=(g=oE(r))?l?a$:a$.filter(function(e){return oE(e)===g}):aW).filter(function(e){return p.indexOf(e)>=0})).length&&(_=y),Object.keys(v=_.reduce(function(e,i){return e[i]=oq(t,{placement:i,boundary:s,rootBoundary:a,padding:o})[os(i)],e},{})).sort(function(e,t){return v[e]-v[t]})):i)},[]),b=t.rects.reference,T=t.rects.popper,S=new Map,w=!0,E=v[0],C=0;C<v.length;C++){var k=v[C],x=os(k),I=oE(k)===aG,A=["top",aq].indexOf(x)>=0,L=A?"width":"height",O=oq(t,{placement:k,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),P=A?I?aH:aV:I?aq:"top";b[L]>T[L]&&(P=oO(P));var D=oO(P),N=[];if(s&&N.push(O[x]<=0),o&&N.push(O[P]<=0,O[D]<=0),N.every(function(e){return e})){E=k,w=!1;break}S.set(k,N)}if(w)for(var M=function(e){var t=v.find(function(t){var i=S.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return E=t,"break"},R=f?3:1;R>0&&"break"!==M(R);R--);t.placement!==E&&(t.modifiersData[n]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function oV(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function oz(e){return["top",aH,aq,aV].some(function(t){return e[t]>=0})}let oW={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,a=oq(t,{elementContext:"reference"}),o=oq(t,{altBoundary:!0}),l=oV(a,n),c=oV(o,r,s),u=oz(l),h=oz(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}},oG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.offset,s=void 0===r?[0,0]:r,a=aJ.reduce(function(e,i){var n,r,a,o,l,c;return e[i]=(n=t.rects,a=[aV,"top"].indexOf(r=os(i))>=0?-1:1,l=(o="function"==typeof s?s(Object.assign({},n,{placement:i})):s)[0],c=o[1],l=l||0,c=(c||0)*a,[aV,aH].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}),e},{}),o=a[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}},oX={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=oj({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},oK={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,s=i.altAxis,a=i.boundary,o=i.rootBoundary,l=i.altBoundary,c=i.padding,u=i.tether,h=void 0===u||u,d=i.tetherOffset,p=void 0===d?0:d,f=oq(t,{boundary:a,rootBoundary:o,padding:c,altBoundary:l}),m=os(t.placement),g=oE(t.placement),y=!g,_=ov(m),v="x"===_?"y":"x",b=t.modifiersData.popperOffsets,T=t.rects.reference,S=t.rects.popper,w="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,E="number"==typeof w?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(b){if(void 0===r||r){var x,I="y"===_?"top":aV,A="y"===_?aq:aH,L="y"===_?"height":"width",O=b[_],P=O+f[I],D=O-f[A],N=h?-S[L]/2:0,M=g===aG?T[L]:S[L],R=g===aG?-S[L]:-T[L],F=t.elements.arrow,B=h&&F?od(F):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=U[I],q=U[A],H=ob(0,T[L],B[L]),V=y?T[L]/2-N-H-j-E.mainAxis:M-H-j-E.mainAxis,z=y?-T[L]/2+N+H+q+E.mainAxis:R+H+q+E.mainAxis,W=t.elements.arrow&&o_(t.elements.arrow),G=W?"y"===_?W.clientTop||0:W.clientLeft||0:0,X=null!=(x=null==C?void 0:C[_])?x:0,K=ob(h?oo(P,O+V-X-G):P,O,h?oa(D,O+z-X):D);b[_]=K,k[_]=K-O}if(void 0!==s&&s){var Y,Q,$="x"===_?"top":aV,J="x"===_?aq:aH,Z=b[v],ee="y"===v?"height":"width",et=Z+f[$],ei=Z-f[J],en=-1!==["top",aV].indexOf(m),er=null!=(Q=null==C?void 0:C[v])?Q:0,es=en?et:Z-T[ee]-S[ee]-er+E.altAxis,ea=en?Z+T[ee]+S[ee]-er-E.altAxis:ei,eo=h&&en?(Y=ob(es,Z,ea))>ea?ea:Y:ob(h?es:et,Z,h?ea:ei);b[v]=eo,k[v]=eo-Z}t.modifiersData[n]=k}},requiresIfExists:["offset"]};var oY={placement:"bottom",modifiers:[],strategy:"absolute"};function oQ(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function o$(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,r=t.defaultOptions,s=void 0===r?oY:r;return function(e,t,i){void 0===i&&(i=s);var r,a,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},oY,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:o,setOptions:function(i){var r="function"==typeof i?i(o.options):i;h(),o.options=Object.assign({},s,o.options,r),o.scrollParents={reference:ot(e)?oF(e):e.contextElement?oF(e.contextElement):[],popper:oF(t)};var a,c,d,p,f,m=(a=Object.keys(f=[].concat(n,o.options.modifiers).reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{})).map(function(e){return f[e]}),c=new Map,d=new Set,p=[],a.forEach(function(e){c.set(e.name,e)}),a.forEach(function(e){d.has(e.name)||function e(t){d.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!d.has(t)){var i=c.get(t);i&&e(i)}}),p.push(t)}(e)}),a7.reduce(function(e,t){return e.concat(p.filter(function(e){return e.phase===t}))},[]));return o.orderedModifiers=m.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,n=e.effect;if("function"==typeof n){var r=n({state:o,name:t,instance:u,options:void 0===i?{}:i});l.push(r||function(){})}}),u.update()},forceUpdate:function(){if(!c){var e=o.elements,t=e.reference,i=e.popper;if(oQ(t,i)){o.rects={reference:(n=o_(i),r="fixed"===o.options.strategy,h=oi(n),d=oi(n)&&(a=ol((s=n.getBoundingClientRect()).width)/n.offsetWidth||1,l=ol(s.height)/n.offsetHeight||1,1!==a||1!==l),p=om(n),f=oh(t,d,r),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(h||!h&&!r)&&(("body"!==a9(n)||oR(p))&&(m=n!==oe(n)&&oi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:oN(n)),oi(n)?((g=oh(n,!0)).x+=n.clientLeft,g.y+=n.clientTop):p&&(g.x=oM(p))),{x:f.left+m.scrollLeft-g.x,y:f.top+m.scrollTop-g.y,width:f.width,height:f.height}),popper:od(i)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var n,r,s,a,l,h,d,p,f,m,g,y=0;y<o.orderedModifiers.length;y++)if(!0!==o.reset){var _=o.orderedModifiers[y],v=_.fn,b=_.options,T=void 0===b?{}:b,S=_.name;"function"==typeof v&&(o=v({state:o,options:T,name:S,instance:u})||o)}else o.reset=!1,y=-1}}},update:(r=function(){return new Promise(function(e){u.forceUpdate(),e(o)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(r())})})),a}),destroy:function(){h(),c=!0}};if(!oQ(e,t))return u;function h(){l.forEach(function(e){return e()}),l=[]}return u.setOptions(i).then(function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)}),u}}var oJ=o$(),oZ=o$({defaultModifiers:[oA,oX,ox,or]}),o0=o$({defaultModifiers:[oA,oX,ox,or,oG,oH,oK,ow,oW]});let o1=Object.freeze(Object.defineProperty({__proto__:null,afterMain:a5,afterRead:a1,afterWrite:a6,applyStyles:or,arrow:ow,auto:az,basePlacements:aW,beforeMain:a2,beforeRead:aZ,beforeWrite:a3,bottom:aq,clippingParents:aX,computeStyles:ox,createPopper:o0,createPopperBase:oJ,createPopperLite:oZ,detectOverflow:oq,end:"end",eventListeners:oA,flip:oH,hide:oW,left:aV,main:a4,modifierPhases:a7,offset:oG,placements:aJ,popper:aY,popperGenerator:o$,popperOffsets:oX,preventOverflow:oK,read:a0,reference:aQ,right:aH,start:aG,top:"top",variationPlacements:a$,viewport:aK,write:a8},Symbol.toStringTag,{value:"Module"})),o2="dropdown",o4=".bs.dropdown",o5=".data-api",o3="ArrowDown",o8="hide".concat(o4),o6="hidden".concat(o4),o7="show".concat(o4),o9="shown".concat(o4),le="click".concat(o4).concat(o5),lt="keydown".concat(o4).concat(o5),li="keyup".concat(o4).concat(o5),ln="show",lr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ls="".concat(lr,".").concat(ln),la=".dropdown-menu",lo=tN()?"top-end":"top-start",ll=tN()?"top-start":"top-end",lc=tN()?"bottom-end":"bottom-start",lu=tN()?"bottom-start":"bottom-end",lh=tN()?"left-start":"right-start",ld=tN()?"right-start":"left-start",lp={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lf={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},lm=class e extends t3{static get Default(){return lp}static get DefaultType(){return lf}static get NAME(){return o2}toggle(){return this._isShown()?this.hide():this.show()}show(){if(tI(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!tZ.trigger(this._element,o7,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let e of[].concat(...document.body.children))tZ.on(e,"mouseover",tL);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ln),this._element.classList.add(ln),tZ.trigger(this._element,o9,e)}}hide(){if(tI(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!tZ.trigger(this._element,o8,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tZ.off(e,"mouseover",tL);this._popper&&this._popper.destroy(),this._menu.classList.remove(ln),this._element.classList.remove(ln),this._element.setAttribute("aria-expanded","false"),t4.removeDataAttribute(this._menu,"popper"),tZ.trigger(this._element,o6,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!tC(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw TypeError("".concat(o2.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}_createPopper(){if(void 0===o1)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:tC(this._config.reference)?e=tk(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=o0(e,this._menu,t)}_isShown(){return this._menu.classList.contains(ln)}_getPlacement(){let e=this._parent;if(e.classList.contains("dropend"))return lh;if(e.classList.contains("dropstart"))return ld;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";let t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?ll:lo:t?lu:lc}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(t4.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem(e){let{key:t,target:i}=e,n=t8.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>tx(e));n.length&&tB(n,i,t===o3,!n.includes(i)).focus()}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw TypeError('No method named "'.concat(t,'"'));i[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(let i of t8.find(ls)){let n=e.getInstance(i);if(!n||!1===n._config.autoClose)continue;let r=t.composedPath(),s=r.includes(n._menu);if(r.includes(n._element)||"inside"===n._config.autoClose&&!s||"outside"===n._config.autoClose&&s||n._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let a={relatedTarget:n._element};"click"===t.type&&(a.clickEvent=t),n._completeHide(a)}}static dataApiKeydownHandler(t){let i=/input|textarea/i.test(t.target.tagName),n="Escape"===t.key,r=["ArrowUp",o3].includes(t.key);if(!r&&!n||i&&!n)return;t.preventDefault();let s=this.matches(lr)?this:t8.prev(this,lr)[0]||t8.next(this,lr)[0]||t8.findOne(lr,t.delegateTarget.parentNode),a=e.getOrCreateInstance(s);if(r)return t.stopPropagation(),a.show(),void a._selectMenuItem(t);a._isShown()&&(t.stopPropagation(),a.hide(),s.focus())}constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=t8.next(this._element,la)[0]||t8.prev(this._element,la)[0]||t8.findOne(la,this._parent),this._inNavbar=this._detectNavbar()}};tZ.on(document,lt,lr,lm.dataApiKeydownHandler),tZ.on(document,lt,la,lm.dataApiKeydownHandler),tZ.on(document,le,lm.clearMenus),tZ.on(document,li,lm.clearMenus),tZ.on(document,le,lr,function(e){e.preventDefault(),lm.getOrCreateInstance(this).toggle()}),tM(lm);let lg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ly=".sticky-top",l_="padding-right",lv="margin-right";class lb{getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,l_,t=>t+e),this._setElementAttributes(lg,l_,t=>t+e),this._setElementAttributes(ly,lv,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,l_),this._resetElementAttributes(lg,l_),this._resetElementAttributes(ly,lv)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){let n=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);let r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,"".concat(i(Number.parseFloat(r)),"px"))})}_saveInitialAttribute(e,t){let i=e.style.getPropertyValue(t);i&&t4.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{let i=t4.getDataAttribute(e,t);null!==i?(t4.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(tC(e))t(e);else for(let i of t8.find(e,this._element))t(i)}constructor(){this._element=document.body}}let lT="backdrop",lS="show",lw="mousedown.bs.".concat(lT),lE={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},lC={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class lk extends t5{static get Default(){return lE}static get DefaultType(){return lC}static get NAME(){return lT}show(e){if(!this._config.isVisible)return void tR(e);this._append();let t=this._getElement();this._config.isAnimated&&tO(t),t.classList.add(lS),this._emulateAnimation(()=>{tR(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(lS),this._emulateAnimation(()=>{this.dispose(),tR(e)})):tR(e)}dispose(){this._isAppended&&(tZ.off(this._element,lw),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=tk(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),tZ.on(e,lw,()=>{tR(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){tF(e,this._getElement(),this._config.isAnimated)}constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}}let lx=".bs.focustrap",lI="focusin".concat(lx),lA="keydown.tab".concat(lx),lL="backward",lO={autofocus:!0,trapElement:null},lP={autofocus:"boolean",trapElement:"element"};class lD extends t5{static get Default(){return lO}static get DefaultType(){return lP}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),tZ.off(document,lx),tZ.on(document,lI,e=>this._handleFocusin(e)),tZ.on(document,lA,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,tZ.off(document,lx))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let i=t8.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===lL?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?lL:"forward")}constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}}let lN=".bs.modal",lM="hide".concat(lN),lR="hidePrevented".concat(lN),lF="hidden".concat(lN),lB="show".concat(lN),lU="shown".concat(lN),lj="resize".concat(lN),lq="click.dismiss".concat(lN),lH="mousedown.dismiss".concat(lN),lV="keydown.dismiss".concat(lN),lz="click".concat(lN,".data-api"),lW="modal-open",lG="show",lX="modal-static",lK={backdrop:!0,focus:!0,keyboard:!0},lY={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},lQ=class e extends t3{static get Default(){return lK}static get DefaultType(){return lY}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||tZ.trigger(this._element,lB,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(lW),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(tZ.trigger(this._element,lM).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(lG),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(let e of[window,this._dialog])tZ.off(e,lN);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new lk({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new lD({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=t8.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),tO(this._element),this._element.classList.add(lG),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tZ.trigger(this._element,lU,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){tZ.on(this._element,lV,e=>{if("Escape"===e.key)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),tZ.on(window,lj,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),tZ.on(this._element,lH,e=>{tZ.one(this._element,lq,t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(lW),this._resetAdjustments(),this._scrollBar.reset(),tZ.trigger(this._element,lF)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(tZ.trigger(this._element,lR).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(lX)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(lX),this._queueCallback(()=>{this._element.classList.remove(lX),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){let e=tN()?"paddingLeft":"paddingRight";this._element.style[e]="".concat(t,"px")}if(!i&&e){let e=tN()?"paddingRight":"paddingLeft";this._element.style[e]="".concat(t,"px")}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){let n=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw TypeError('No method named "'.concat(t,'"'));n[t](i)}})}constructor(e,t){super(e,t),this._dialog=t8.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new lb,this._addEventListeners()}};tZ.on(document,lz,'[data-bs-toggle="modal"]',function(e){let t=tw(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),tZ.one(t,lB,e=>{e.defaultPrevented||tZ.one(t,lF,()=>{tx(this)&&this.focus()})});let i=t8.findOne(".modal.show");i&&lQ.getInstance(i).hide(),lQ.getOrCreateInstance(t).toggle(this)}),iy(lQ),tM(lQ);let l$=".bs.offcanvas",lJ=".data-api",lZ="load".concat(l$).concat(lJ),l0="show",l1="showing",l2="hiding",l4=".offcanvas.show",l5="show".concat(l$),l3="shown".concat(l$),l8="hide".concat(l$),l6="hidePrevented".concat(l$),l7="hidden".concat(l$),l9="click".concat(l$).concat(lJ),ce="keydown.dismiss".concat(l$),ct={backdrop:!0,keyboard:!0,scroll:!1},ci={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},cn=class e extends t3{static get Default(){return ct}static get DefaultType(){return ci}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){!this._isShown&&(tZ.trigger(this._element,l5,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new lb).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(l1),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(l0),this._element.classList.remove(l1),tZ.trigger(this._element,l3,{relatedTarget:e})},this._element,!0)))}hide(){this._isShown&&(tZ.trigger(this._element,l8).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(l2),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(l0,l2),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new lb).reset(),tZ.trigger(this._element,l7)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=!!this._config.backdrop;return new lk({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():tZ.trigger(this._element,l6)}:null})}_initializeFocusTrap(){return new lD({trapElement:this._element})}_addEventListeners(){tZ.on(this._element,ce,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():tZ.trigger(this._element,l6))})}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t]||t.startsWith("_")||"constructor"===t)throw TypeError('No method named "'.concat(t,'"'));i[t](this)}})}constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}};tZ.on(document,l9,'[data-bs-toggle="offcanvas"]',function(e){let t=tw(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),tI(this))return;tZ.one(t,l7,()=>{tx(this)&&this.focus()});let i=t8.findOne(l4);i&&i!==t&&cn.getInstance(i).hide(),cn.getOrCreateInstance(t).toggle(this)}),tZ.on(window,lZ,()=>{for(let e of t8.find(l4))cn.getOrCreateInstance(e).show()}),tZ.on(window,"resize".concat(l$),()=>{for(let e of t8.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&cn.getOrCreateInstance(e).hide()}),iy(cn),tM(cn);let cr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),cs=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ca=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,co=(e,t)=>{let i=e.nodeName.toLowerCase();return t.includes(i)?!cr.has(i)||!!(cs.test(e.nodeValue)||ca.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))},cl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cc={allowList:cl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},cu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ch={entry:"(string|element|function|null)",selector:"(string|element)"};class cd extends t5{static get Default(){return cc}static get DefaultType(){return cu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");for(let[t,i]of(e.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(e,i,t);let t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},ch)}_setContent(e,t,i){let n=t8.findOne(i,e);n&&((t=this._resolvePossibleFunction(t))?tC(t)?this._putElementInTemplate(tk(t),n):this._config.html?n.innerHTML=this._maybeSanitize(t):n.textContent=t:n.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);let n=(new window.DOMParser).parseFromString(e,"text/html");for(let e of[].concat(...n.body.querySelectorAll("*"))){let i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}let n=[].concat(...e.attributes),r=[].concat(t["*"]||[],t[i]||[]);for(let t of n)co(t,r)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}constructor(e){super(),this._config=this._getConfig(e)}}let cp=new Set(["sanitize","allowList","sanitizeFn"]),cf="fade",cm="show",cg=".modal",cy="hide.bs.modal",c_="hover",cv="focus",cb={AUTO:"auto",TOP:"top",RIGHT:tN()?"left":"right",BOTTOM:"bottom",LEFT:tN()?"right":"left"},cT={allowList:cl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},cS={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},cw=class e extends t3{static get Default(){return cT}static get DefaultType(){return cS}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),tZ.off(this._element.closest(cg),cy,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;let e=tZ.trigger(this._element,this.constructor.eventName("show")),t=(tA(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),tZ.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(cm),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tZ.on(e,"mouseover",tL);this._queueCallback(()=>{tZ.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!tZ.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(cm),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tZ.off(e,"mouseover",tL);this._activeTrigger.click=!1,this._activeTrigger[cv]=!1,this._activeTrigger[c_]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),tZ.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(cf,cm),t.classList.add("bs-".concat(this.constructor.NAME,"-auto"));let i=(e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(cf),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new cd({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cf)}_isShown(){return this.tip&&this.tip.classList.contains(cm)}_createPopper(e){let t=cb[("function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement).toUpperCase()];return o0(this._element,e,this._getPopperConfig(t))}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){for(let e of this._config.trigger.split(" "))if("click"===e)tZ.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==e){let t=e===c_?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=e===c_?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");tZ.on(this._element,t,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?cv:c_]=!0,t._enter()}),tZ.on(this._element,i,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?cv:c_]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},tZ.on(this._element.closest(cg),cy,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=t4.getDataAttributes(this._element);for(let e of Object.keys(t))cp.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:tk(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw TypeError('No method named "'.concat(t,'"'));i[t]()}})}constructor(e,t){if(void 0===o1)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}};tM(cw);let cE={...cw.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},cC={...cw.DefaultType,content:"(null|string|element|function)"},ck=class e extends cw{static get Default(){return cE}static get DefaultType(){return cC}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw TypeError('No method named "'.concat(t,'"'));i[t]()}})}};tM(ck);let cx=".bs.scrollspy",cI="activate".concat(cx),cA="click".concat(cx),cL="active",cO="[href]",cP=".nav-link",cD="".concat(cP,", .nav-item > ").concat(cP,", .list-group-item"),cN={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cM={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},cR=class e extends t3{static get Default(){return cN}static get DefaultType(){return cM}static get NAME(){return"scrollspy"}refresh(){for(let e of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=tk(e.target)||document.body,e.rootMargin=e.offset?"".concat(e.offset,"px 0px -30%"):e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(tZ.off(this._config.target,cA),tZ.on(this._config.target,cA,cO,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){let t=e=>this._targetLinks.get("#".concat(e.target.id)),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;for(let s of(this._previousScrollData.parentScrollTop=n,e)){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}let e=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&e){if(i(s),!n)return}else r||e||i(s)}}_initializeTargetsAndObservables(){for(let e of(this._targetLinks=new Map,this._observableSections=new Map,t8.find(cO,this._config.target))){if(!e.hash||tI(e))continue;let t=t8.findOne(e.hash,this._element);tx(t)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,t))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(cL),this._activateParents(e),tZ.trigger(this._element,cI,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))t8.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(cL);else for(let t of t8.parents(e,".nav, .list-group"))for(let e of t8.prev(t,cD))e.classList.add(cL)}_clearActiveClass(e){for(let t of(e.classList.remove(cL),t8.find("".concat(cO,".").concat(cL),e)))t.classList.remove(cL)}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t]||t.startsWith("_")||"constructor"===t)throw TypeError('No method named "'.concat(t,'"'));i[t]()}})}constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}};tZ.on(window,"load".concat(cx,".data-api"),()=>{for(let e of t8.find('[data-bs-spy="scroll"]'))cR.getOrCreateInstance(e)}),tM(cR);let cF=".bs.tab",cB="hide".concat(cF),cU="hidden".concat(cF),cj="show".concat(cF),cq="shown".concat(cF),cH="click".concat(cF),cV="keydown".concat(cF),cz="load".concat(cF),cW="ArrowRight",cG="ArrowDown",cX="active",cK="fade",cY="show",cQ=":not(.dropdown-toggle)",c$='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',cJ="".concat(".nav-link".concat(cQ,", .list-group-item").concat(cQ,', [role="tab"]').concat(cQ),", ").concat(c$),cZ=".".concat(cX,'[data-bs-toggle="tab"], .').concat(cX,'[data-bs-toggle="pill"], .').concat(cX,'[data-bs-toggle="list"]'),c0=class e extends t3{static get NAME(){return"tab"}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),i=t?tZ.trigger(t,cB,{relatedTarget:e}):null;tZ.trigger(e,cj,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(cX),this._activate(tw(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),tZ.trigger(e,cq,{relatedTarget:t})):e.classList.add(cY)},e,e.classList.contains(cK)))}_deactivate(e,t){e&&(e.classList.remove(cX),e.blur(),this._deactivate(tw(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),tZ.trigger(e,cU,{relatedTarget:t})):e.classList.remove(cY)},e,e.classList.contains(cK)))}_keydown(t){if(!["ArrowLeft",cW,"ArrowUp",cG].includes(t.key))return;t.stopPropagation(),t.preventDefault();let i=[cW,cG].includes(t.key),n=tB(this._getChildren().filter(e=>!tI(e)),t.target,i,!0);n&&(n.focus({preventScroll:!0}),e.getOrCreateInstance(n).show())}_getChildren(){return t8.find(cJ,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){for(let i of(this._setAttributeIfNotExists(e,"role","tablist"),t))this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=tw(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby","#".concat(e.id)))}_toggleDropDown(e,t){let i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;let n=(e,n)=>{let r=t8.findOne(e,i);r&&r.classList.toggle(n,t)};n(".dropdown-toggle",cX),n(".dropdown-menu",cY),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(cX)}_getInnerElement(e){return e.matches(cJ)?e:t8.findOne(cJ,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this);if("string"==typeof t){if(void 0===i[t]||t.startsWith("_")||"constructor"===t)throw TypeError('No method named "'.concat(t,'"'));i[t]()}})}constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),tZ.on(this._element,cV,e=>this._keydown(e)))}};tZ.on(document,cH,c$,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),tI(this)||c0.getOrCreateInstance(this).show()}),tZ.on(window,cz,()=>{for(let e of t8.find(cZ))c0.getOrCreateInstance(e)}),tM(c0);let c1=".bs.tab",c2="click".concat(c1),c4="load".concat(c1),c5="ArrowRight",c3="ArrowDown",c8="Enter",c6="active",c7=".".concat(c6,'[data-bs-toggle="tab"], .').concat(c6,'[data-bs-toggle="pill"], .').concat(c6,'[data-bs-toggle="list"]');class c9 extends c0{_keydown(e){if(!["ArrowLeft",c5,"ArrowUp",c3,c8," "].includes(e.key))return;if(e.stopPropagation(),e.preventDefault(),e.key===c8||" "===e.key)return void c9.getOrCreateInstance(e.target).show();let t=[c5,c3].includes(e.key),i=tB(this._getChildren().filter(e=>!tI(e)),e.target,t,!0);i&&i.focus({preventScroll:!0})}constructor(e){super(e)}}tZ.on(document,c2,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),tI(this)||(c9.getOrCreateInstance(this).dispose(),c9.getOrCreateInstance(this).show())}),tZ.on(window,c4,()=>{for(let e of t8.find(c7))c9.getOrCreateInstance(e).dispose(),c9.getOrCreateInstance(e)}),tM(c9);let ue=".bs.toast",ut="mouseover".concat(ue),ui="mouseout".concat(ue),un="focusin".concat(ue),ur="focusout".concat(ue),us="hide".concat(ue),ua="hidden".concat(ue),uo="show".concat(ue),ul="shown".concat(ue),uc="hide",uu="show",uh="showing",ud={animation:"boolean",autohide:"boolean",delay:"number"},up={animation:!0,autohide:!0,delay:5e3},uf=class e extends t3{static get Default(){return up}static get DefaultType(){return ud}static get NAME(){return"toast"}show(){tZ.trigger(this._element,uo).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(uc),tO(this._element),this._element.classList.add(uu,uh),this._queueCallback(()=>{this._element.classList.remove(uh),tZ.trigger(this._element,ul),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(tZ.trigger(this._element,us).defaultPrevented||(this._element.classList.add(uh),this._queueCallback(()=>{this._element.classList.add(uc),this._element.classList.remove(uh,uu),tZ.trigger(this._element,ua)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(uu),super.dispose()}isShown(){return this._element.classList.contains(uu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){tZ.on(this._element,ut,e=>this._onInteraction(e,!0)),tZ.on(this._element,ui,e=>this._onInteraction(e,!1)),tZ.on(this._element,un,e=>this._onInteraction(e,!0)),tZ.on(this._element,ur,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let i=e.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw TypeError('No method named "'.concat(t,'"'));i[t](this)}})}constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}};iy(uf),tM(uf);var um=window,ug=Array.prototype.slice,uy=function(e,t){for(("length"in e)||(e=[e]),e=ug.call(e);e.length;){var i=e.shift(),n=t(i);if(n)return n;i.childNodes&&i.childNodes.length&&(e=ug.call(i.childNodes).concat(e))}};function u_(e,t){if(!(this instanceof u_))return new u_(e,t);this.data=e,this.nodeValue=e,this.length=e.length,this.ownerDocument=t||null}function uv(e,t){if(!(this instanceof uv))return new uv(e);this.data=e||"",this.length=this.data.length,this.ownerDocument=t||null}u_.prototype.nodeType=8,u_.prototype.nodeName="#comment",u_.prototype.toString=function(){return"[object Comment]"},uv.prototype.type="DOMTextNode",uv.prototype.nodeType=3,uv.prototype.nodeName="#text",uv.prototype.toString=function(){return this.data},uv.prototype.replaceData=function(e,t,i){var n=this.data,r=n.substring(0,e),s=n.substring(e+t,n.length);this.data=r+i+s,this.length=this.data.length};var ub=function(e){var t=this,i=e.type;e.target||(e.target=t),t.listeners||(t.listeners={});var n=t.listeners[i];if(n)return n.forEach(function(i){e.currentTarget=t,"function"==typeof i?i(e):i.handleEvent(e)});t.parentNode&&t.parentNode.dispatchEvent(e)},uT=function(e,t){this.listeners||(this.listeners={}),this.listeners[e]||(this.listeners[e]=[]),-1===this.listeners[e].indexOf(t)&&this.listeners[e].push(t)},uS=function(e,t){if(this.listeners&&this.listeners[e]){var i=this.listeners[e],n=i.indexOf(t);-1!==n&&i.splice(n,1)}},uw=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function uE(e){var t=[];return e.forEach(function(e){var i=e.name,n=e.value;"style"===i&&(n=function(e){if("string"==typeof e)return e;var t="";return Object.keys(e).forEach(function(i){var n=e[i];i=i.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),t+=i+":"+n+";"}),t}(n)),t.push(i+'="'+uC(n).replace(/"/g,"&quot;")+'"')}),t.length?" "+t.join(" "):""}function uC(e){var t="";return"string"==typeof e?t=e:e&&(t=e.toString()),t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var uk="http://www.w3.org/1999/xhtml";function ux(e,t,i){if(!(this instanceof ux))return new ux(e);var n=void 0===i?uk:i||null;this.tagName=n===uk?String(e).toUpperCase():e,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=t||null,this.namespaceURI=n,this._attributes={},"INPUT"===this.tagName&&(this.type="text")}function uI(e){if(!(this instanceof uI))return new uI;this.childNodes=[],this.parentNode=null,this.ownerDocument=e||null}function uA(e){}function uL(){if(!(this instanceof uL))return new uL;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}ux.prototype.type="DOMElement",ux.prototype.nodeType=1,ux.prototype.appendChild=function(e){return e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,e},ux.prototype.replaceChild=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var i=this.childNodes.indexOf(t);return t.parentNode=null,this.childNodes[i]=e,e.parentNode=this,t},ux.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);return this.childNodes.splice(t,1),e.parentNode=null,e},ux.prototype.insertBefore=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var i=null==t?-1:this.childNodes.indexOf(t);return i>-1?this.childNodes.splice(i,0,e):this.childNodes.push(e),e.parentNode=this,e},ux.prototype.setAttributeNS=function(e,t,i){var n=null,r=t,s=t.indexOf(":");(s>-1&&(n=t.substr(0,s),r=t.substr(s+1)),"INPUT"===this.tagName&&"type"===t)?this.type=i:(this._attributes[e]||(this._attributes[e]={}))[r]={value:i,prefix:n}},ux.prototype.getAttributeNS=function(e,t){var i=this._attributes[e],n=i&&i[t]&&i[t].value;return"INPUT"===this.tagName&&"type"===t?this.type:"string"!=typeof n?null:n},ux.prototype.removeAttributeNS=function(e,t){var i=this._attributes[e];i&&delete i[t]},ux.prototype.hasAttributeNS=function(e,t){var i=this._attributes[e];return!!i&&t in i},ux.prototype.setAttribute=function(e,t){return this.setAttributeNS(null,e,t)},ux.prototype.getAttribute=function(e){return this.getAttributeNS(null,e)},ux.prototype.removeAttribute=function(e){return this.removeAttributeNS(null,e)},ux.prototype.hasAttribute=function(e){return this.hasAttributeNS(null,e)},ux.prototype.removeEventListener=uS,ux.prototype.addEventListener=uT,ux.prototype.dispatchEvent=ub,ux.prototype.focus=function(){},ux.prototype.toString=function(){return function e(t){switch(t.nodeType){case 3:return uC(t.data);case 8:return"\x3c!--"+t.data+"--\x3e";default:var i,n;return i=[],n=t.tagName,"http://www.w3.org/1999/xhtml"===t.namespaceURI&&(n=n.toLowerCase()),i.push("<"+n+function(e){var t=[];for(var i in e)(function(e,t){var i=typeof e[t];return"style"===t&&Object.keys(e.style).length>0||e.hasOwnProperty(t)&&("string"===i||"boolean"===i||"number"===i)&&"nodeName"!==t&&"className"!==t&&"tagName"!==t&&"textContent"!==t&&"innerText"!==t&&"namespaceURI"!==t&&"innerHTML"!==t})(e,i)&&t.push({name:i,value:e[i]});for(var n in e._attributes)for(var r in e._attributes[n]){var s=e._attributes[n][r],a=(s.prefix?s.prefix+":":"")+r;t.push({name:a,value:s.value})}return e.className&&t.push({name:"class",value:e.className}),t.length?uE(t):""}(t)+function(e){var t=e.dataset,i=[];for(var n in t)i.push({name:"data-"+n,value:t[n]});return i.length?uE(i):""}(t)),uw.indexOf(n)>-1?i.push(" />"):(i.push(">"),t.childNodes.length?i.push.apply(i,t.childNodes.map(e)):t.textContent||t.innerText?i.push(uC(t.textContent||t.innerText)):t.innerHTML&&i.push(t.innerHTML),i.push("</"+n+">")),i.join("")}}(this)},ux.prototype.getElementsByClassName=function(e){var t=e.split(" "),i=[];return uy(this,function(e){if(1===e.nodeType){var n=(e.className||"").split(" ");t.every(function(e){return -1!==n.indexOf(e)})&&i.push(e)}}),i},ux.prototype.getElementsByTagName=function(e){e=e.toLowerCase();var t=[];return uy(this.childNodes,function(i){1!==i.nodeType||"*"!==e&&i.tagName.toLowerCase()!==e||t.push(i)}),t},ux.prototype.contains=function(e){return uy(this,function(t){return e===t})||!1},uI.prototype.type="DocumentFragment",uI.prototype.nodeType=11,uI.prototype.nodeName="#document-fragment",uI.prototype.appendChild=ux.prototype.appendChild,uI.prototype.replaceChild=ux.prototype.replaceChild,uI.prototype.removeChild=ux.prototype.removeChild,uI.prototype.toString=function(){return this.childNodes.map(function(e){return String(e)}).join("")},uA.prototype.initEvent=function(e,t,i){this.type=e,this.bubbles=t,this.cancelable=i},uA.prototype.preventDefault=function(){};var uO=uL.prototype;uO.createTextNode=function(e){return new uv(e,this)},uO.createElementNS=function(e,t){return new ux(t,this,null===e?null:String(e))},uO.createElement=function(e){return new ux(e,this)},uO.createDocumentFragment=function(){return new uI(this)},uO.createEvent=function(e){return new uA},uO.createComment=function(e){return new u_(e,this)},uO.getElementById=function(e){return e=String(e),uy(this.childNodes,function(t){if(String(t.id)===e)return t})||null},uO.getElementsByClassName=ux.prototype.getElementsByClassName,uO.getElementsByTagName=ux.prototype.getElementsByTagName,uO.contains=ux.prototype.contains,uO.removeEventListener=uS,uO.addEventListener=uT,uO.dispatchEvent=ub;var uP,uD=new uL,uN=void 0!==rD?rD:window;"undefined"!=typeof document?uP=document:(uP=uN["__GLOBAL_DOCUMENT_CACHE@4"])||(uP=uN["__GLOBAL_DOCUMENT_CACHE@4"]=uD);var uM=uP;function uR(){return(uR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(null,arguments)}var uF=function(e){if(!e)return!1;var t=uB.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt},uB=Object.prototype.toString;function uU(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var uj=function(){function e(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var t=e.prototype;return t.getIsEnabled=function(){return this.enabled_},t.enable=function(){this.enabled_=!0},t.disable=function(){this.enabled_=!1},t.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},t.addInterceptor=function(e,t){this.typeToInterceptorsMap_.has(e)||this.typeToInterceptorsMap_.set(e,new Set);var i=this.typeToInterceptorsMap_.get(e);return!i.has(t)&&(i.add(t),!0)},t.removeInterceptor=function(e,t){var i=this.typeToInterceptorsMap_.get(e);return!(!i||!i.has(t))&&(i.delete(t),!0)},t.clearInterceptorsByType=function(e){return!!this.typeToInterceptorsMap_.get(e)&&(this.typeToInterceptorsMap_.delete(e),this.typeToInterceptorsMap_.set(e,new Set),!0)},t.clear=function(){return!!this.typeToInterceptorsMap_.size&&(this.typeToInterceptorsMap_=new Map,!0)},t.getForType=function(e){return this.typeToInterceptorsMap_.get(e)||new Set},t.execute=function(e,t){for(var i,n=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return uU(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return uU(e,void 0)}}(e))){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.getForType(e));!(i=n()).done;){var r=i.value;try{t=r(t)}catch(e){}}return t},e}(),uq=function(){function e(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var t=e.prototype;return t.getIsEnabled=function(){return this.enabled_},t.enable=function(){this.enabled_=!0},t.disable=function(){this.enabled_=!1},t.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},t.getMaxAttempts=function(){return this.maxAttempts_},t.setMaxAttempts=function(e){this.maxAttempts_=e},t.getDelayFactor=function(){return this.delayFactor_},t.setDelayFactor=function(e){this.delayFactor_=e},t.getFuzzFactor=function(){return this.fuzzFactor_},t.setFuzzFactor=function(e){this.fuzzFactor_=e},t.getInitialDelay=function(){return this.initialDelay_},t.setInitialDelay=function(e){this.initialDelay_=e},t.createRetry=function(e){var t=void 0===e?{}:e,i=t.maxAttempts,n=t.delayFactor,r=t.fuzzFactor,s=t.initialDelay;return new uH({maxAttempts:i||this.maxAttempts_,delayFactor:n||this.delayFactor_,fuzzFactor:r||this.fuzzFactor_,initialDelay:s||this.initialDelay_})},e}(),uH=function(){function e(e){this.maxAttempts_=e.maxAttempts,this.delayFactor_=e.delayFactor,this.fuzzFactor_=e.fuzzFactor,this.currentDelay_=e.initialDelay,this.currentAttempt_=1}var t=e.prototype;return t.moveToNextAttempt=function(){this.currentAttempt_++;var e=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+e},t.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},t.getCurrentDelay=function(){return this.currentDelay_},t.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},t.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},t.getCurrentFuzzedDelay=function(){var e=this.getCurrentMinPossibleDelay();return e+Math.random()*(this.getCurrentMaxPossibleDelay()-e)},e}();uG.httpHandler=function(e,t){return void 0===t&&(t=!1),function(i,n,r){if(i)e(i);else if(n.statusCode>=400&&n.statusCode<=599){var s=r;if(t){if(um.TextDecoder){var a,o=(void 0===(a=n.headers&&n.headers["content-type"])&&(a=""),a.toLowerCase().split(";").reduce(function(e,t){var i=t.split("="),n=i[0],r=i[1];return"charset"===n.trim()?r.trim():e},"utf-8"));try{s=new TextDecoder(o).decode(r)}catch(e){}}else s=String.fromCharCode.apply(null,new Uint8Array(r))}e({cause:s})}else e(null,r)}},uG.requestInterceptorsStorage=new uj,uG.responseInterceptorsStorage=new uj,uG.retryManager=new uq;var uV=function(e){var t={};return e&&e.trim().split("\n").forEach(function(e){var i=e.indexOf(":"),n=e.slice(0,i).trim().toLowerCase(),r=e.slice(i+1).trim();void 0===t[n]?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]}),t},uz=uG;function uW(e,t,i){var n=e;return uF(t)?(i=t,"string"==typeof e&&(n={uri:e})):n=uR({},t,{uri:e}),n.callback=i,n}function uG(e,t,i){return uX(t=uW(e,t,i))}function uX(e){if(void 0===e.callback)throw Error("callback argument missing");if(e.requestType&&uG.requestInterceptorsStorage.getIsEnabled()){var t={uri:e.uri||e.url,headers:e.headers||{},body:e.body,metadata:e.metadata||{},retry:e.retry,timeout:e.timeout},i=uG.requestInterceptorsStorage.execute(e.requestType,t);e.uri=i.uri,e.headers=i.headers,e.body=i.body,e.metadata=i.metadata,e.retry=i.retry,e.timeout=i.timeout}var n=!1,r=function(t,i,r){n||(n=!0,e.callback(t,i,r))};function s(t){if(clearTimeout(u),clearTimeout(e.retryTimeout),t instanceof Error||(t=Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,l||!uG.retryManager.getIsEnabled()||!e.retry||!e.retry.shouldRetry()){if(e.requestType&&uG.responseInterceptorsStorage.getIsEnabled()){var i={headers:y.headers||{},body:y.body,responseUrl:c.responseURL,responseType:c.responseType},n=uG.responseInterceptorsStorage.execute(e.requestType,i);y.body=n.body,y.headers=n.headers}return r(t,y)}e.retryTimeout=setTimeout(function(){e.retry.moveToNextAttempt(),e.xhr=c,uX(e)},e.retry.getCurrentFuzzedDelay())}function a(){if(!l){clearTimeout(u),clearTimeout(e.retryTimeout);var t,i=y,n=null;if(0!==(t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status)?(i={body:function(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(c),g)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:d,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(i.headers=uV(c.getAllResponseHeaders()))):n=Error("Internal XMLHttpRequest Error"),e.requestType&&uG.responseInterceptorsStorage.getIsEnabled()){var s={headers:i.headers||{},body:i.body,responseUrl:c.responseURL,responseType:c.responseType},a=uG.responseInterceptorsStorage.execute(e.requestType,s);i.body=a.body,i.headers=a.headers}return r(n,i,i.body)}}var o,l,c=e.xhr||null;c||(c=e.cors||e.useXDR?new uG.XDomainRequest:new uG.XMLHttpRequest);var u,h=c.url=e.uri||e.url,d=c.method=e.method||"GET",p=e.body||e.data,f=c.headers=e.headers||{},m=!!e.sync,g=!1,y={body:void 0,headers:{},statusCode:0,method:d,url:h,rawRequest:c};if("json"in e&&!1!==e.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),c.onreadystatechange=function(){4!==c.readyState||uG.responseInterceptorsStorage.getIsEnabled()||setTimeout(a,0)},c.onload=a,c.onerror=s,c.onprogress=function(){},c.onabort=function(){l=!0,clearTimeout(e.retryTimeout)},c.ontimeout=s,c.open(d,h,!m,e.username,e.password),m||(c.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(u=setTimeout(function(){if(!l){l=!0,c.abort("timeout");var e=Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",s(e)}},e.timeout)),c.setRequestHeader)for(o in f)f.hasOwnProperty(o)&&c.setRequestHeader(o,f[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(p||null),c}uG.XMLHttpRequest=um.XMLHttpRequest||function(){},uG.XDomainRequest="withCredentials"in new uG.XMLHttpRequest?uG.XMLHttpRequest:um.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}(["get","put","post","patch","head","delete"],function(e){uG["delete"===e?"del":e]=function(t,i,n){return(i=uW(t,i,n)).method=e.toUpperCase(),uX(i)}}),uz.default=uG;var uK=Object.create||function(){function e(){}return function(t){if(1!=arguments.length)throw Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function uY(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function uQ(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function u$(){this.values=uK(null)}function uJ(e,t,i,n){var r=n?e.split(n):[e];for(var s in r)if("string"==typeof r[s]){var a=r[s].split(i);2===a.length&&t(a[0].trim(),a[1].trim())}}uY.prototype=uK(Error.prototype),uY.prototype.constructor=uY,uY.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},u$.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var uZ=uM.createElement&&uM.createElement("textarea"),u0={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u1={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},u2={v:"title",lang:"lang"},u4={rt:"ruby"};function u5(e,t){for(var i,n,r=e.document.createElement("div"),s=r,a=[];null!==(i=function(){if(!t)return null;var e,i=t.match(/^([^<]*)(<[^>]*>?)?/);return e=i[1]?i[1]:i[2],t=t.substr(e.length),e}());)if("<"!==i[0])s.appendChild(e.document.createTextNode((n=i,uZ.innerHTML=n,n=uZ.textContent,uZ.textContent="",n)));else{if("/"===i[1]){a.length&&a[a.length-1]===i.substr(2).replace(">","")&&(a.pop(),s=s.parentNode);continue}var o,l,c,u=uQ(i.substr(1,i.length-2));if(u){c=e.document.createProcessingInstruction("timestamp",u),s.appendChild(c);continue}var h=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||!(c=function(t,i){var n=u0[t];if(!n)return null;var r=e.document.createElement(n),s=u2[t];return s&&i&&(r[s]=i.trim()),r}(h[1],h[3]))||(o=s,u4[(l=c).localName]&&u4[l.localName]!==o.localName))continue;if(h[2]){var d=h[2].split(".");d.forEach(function(e){var t=/^bg_/.test(e),i=t?e.slice(3):e;if(u1.hasOwnProperty(i)){var n=t?"background-color":"color",r=u1[i];c.style[n]=r}}),c.className=d.join(" ")}a.push(h[1]),s.appendChild(c),s=c}return r}var u3=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function u8(){}function u6(e,t,i){u8.call(this),this.cue=t,this.cueDiv=u5(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:function(e){var t=[],i="";if(!e||!e.childNodes)return"ltr";function n(e,t){for(var i=t.childNodes.length-1;i>=0;i--)e.push(t.childNodes[i])}for(n(t,e);i=function e(t){if(!t||!t.length)return null;var i=t.pop(),r=i.textContent||i.innerText;if(r){var s=r.match(/^.*(\n|\r)/);return s?(t.length=0,s[0]):r}return"ruby"===i.tagName?e(t):i.childNodes?(n(t,i),e(t)):void 0}(t);)for(var r=0;r<i.length;r++)if(function(e){for(var t=0;t<u3.length;t++){var i=u3[t];if(e>=i[0]&&e<=i[1])return!0}return!1}(i.charCodeAt(r)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":case"line-left":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":case"line-right":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function u7(e){var t,i,n,r;if(e.div){i=e.div.offsetHeight,n=e.div.offsetWidth,r=e.div.offsetTop;var s=(s=e.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();e=e.div.getBoundingClientRect(),t=s?Math.max(s[0]&&s[0].height||0,e.height/s.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||i,this.bottom=e.bottom||r+(e.height||i),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function u9(){}u8.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},u8.prototype.formatStyle=function(e,t){return 0===e?0:e+t},u6.prototype=uK(u8.prototype),u6.prototype.constructor=u6,u7.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},u7.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},u7.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},u7.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},u7.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},u7.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},u7.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},u7.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i}},u9.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},u9.convertCueToDOMTree=function(e,t){return e&&t?u5(e,t):null},u9.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],s=u7.getSimpleBoxPosition(n),a={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var i,o,l=0;l<t.length;l++)i=new u6(e,o=t[l],a),n.appendChild(i.div),function(e,t,i,n){var r=new u7(t),s=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return -1;for(var t=e.track,i=t.textTrackList,n=0,r=0;r<i.length&&i[r]!==t;r++)"showing"===i[r].mode&&n++;return -1*++n}(s),o=[];if(s.snapToLines){switch(s.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var l,c=r.lineHeight,u=c*Math.round(a),h=i[l]+c,d=o[0];Math.abs(u)>h&&(u=Math.ceil(h/c)*c*(u<0?-1:1)),a<0&&(u+=""===s.vertical?i.height:i.width,o=o.reverse()),r.move(d,u)}else{var p=r.lineHeight/i.height*100;switch(s.lineAlign){case"center":a-=p/2;break;case"end":a-=p}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],r=new u7(t)}var f=function(e,t){for(var r,s=new u7(e),a=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(i,t[o])||e.within(i)&&e.overlapsAny(n);)e.move(t[o]);if(e.within(i))return e;var l=e.intersectPercentage(i);a>l&&(r=new u7(e),a=l),e=new u7(s)}return r||s}(r,o);t.move(f.toCSSCompatValues(i))}(0,i,s,r),o.displayState=i.div,r.push(u7.getSimpleBoxPosition(i))}()}else for(var o=0;o<t.length;o++)n.appendChild(t[o].displayState)},u9.Parser=function(e,t,i){i||(i=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},u9.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof uY))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,i=this;function n(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var r,s=(t=n()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new uY(uY.Errors.BadSignature);i.state="HEADER"}for(var a=!1;i.buffer&&/\r\n|\n/.test(i.buffer);)switch(a?a=!1:t=n(),i.state){case"HEADER":/:/.test(t)?(r=t).match(/X-TIMESTAMP-MAP/)?uJ(r,function(e,t){if("X-TIMESTAMP-MAP"===e){var n;n=new u$,uJ(t,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",uQ(t))}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}},/=/):uJ(r,function(e,t){"Region"===e&&function(e){var t=new u$;if(uJ(e,function(e,i){switch(e){case"id":t.set(e,i);break;case"width":t.percent(e,i);break;case"lines":t.integer(e,i);break;case"regionanchor":case"viewportanchor":var n=i.split(",");if(2!==n.length)break;var r=new u$;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;t.set(e+"X",r.get("x")),t.set(e+"Y",r.get("y"));break;case"scroll":t.alt(e,i,["up"])}},/=/,/\s/),t.has("id")){var n=new(i.vttjs.VTTRegion||i.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),i.onregion&&i.onregion(n),i.regionList.push({id:t.get("id"),region:n})}}(t)},/:/):t||(i.state="ID");continue;case"NOTE":t||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){i.state="NOTE";break}if(!t)continue;i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,"");try{i.cue.align="center"}catch(e){i.cue.align="middle"}if(i.state="CUE",-1===t.indexOf("--\x3e")){i.cue.id=t;continue}case"CUE":try{(function(e,t,i){var n=e;function r(){var t=uQ(e);if(null===t)throw new uY(uY.Errors.BadTimeStamp,"Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function s(){e=e.replace(/^\s+/,"")}if(s(),t.startTime=r(),s(),"--\x3e"!==e.substr(0,3))throw new uY(uY.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),s(),t.endTime=r(),s(),function(e,t){var n=new u$;uJ(e,function(e,t){switch(e){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===t){n.set(e,i[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var s=t.split(","),a=s[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===s.length&&n.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=t.split(","),n.percent(e,s[0]),2===s.length&&n.alt("positionAlign",s[1],["start","center","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");try{t.line=n.get("line","auto")}catch(e){}t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100);try{t.align=n.get("align","center")}catch(e){t.align=n.get("align","middle")}try{t.position=n.get("position","auto")}catch(e){t.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)})(t,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var o=-1!==t.indexOf("--\x3e");if(!t||o&&(a=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=t.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":t||(i.state="ID");continue}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new uY(uY.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}};var he={"":1,lr:1,rl:1},ht={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function hi(e){return"string"==typeof e&&!!ht[e.toLowerCase()]&&e.toLowerCase()}function hn(e,t,i){this.hasBeenReset=!1;var n="",r=!1,s=e,a=t,o=i,l=null,c="",u=!0,h="auto",d="start",p="auto",f="auto",m=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(e){o=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(e){var t="string"==typeof e&&!!he[e.toLowerCase()]&&e.toLowerCase();if(!1===t)throw SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(e){u=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(e){var t=hi(e);t?(d=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||e>100)throw Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=hi(e);t?(f=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){var t=hi(e);if(!t)throw SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}hn.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var hr={"":!0,up:!0};function hs(e){return"number"==typeof e&&e>=0&&e<=100}var ha=function(){var e=100,t=3,i=0,n=100,r=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!hs(t))throw Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(e){if(!hs(e))throw Error("RegionAnchorX must be between 0 and 100.");n=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!hs(e))throw Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!hs(e))throw Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!hs(e))throw Error("ViewportAnchorX must be between 0 and 100.");r=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t="string"==typeof e&&!!hr[e.toLowerCase()]&&e.toLowerCase();!1===t?console.warn("Scroll: an invalid or illegal string was specified."):a=t}}})},ho=rR(function(e){var t=e.exports={WebVTT:u9,VTTCue:hn,VTTRegion:ha};um.vttjs=t,um.WebVTT=t.WebVTT;var i=t.VTTCue,n=t.VTTRegion,r=um.VTTCue,s=um.VTTRegion;t.shim=function(){um.VTTCue=i,um.VTTRegion=n},t.restore=function(){um.VTTCue=r,um.VTTRegion=s},um.VTTCue||t.shim()});ho.WebVTT,ho.VTTCue,ho.VTTRegion;var hl=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=um.location&&um.location.href||"");var i=/^\/\//.test(e),n=!um.location&&!/\/\//i.test(e),r=new URL(t,e=new um.URL(e,um.location||"https://example.com"));return n?r.href.slice(19):i?r.href.slice(r.protocol.length):r.href},hc=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t){if(2==arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=t.length,a=0;a<s;++a)t[a].apply(this,r)}},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}();function hu(e){for(var t=um.atob?um.atob(e):s.from(e,"base64").toString("binary"),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}class hh extends hc{push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}constructor(){super(),this.buffer=""}}let hd=function(e){let t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),i},hp=function(e){let t={};if(!e)return t;let i=e.split(RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n,r=i.length;for(;r--;)""!==i[r]&&((n=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),t[n[0]]=n[1]);return t},hf=e=>{let t=e.split("x"),i={};return t[0]&&(i.width=parseInt(t[0],10)),t[1]&&(i.height=parseInt(t[1],10)),i};class hm extends hc{push(e){let t,i;if(0!==(e=e.trim()).length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});this.tagMappers.reduce((t,i)=>{let n=i(e);return n===e?t:t.concat([n])},[e]).forEach(e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT")){if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e))return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e))return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e))return i=uR(hd(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e))return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:(.*)$/.exec(e)){if(i={type:"tag",tagType:"map"},t[1]){let e=hp(t[1]);e.URI&&(i.uri=e.URI),e.BYTERANGE&&(i.byterange=hd(e.BYTERANGE))}this.trigger("data",i)}else{if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e))return i={type:"tag",tagType:"stream-inf"},t[1]&&(i.attributes=hp(t[1]),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=hf(i.attributes.RESOLUTION)),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e))return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=hp(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e))return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:(.*)$/.exec(e))return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=hp(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-START:(.*)$/.exec(e))return i={type:"tag",tagType:"start"},t[1]&&(i.attributes=hp(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(i={type:"tag",tagType:"skip"}).attributes=hp(t[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split("	")),void this.trigger("data",i);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(i={type:"tag",tagType:"part"}).attributes=hp(t[1]),["DURATION"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),["INDEPENDENT","GAP"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=hd(i.attributes.BYTERANGE)),void this.trigger("data",i);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(i={type:"tag",tagType:"server-control"}).attributes=hp(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))}),void this.trigger("data",i);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(i={type:"tag",tagType:"part-inf"}).attributes=hp(t[1]),["PART-TARGET"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),void this.trigger("data",i);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(i={type:"tag",tagType:"preload-hint"}).attributes=hp(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(e){if(i.attributes.hasOwnProperty(e)){i.attributes[e]=parseInt(i.attributes[e],10);let t="BYTERANGE-LENGTH"===e?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[t]=i.attributes[e],delete i.attributes[e]}}),void this.trigger("data",i);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(i={type:"tag",tagType:"rendition-report"}).attributes=hp(t[1]),["LAST-MSN","LAST-PART"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseInt(i.attributes[e],10))}),void this.trigger("data",i);if((t=/^#EXT-X-DATERANGE:(.*)$/.exec(e))&&t[1]){(i={type:"tag",tagType:"daterange"}).attributes=hp(t[1]),["ID","CLASS"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=String(i.attributes[e]))}),["START-DATE","END-DATE"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=new Date(i.attributes[e]))}),["DURATION","PLANNED-DURATION"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),["END-ON-NEXT"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/i.test(i.attributes[e]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=i.attributes[e].toString(16))});let e=/^X-([A-Z]+-)+[A-Z]+$/;for(let t in i.attributes){if(!e.test(t))continue;let n=/[0-9A-Fa-f]{6}/g.test(i.attributes[t]),r=/^\d+(\.\d+)?$/.test(i.attributes[t]);i.attributes[t]=n?i.attributes[t].toString(16):r?parseFloat(i.attributes[t]):String(i.attributes[t])}this.trigger("data",i)}else if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(e))this.trigger("data",{type:"tag",tagType:"independent-segments"});else if(t=/^#EXT-X-I-FRAMES-ONLY/.exec(e))this.trigger("data",{type:"tag",tagType:"i-frames-only"});else{if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(e))return(i={type:"tag",tagType:"content-steering"}).attributes=hp(t[1]),void this.trigger("data",i);if(t=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(e))return(i={type:"tag",tagType:"i-frame-playlist"}).attributes=hp(t[1]),i.attributes.URI&&(i.uri=i.attributes.URI),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=hf(i.attributes.RESOLUTION)),i.attributes["AVERAGE-BANDWIDTH"]&&(i.attributes["AVERAGE-BANDWIDTH"]=parseInt(i.attributes["AVERAGE-BANDWIDTH"],10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),void this.trigger("data",i);if(t=/^#EXT-X-DEFINE:(.*)$/.exec(e))return(i={type:"tag",tagType:"define"}).attributes=hp(t[1]),void this.trigger("data",i);this.trigger("data",{type:"tag",data:e.slice(4)})}}}}}else this.trigger("data",{type:"comment",text:e.slice(1)})})}}addParser(e){let{expression:t,customType:i,dataParser:n,segment:r}=e;"function"!=typeof n&&(n=e=>e),this.customParsers.push(e=>{if(t.exec(e))return this.trigger("data",{type:"custom",data:n(e),customType:i,segment:r}),!0})}addTagMapper(e){let{expression:t,map:i}=e;this.tagMappers.push(e=>t.test(e)?i(e):e)}constructor(){super(),this.customParsers=[],this.tagMappers=[]}}let hg=function(e){let t={};return Object.keys(e).forEach(function(i){t[i.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase())]=e[i]}),t},hy=function(e){let{serverControl:t,targetDuration:i,partTargetDuration:n}=e;if(!t)return;let r="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=i&&3*i,l=n&&2*n;i&&!t.hasOwnProperty(s)&&(t[s]=o,this.trigger("info",{message:"".concat(r," defaulting HOLD-BACK to targetDuration * 3 (").concat(o,").")})),o&&t[s]<o&&(this.trigger("warn",{message:"".concat(r," clamping HOLD-BACK (").concat(t[s],") to targetDuration * 3 (").concat(o,")")}),t[s]=o),n&&!t.hasOwnProperty(a)&&(t[a]=3*n,this.trigger("info",{message:"".concat(r," defaulting PART-HOLD-BACK to partTargetDuration * 3 (").concat(t[a],").")})),n&&t[a]<l&&(this.trigger("warn",{message:"".concat(r," clamping PART-HOLD-BACK (").concat(t[a],") to partTargetDuration * 2 (").concat(l,").")}),t[a]=l)};class h_ extends hc{requiredCompatibilityversion(e,t){(e<t||!e)&&this.trigger("warn",{message:"manifest must be at least version ".concat(t)})}warnOnMissingAttributes_(e,t,i){let n=[];i.forEach(function(e){t.hasOwnProperty(e)||n.push(e)}),n.length&&this.trigger("warn",{message:"".concat(e," lacks required attribute(s): ").concat(n.join(", "))})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.manifest.dateRanges.length&&null===this.lastProgramDateTime&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}constructor(e={}){super(),this.lineStream=new hh,this.parseStream=new hm,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;let t=this,i=[],n,r,s={},a=!1,o=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let u=0,h=0,d={};this.on("end",()=>{!s.uri&&(s.parts||s.preloadHints)&&(!s.map&&n&&(s.map=n),!s.key&&r&&(s.key=r),s.timeline||"number"!=typeof c||(s.timeline=c),this.manifest.preloadSegment=s)}),this.parseStream.on("data",function(e){let p,f;if(t.manifest.definitions){for(let i in t.manifest.definitions)if(e.uri&&(e.uri=e.uri.replace("{$".concat(i,"}"),t.manifest.definitions[i])),e.attributes)for(let n in e.attributes)"string"==typeof e.attributes[n]&&(e.attributes[n]=e.attributes[n].replace("{$".concat(i,"}"),t.manifest.definitions[i]))}({tag(){(({version(){e.version&&(this.manifest.version=e.version)},"allow-cache"(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){let t={};"length"in e&&(s.byterange=t,t.length=e.length,"offset"in e||(e.offset=u)),"offset"in e&&(s.byterange=t,t.offset=e.offset),u=t.offset+t.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.title&&(s.title=e.title),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(e.attributes){if("NONE"!==e.attributes.METHOD){if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT)return -1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:hu(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"})}else r=null}else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence"(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type"(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange),r&&(n.key=r)},"stream-inf"(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(s.attributes||(s.attributes={}),uR(s.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});let t=this.manifest.mediaGroups[e.attributes.TYPE];t[e.attributes["GROUP-ID"]]=t[e.attributes["GROUP-ID"]]||{},p=t[e.attributes["GROUP-ID"]],(f={default:/yes/i.test(e.attributes.DEFAULT)}).default?f.autoselect=!0:f.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(f.language=e.attributes.LANGUAGE),e.attributes.URI&&(f.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(f.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(f.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(f.forced=/yes/i.test(e.attributes.FORCED)),p[e.attributes.NAME]=f},discontinuity(){c+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject;let{lastProgramDateTime:t}=this;this.lastProgramDateTime=new Date(e.dateTimeString).getTime(),null===t&&this.manifest.segments.reduceRight((e,t)=>(t.programDateTime=e-1e3*t.duration,t.programDateTime),this.lastProgramDateTime)},targetduration(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,hy.call(this,this.manifest))},start(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){s.cueOut=e.data},"cue-out-cont"(){s.cueOutCont=e.data},"cue-in"(){s.cueIn=e.data},skip(){this.manifest.skip=hg(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;let t=this.manifest.segments.length,i=hg(e.attributes);s.parts=s.parts||[],s.parts.push(i),i.byterange&&(i.byterange.hasOwnProperty("offset")||(i.byterange.offset=h),h=i.byterange.offset+i.byterange.length);let n=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #".concat(n," for segment #").concat(t),e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #".concat(t," lacks required attribute(s): LAST-PART")})})},"server-control"(){let t=this.manifest.serverControl=hg(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),hy.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){let t=this.manifest.segments.length,i=hg(e.attributes),n=i.type&&"PART"===i.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(i),i.byterange&&(i.byterange.hasOwnProperty("offset")||(i.byterange.offset=n?h:0,n&&(h=i.byterange.offset+i.byterange.length)));let r=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #".concat(r," for segment #").concat(t),e.attributes,["TYPE","URI"]),i.type)for(let e=0;e<s.preloadHints.length-1;e++){let n=s.preloadHints[e];n.type&&n.type===i.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #".concat(r," for segment #").concat(t," has the same TYPE ").concat(i.type," as preload hint #").concat(e)})}},"rendition-report"(){let t=hg(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);let i=this.manifest.renditionReports.length-1,n=["LAST-MSN","URI"];a&&n.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #".concat(i),e.attributes,n)},"part-inf"(){this.manifest.partInf=hg(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),hy.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(hg(e.attributes));let t=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_("#EXT-X-DATERANGE #".concat(t),e.attributes,["ID","START-DATE"]);let i=this.manifest.dateRanges[t];i.endDate&&i.startDate&&new Date(i.endDate)<new Date(i.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),i.duration&&i.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),i.plannedDuration&&i.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});let n=!!i.endOnNext;if(n&&!i.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),n&&(i.duration||i.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),i.duration&&i.endDate){let e=i.startDate.getTime()+1e3*i.duration;this.manifest.dateRanges[t].endDate=new Date(e)}if(d[i.id]){for(let e in d[i.id])if(i[e]&&JSON.stringify(d[i.id][e])!==JSON.stringify(i[e])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}let e=this.manifest.dateRanges.findIndex(e=>e.id===i.id);this.manifest.dateRanges[e]=uR(this.manifest.dateRanges[e],i),d[i.id]=uR(d[i.id],i),this.manifest.dateRanges.pop()}else d[i.id]=i},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=hg(e.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",e.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};let t=(e,t)=>{e in this.manifest.definitions?this.trigger("error",{message:"EXT-X-DEFINE: Duplicate name ".concat(e)}):this.manifest.definitions[e]=t};if("QUERYPARAM"in e.attributes){if("NAME"in e.attributes||"IMPORT"in e.attributes)return void this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});let i=this.params.get(e.attributes.QUERYPARAM);return i?void t(e.attributes.QUERYPARAM,decodeURIComponent(i)):void this.trigger("error",{message:"EXT-X-DEFINE: No query param ".concat(e.attributes.QUERYPARAM)})}return"NAME"in e.attributes?"IMPORT"in e.attributes?void this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"}):"VALUE"in e.attributes&&"string"==typeof e.attributes.VALUE?void t(e.attributes.NAME,e.attributes.VALUE):void this.trigger("error",{message:"EXT-X-DEFINE: No value for ".concat(e.attributes.NAME)}):"IMPORT"in e.attributes?this.mainDefinitions[e.attributes.IMPORT]?void t(e.attributes.IMPORT,this.mainDefinitions[e.attributes.IMPORT]):void this.trigger("error",{message:"EXT-X-DEFINE: No value ".concat(e.attributes.IMPORT," to import, or IMPORT used on main playlist")}):void this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:e.attributes,uri:e.uri,timeline:c}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",e.attributes,["BANDWIDTH","URI"])}})[e.tagType]||o).call(t)},uri(){s.uri=e.uri,i.push(s),!this.manifest.targetDuration||"duration"in s||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),r&&(s.key=r),s.timeline=c,n&&(s.map=n),h=0,null!==this.lastProgramDateTime&&(s.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=1e3*s.duration),s={}},comment(){},custom(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(t)})}}var hv,hb,hT={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},hS=["video","audio","text"],hw=["Video","Audio","Text"],hE=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)}):e},hC=function(e){void 0===e&&(e="");var t=e.split(","),i=[];return t.forEach(function(e){var t;e=e.trim(),hS.forEach(function(n){var r=hT[n].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=n;var s=e.substring(0,r[1].length),a=e.replace(s,"");i.push({type:s,details:a,mediaType:n})}}),t||i.push({type:e,details:"",mediaType:"unknown"})}),i},hk=function(e){return void 0===e&&(e=""),hT.audio.test(e.trim().toLowerCase())},hx=function(e){if(e&&"string"==typeof e){var t,i=e.toLowerCase().split(",").map(function(e){return hE(e.trim())}),n="video";1===i.length&&hk(i[0])?n="audio":1===i.length&&(void 0===(t=i[0])&&(t=""),hT.text.test(t.trim().toLowerCase()))&&(n="application");var r="mp4";return i.every(function(e){return hT.mp4.test(e)})?r="mp4":i.every(function(e){return hT.webm.test(e)})?r="webm":i.every(function(e){return hT.ogg.test(e)})&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}},hI=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),um.MediaSource&&um.MediaSource.isTypeSupported&&um.MediaSource.isTypeSupported(hx(e))||t&&um.ManagedMediaSource&&um.ManagedMediaSource.isTypeSupported&&um.ManagedMediaSource.isTypeSupported(hx(e))||!1},hA=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every(function(e){e=e.trim();for(var t=0;t<hw.length;t++)if(hT["muxer"+hw[t]].test(e))return!0;return!1})},hL="mp4a.40.2",hO=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,hP=/^application\/dash\+xml/i,hD=function(e){return hO.test(e)?"hls":hP.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},hN=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},hM=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||hN(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},hR=um.BigInt||Number,hF=[hR("0x1"),hR("0x100"),hR("0x10000"),hR("0x1000000"),hR("0x100000000"),hR("0x10000000000"),hR("0x1000000000000"),hR("0x100000000000000"),hR("0x10000000000000000")];255===(hb=new Uint8Array((hv=new Uint16Array([65484])).buffer,hv.byteOffset,hv.byteLength))[0]||hb[0];var hB=function(e,t){var i=void 0===t?{}:t,n=i.signed,r=i.le,s=void 0!==r&&r;e=hM(e);var a=s?"reduce":"reduceRight",o=(e[a]?e[a]:Array.prototype[a]).call(e,function(t,i,n){var r=s?n:Math.abs(n+1-e.length);return t+hR(i)*hF[r]},hR(0));if(void 0!==n&&n){var l=hF[e.length]/hR(2)-hR(1);(o=hR(o))>l&&(o-=l,o-=l,o-=hR(2))}return Number(o)},hU=function(e,t){var i=void 0,n=void 0!==i&&i;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0),e=hR(e);for(var r=Math.ceil(e.toString(2).length/8),s=new Uint8Array(new ArrayBuffer(r)),a=0;a<r;a++){var o=n?a:Math.abs(a+1-s.length);s[o]=Number(e/hF[a]&hR(255)),e<0&&(s[o]=Math.abs(~s[o]),s[o]-=0===a?1:2)}return s},hj=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},hq=function(e,t,i){var n=void 0===i?{}:i,r=n.offset,s=void 0===r?0:r,a=n.mask,o=void 0===a?[]:a;e=hM(e);var l=(t=hM(t)).every?t.every:Array.prototype.every;return t.length&&e.length-s>=t.length&&l.call(t,function(t,i){return t===(o[i]?o[i]&e[s+i]:e[s+i])})};function hH(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var hV=hH({HTML:"text/html",isHTML:function(e){return e===hV.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),hz=hH({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===hz.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),hW=function(e,t,i){if(void 0===i&&(i=Array.prototype),e&&"function"==typeof i.find)return i.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];if(t.call(void 0,r,n,e))return r}};function hG(e){return""!==e}function hX(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function hK(e){return e?Object.keys((e?e.split(/[\t\n\f\r ]+/).filter(hG):[]).reduce(hX,{})):[]}function hY(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function hQ(e,t){var i=e.prototype;if(!(i instanceof t)){function n(){}n.prototype=t.prototype,hY(i,n=new n),e.prototype=i=n}i.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),i.constructor=e)}var h$={},hJ=h$.ELEMENT_NODE=1,hZ=h$.ATTRIBUTE_NODE=2,h0=h$.TEXT_NODE=3,h1=h$.CDATA_SECTION_NODE=4,h2=h$.ENTITY_REFERENCE_NODE=5,h4=h$.ENTITY_NODE=6,h5=h$.PROCESSING_INSTRUCTION_NODE=7,h3=h$.COMMENT_NODE=8,h8=h$.DOCUMENT_NODE=9,h6=h$.DOCUMENT_TYPE_NODE=10,h7=h$.DOCUMENT_FRAGMENT_NODE=11,h9=h$.NOTATION_NODE=12,de={},dt={};de.INDEX_SIZE_ERR=(dt[1]="Index size error",1),de.DOMSTRING_SIZE_ERR=(dt[2]="DOMString size error",2);var di=de.HIERARCHY_REQUEST_ERR=(dt[3]="Hierarchy request error",3);de.WRONG_DOCUMENT_ERR=(dt[4]="Wrong document",4),de.INVALID_CHARACTER_ERR=(dt[5]="Invalid character",5),de.NO_DATA_ALLOWED_ERR=(dt[6]="No data allowed",6),de.NO_MODIFICATION_ALLOWED_ERR=(dt[7]="No modification allowed",7);var dn=de.NOT_FOUND_ERR=(dt[8]="Not found",8);de.NOT_SUPPORTED_ERR=(dt[9]="Not supported",9);var dr=de.INUSE_ATTRIBUTE_ERR=(dt[10]="Attribute in use",10);function ds(e,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,dt[e]),this.message=dt[e],Error.captureStackTrace&&Error.captureStackTrace(this,ds);return i.code=e,t&&(this.message=this.message+": "+t),i}function da(){}function dl(e,t){this._node=e,this._refresh=t,dc(this)}function dc(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var i=e._refresh(e._node);if(dW(e,"length",i.length),!e.$$length||i.length<e.$$length)for(var n=i.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];hY(i,e),e._inc=t}}function du(){}function dh(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function dd(e,t,i,n){if(n?t[dh(t,n)]=i:t[t.length++]=i,e){i.ownerElement=e;var r=e.ownerDocument;r&&(n&&dv(r,e,n),r&&r._inc++,i.namespaceURI===hz.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value))}}function dp(e,t,i){var n=dh(t,i);if(!(n>=0))throw new ds(dn,Error(e.tagName+"@"+i));for(var r=t.length-1;n<r;)t[n]=t[++n];if(t.length=r,e){var s=e.ownerDocument;s&&(dv(s,e,i),i.ownerElement=null)}}function df(){}function dm(){}function dg(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function dy(e,t){if(t(e))return!0;if(e=e.firstChild)do if(dy(e,t))return!0;while(e=e.nextSibling)}function d_(){this.ownerDocument=this}function dv(e,t,i,n){e&&e._inc++,i.namespaceURI===hz.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function db(e,t,i){if(e&&e._inc){e._inc++;var n=t.childNodes;if(i)n[n.length++]=i;else{for(var r=t.firstChild,s=0;r;)n[s++]=r,r=r.nextSibling;n.length=s,delete n[n.length]}}}function dT(e,t){var i=t.previousSibling,n=t.nextSibling;return i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,db(e.ownerDocument,e),t}function dS(e){return e&&e.nodeType===dm.DOCUMENT_TYPE_NODE}function dw(e){return e&&e.nodeType===dm.ELEMENT_NODE}function dE(e){return e&&e.nodeType===dm.TEXT_NODE}function dC(e,t){var i=e.childNodes||[];if(hW(i,dw)||dS(t))return!1;var n=hW(i,dS);return!(t&&n&&i.indexOf(n)>i.indexOf(t))}function dk(e,t){var i=e.childNodes||[];if(hW(i,function(e){return dw(e)&&e!==t}))return!1;var n=hW(i,dS);return!(t&&n&&i.indexOf(n)>i.indexOf(t))}function dx(e,t,i){var n=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===dm.DOCUMENT_FRAGMENT_NODE){var s=r.filter(dw);if(s.length>1||hW(r,dE))throw new ds(di,"More than one element or text in fragment");if(1===s.length&&!dk(e,i))throw new ds(di,"Element in fragment can not be inserted before doctype")}if(dw(t)&&!dk(e,i))throw new ds(di,"Only one element can be added and only after doctype");if(dS(t)){if(hW(n,function(e){return dS(e)&&e!==i}))throw new ds(di,"Only one doctype is allowed");var a=hW(n,dw);if(i&&n.indexOf(a)<n.indexOf(i))throw new ds(di,"Doctype can only be inserted before an element")}}function dI(e,t,i,n){(function(e,t,i){if(!(e&&(e.nodeType===dm.DOCUMENT_NODE||e.nodeType===dm.DOCUMENT_FRAGMENT_NODE||e.nodeType===dm.ELEMENT_NODE)))throw new ds(di,"Unexpected parent node type "+e.nodeType);if(i&&i.parentNode!==e)throw new ds(dn,"child not in parent");if(!(t&&(dw(t)||dE(t)||dS(t)||t.nodeType===dm.DOCUMENT_FRAGMENT_NODE||t.nodeType===dm.COMMENT_NODE||t.nodeType===dm.PROCESSING_INSTRUCTION_NODE))||dS(t)&&e.nodeType!==dm.DOCUMENT_NODE)throw new ds(di,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,i),e.nodeType===dm.DOCUMENT_NODE&&(n||function(e,t,i){var n=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===dm.DOCUMENT_FRAGMENT_NODE){var s=r.filter(dw);if(s.length>1||hW(r,dE))throw new ds(di,"More than one element or text in fragment");if(1===s.length&&!dC(e,i))throw new ds(di,"Element in fragment can not be inserted before doctype")}if(dw(t)&&!dC(e,i))throw new ds(di,"Only one element can be added and only after doctype");if(dS(t)){if(hW(n,dS))throw new ds(di,"Only one doctype is allowed");var a=hW(n,dw);if(i&&n.indexOf(a)<n.indexOf(i))throw new ds(di,"Doctype can only be inserted before an element");if(!i&&a)throw new ds(di,"Doctype can not be appended since element is present")}})(e,t,i);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===h7){var s=t.firstChild;if(null==s)return t;var a=t.lastChild}else s=a=t;var o=i?i.previousSibling:e.lastChild;s.previousSibling=o,a.nextSibling=i,o?o.nextSibling=s:e.firstChild=s,null==i?e.lastChild=a:i.previousSibling=a;do s.parentNode=e;while(s!==a&&(s=s.nextSibling));return db(e.ownerDocument||e,e),t.nodeType==h7&&(t.firstChild=t.lastChild=null),t}function dA(){this._nsMap={}}function dL(){}function dO(){}function dP(){}function dD(){}function dN(){}function dM(){}function dR(){}function dF(){}function dB(){}function dU(){}function dj(){}function dq(e,t){var i=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,s=n.namespaceURI;if(s&&null==r&&null==(r=n.lookupPrefix(s)))var a=[{namespace:s,prefix:null}];return dz(this,i,e,t,a),i.join("")}function dH(e,t,i){var n=e.prefix||"",r=e.namespaceURI;if(!r||"xml"===n&&r===hz.XML||r===hz.XMLNS)return!1;for(var s=i.length;s--;){var a=i[s];if(a.prefix===n)return a.namespace!==r}return!0}function dV(e,t,i){e.push(" ",t,'="',i.replace(/[<>&"\t\n\r]/g,dg),'"')}function dz(e,t,i,n,r){if(r||(r=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case hJ:var s,a,o,l=e.attributes,c=l.length,u=e.firstChild,h=e.tagName,d=h;if(!(i=hz.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var p,f,m=0;m<l.length;m++)if("xmlns"===l.item(m).name){f=l.item(m).value;break}if(!f){for(var g=r.length-1;g>=0;g--)if(""===(p=r[g]).prefix&&p.namespace===e.namespaceURI){f=p.namespace;break}}if(f!==e.namespaceURI){for(g=r.length-1;g>=0;g--)if((p=r[g]).namespace===e.namespaceURI){p.prefix&&(d=p.prefix+":"+h);break}}}t.push("<",d);for(var y=0;y<c;y++)"xmlns"==(s=l.item(y)).prefix?r.push({prefix:s.localName,namespace:s.value}):"xmlns"==s.nodeName&&r.push({prefix:"",namespace:s.value});for(y=0;y<c;y++)dH(s=l.item(y),0,r)&&(dV(t,(a=s.prefix||"")?"xmlns:"+a:"xmlns",o=s.namespaceURI),r.push({prefix:a,namespace:o})),dz(s,t,i,n,r);if(h===d&&dH(e,0,r)&&(dV(t,(a=e.prefix||"")?"xmlns:"+a:"xmlns",o=e.namespaceURI),r.push({prefix:a,namespace:o})),u||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(h)){if(t.push(">"),i&&/^script$/i.test(h))for(;u;)u.data?t.push(u.data):dz(u,t,i,n,r.slice()),u=u.nextSibling;else for(;u;)dz(u,t,i,n,r.slice()),u=u.nextSibling;t.push("</",d,">")}else t.push("/>");return;case h8:case h7:for(u=e.firstChild;u;)dz(u,t,i,n,r.slice()),u=u.nextSibling;return;case hZ:return dV(t,e.name,e.value);case h0:return t.push(e.data.replace(/[<&>]/g,dg));case h1:return t.push("<![CDATA[",e.data,"]]>");case h3:return t.push("\x3c!--",e.data,"--\x3e");case h6:var _=e.publicId,v=e.systemId;if(t.push("<!DOCTYPE ",e.name),_)t.push(" PUBLIC ",_),v&&"."!=v&&t.push(" ",v),t.push(">");else if(v&&"."!=v)t.push(" SYSTEM ",v,">");else{var b=e.internalSubset;b&&t.push(" [",b,"]"),t.push(">")}return;case h5:return t.push("<?",e.target," ",e.data,"?>");case h2:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function dW(e,t,i){e[t]=i}de.INVALID_STATE_ERR=(dt[11]="Invalid state",11),de.SYNTAX_ERR=(dt[12]="Syntax error",12),de.INVALID_MODIFICATION_ERR=(dt[13]="Invalid modification",13),de.NAMESPACE_ERR=(dt[14]="Invalid namespace",14),de.INVALID_ACCESS_ERR=(dt[15]="Invalid access",15),ds.prototype=Error.prototype,hY(de,ds),da.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var i=[],n=0;n<this.length;n++)dz(this[n],i,e,t);return i.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},dl.prototype.item=function(e){return dc(this),this[e]||null},hQ(dl,da),du.prototype={length:0,item:da.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new ds(dr);var i=this.getNamedItem(e.nodeName);return dd(this._ownerElement,this,e,i),i},setNamedItemNS:function(e){var t,i=e.ownerElement;if(i&&i!=this._ownerElement)throw new ds(dr);return t=this.getNamedItemNS(e.namespaceURI,e.localName),dd(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return dp(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var i=this.getNamedItemNS(e,t);return dp(this._ownerElement,this,i),i},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var n=this[i];if(n.localName==t&&n.namespaceURI==e)return n}return null}},df.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){var n=new d_;if(n.implementation=this,n.childNodes=new da,n.doctype=i||null,i&&n.appendChild(i),t){var r=n.createElementNS(e,t);n.appendChild(r)}return n},createDocumentType:function(e,t,i){var n=new dM;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=i||"",n}},dm.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return dI(this,e,t)},replaceChild:function(e,t){dI(this,e,t,dx),t&&this.removeChild(t)},removeChild:function(e){return dT(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,i,n){var r=new i.constructor;for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){var a=i[s];"object"!=typeof a&&a!=r[s]&&(r[s]=a)}switch(i.childNodes&&(r.childNodes=new da),r.ownerDocument=t,r.nodeType){case hJ:var o=i.attributes,l=r.attributes=new du,c=o.length;l._ownerElement=r;for(var u=0;u<c;u++)r.setAttributeNode(e(t,o.item(u),!0));break;case hZ:n=!0}if(n)for(var h=i.firstChild;h;)r.appendChild(e(t,h,n)),h=h.nextSibling;return r}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==h0&&e.nodeType==h0?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]===e)return n}t=t.nodeType==hZ?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,e))return i[e];t=t.nodeType==hZ?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},hY(h$,dm),hY(h$,dm.prototype),d_.prototype={nodeName:"#document",nodeType:h8,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==h7){for(var i=e.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,t),i=n}return e}return dI(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===hJ&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),dT(this,e)},replaceChild:function(e,t){dI(this,e,t,dx),e.ownerDocument=this,t&&this.removeChild(t),dw(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,i,n){var r;switch(i.nodeType){case hJ:(r=i.cloneNode(!1)).ownerDocument=t;case h7:break;case hZ:n=!0}if(r||(r=i.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var s=i.firstChild;s;)r.appendChild(e(t,s,n)),s=s.nextSibling;return r}(this,e,t)},getElementById:function(e){var t=null;return dy(this.documentElement,function(i){if(i.nodeType==hJ&&i.getAttribute("id")==e)return t=i,!0}),t},getElementsByClassName:function(e){var t=hK(e);return new dl(this,function(i){var n=[];return t.length>0&&dy(i.documentElement,function(r){if(r!==i&&r.nodeType===hJ){var s=r.getAttribute("class");if(s){var a=e===s;if(!a){var o=hK(s);a=t.every(function(e){return o&&-1!==o.indexOf(e)})}a&&n.push(r)}}}),n})},createElement:function(e){var t=new dA;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new da,(t.attributes=new du)._ownerElement=t,t},createDocumentFragment:function(){var e=new dU;return e.ownerDocument=this,e.childNodes=new da,e},createTextNode:function(e){var t=new dP;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new dD;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new dN;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new dj;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new dL;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new dB;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new dA,n=t.split(":"),r=i.attributes=new du;return i.childNodes=new da,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,r._ownerElement=i,i},createAttributeNS:function(e,t){var i=new dL,n=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,i}},hQ(d_,dm),dA.prototype={nodeType:hJ,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var i=this.ownerDocument.createAttribute(e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===h7?this.insertBefore(e,null):(e.parentNode&&e.parentNode.removeChild(e),e.parentNode=this,e.previousSibling=this.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:this.firstChild=e,this.lastChild=e,db(this.ownerDocument,this,e),e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);return i&&i.value||""},setAttributeNS:function(e,t,i){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new dl(this,function(t){var i=[];return dy(t,function(n){n===t||n.nodeType!=hJ||"*"!==e&&n.tagName!=e||i.push(n)}),i})},getElementsByTagNameNS:function(e,t){return new dl(this,function(i){var n=[];return dy(i,function(r){r===i||r.nodeType!==hJ||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||n.push(r)}),n})}},d_.prototype.getElementsByTagName=dA.prototype.getElementsByTagName,d_.prototype.getElementsByTagNameNS=dA.prototype.getElementsByTagNameNS,hQ(dA,dm),dL.prototype.nodeType=hZ,hQ(dL,dm),dO.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw Error(dt[di])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){i=this.data.substring(0,e)+i+this.data.substring(e+t),this.nodeValue=this.data=i,this.length=i.length}},hQ(dO,dm),dP.prototype={nodeName:"#text",nodeType:h0,splitText:function(e){var t=this.data,i=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},hQ(dP,dO),dD.prototype={nodeName:"#comment",nodeType:h3},hQ(dD,dO),dN.prototype={nodeName:"#cdata-section",nodeType:h1},hQ(dN,dO),dM.prototype.nodeType=h6,hQ(dM,dm),dR.prototype.nodeType=h9,hQ(dR,dm),dF.prototype.nodeType=h4,hQ(dF,dm),dB.prototype.nodeType=h2,hQ(dB,dm),dU.prototype.nodeName="#document-fragment",dU.prototype.nodeType=h7,hQ(dU,dm),dj.prototype.nodeType=h5,hQ(dj,dm),(function(){}).prototype.serializeToString=function(e,t,i){return dq.call(e,t,i)},dm.prototype.toString=dq;try{Object.defineProperty&&(Object.defineProperty(dl.prototype,"length",{get:function(){return dc(this),this.$$length}}),Object.defineProperty(dm.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case hJ:case h7:var i=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&i.push(e(t)),t=t.nextSibling;return i.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case hJ:case h7:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),dW=function(e,t,i){e["$$"+t]=i})}catch(e){}var dG=rR(function(e,t){t.XML_ENTITIES=hH({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=hH({Aacute:"\xc1",aacute:"\xe1",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"Ð",acy:"Ð°",AElig:"\xc6",aelig:"\xe6",af:"â¡",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"\xc0",agrave:"\xe0",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"\xc5",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"\xc5",aring:"\xe5",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âŽµ",bbrktbrk:"âŽ¶",bcong:"â‰Œ",Bcy:"Ð‘",bcy:"Ð±",bdquo:"â€ž",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠž",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•ž",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"\xa6",Bscr:"â„¬",bscr:"\uD835\uDCB7",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰Ž",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰Ž",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"â¦²",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"â„­",cfr:"\uD835\uDD20",CHcy:"Ð§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"\xae",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"\uD835\uDD54",coprod:"âˆ",Coproduct:"âˆ",COPY:"\xa9",copy:"\xa9",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹ž",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹ž",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹Ž",curlywedge:"â‹",curren:"\xa4",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹Ž",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"ÄŽ",dcaron:"Ä",Dcy:"Ð”",dcy:"Ð´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"\xb0",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"\xb4",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"\xa8",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"\xf7",divide:"\xf7",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ð‚",djcy:"Ñ’",dlcorn:"âŒž",dlcrop:"âŒ",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"\xa8",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"\xa8",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥ž",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"Ð…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ð",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"\xc9",eacute:"\xe9",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"\xca",ecirc:"\xea",ecolon:"â‰•",Ecy:"Ð­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"âªš",Egrave:"\xc8",egrave:"\xe8",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ð¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"\xbd",frac13:"â…“",frac14:"\xbc",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"\xbe",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…ž",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"\uD835\uDCBB",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Äž",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ð“",gcy:"Ð³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ðƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"\uD835\uDCA2",gscr:"â„Š",gsim:"â‰³",gsime:"âªŽ",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"\xbd",hamilt:"â„‹",HARDcy:"Ðª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"\uD835\uDD25",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"\uD835\uDD59",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"\uD835\uDCBD",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰Ž",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"\xcd",iacute:"\xed",ic:"â£",Icirc:"\xce",icirc:"\xee",Icy:"Ð˜",icy:"Ð¸",Idot:"Ä°",IEcy:"Ð•",iecy:"Ðµ",iexcl:"\xa1",iff:"â‡”",Ifr:"â„‘",ifr:"\uD835\uDD26",Igrave:"\xcc",igrave:"\xec",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆž",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ð",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"\xbf",Iscr:"â„",iscr:"\uD835\uDCBE",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ð†",iukcy:"Ñ–",Iuml:"\xcf",iuml:"\xef",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ð™",jcy:"Ð¹",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"È·",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"Ðˆ",jsercy:"Ñ˜",Jukcy:"Ð„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ðš",kcy:"Ðº",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"Ä¸",KHcy:"Ð¥",khcy:"Ñ…",KJcy:"ÐŒ",kjcy:"Ñœ",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"\xab",Larr:"â†ž",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤Ž",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ð›",lcy:"Ð»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€ž",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥Ž",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ð‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒž",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"âŽ°",lmoustache:"âŽ°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€Ž",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"\uD835\uDCC1",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"\xaf",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ðœ",mcy:"Ð¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"â„§",micro:"\xb5",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"\xb7",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"âˆ“",Mscr:"â„³",mscr:"\uD835\uDCC2",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"\xa0",nbump:"â‰ŽÌ¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ð",ncy:"Ð½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"\uD835\uDD11",nfr:"\uD835\uDD2B",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡Ž",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ÐŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡Ž",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"\xa0",Nopf:"â„•",nopf:"\uD835\uDD5F",Not:"â«¬",not:"\xac",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰ŽÌ¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"\uD835\uDCA9",nscr:"\uD835\uDCC3",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§ž",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"\xd3",oacute:"\xf3",oast:"âŠ›",ocir:"âŠš",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"Ðž",ocy:"Ð¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"\uD835\uDD12",ofr:"\uD835\uDD2C",ogon:"Ë›",Ograve:"\xd2",ograve:"\xf2",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"\uD835\uDD46",oopf:"\uD835\uDD60",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"\xaa",ordm:"\xba",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"\uD835\uDCAA",oscr:"â„´",Oslash:"\xd8",oslash:"\xf8",osol:"âŠ˜",Otilde:"\xd5",otilde:"\xf5",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"\xd6",ouml:"\xf6",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"âž",OverBracket:"âŽ´",OverParenthesis:"âœ",par:"âˆ¥",para:"\xb6",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ÐŸ",pcy:"Ð¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"\uD835\uDD13",pfr:"\uD835\uDD2D",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜Ž",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„Ž",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠž",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"â¨¦",plustwo:"â¨§",pm:"\xb1",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"\uD835\uDD61",pound:"\xa3",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"\uD835\uDCAB",pscr:"\uD835\uDCC5",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"\uD835\uDD14",qfr:"\uD835\uDD2E",qint:"â¨Œ",Qopf:"â„š",qopf:"\uD835\uDD62",qprime:"â—",Qscr:"\uD835\uDCAC",qscr:"\uD835\uDCC6",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"\xbb",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤ž",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦Ž",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ð ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"\xae",reg:"\xae",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"\uD835\uDD2F",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"âŽ±",rmoustache:"âŽ±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"\uD835\uDD63",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"\uD835\uDCC7",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§Ž",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„ž",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Åž",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ð¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"\xa7",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"\uD835\uDD16",sfr:"\uD835\uDD30",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ð©",shchcy:"Ñ‰",SHcy:"Ð¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"\xad",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âªž",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ð¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"\uD835\uDD4A",sopf:"\uD835\uDD64",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"\uD835\uDCAE",sscr:"\uD835\uDCC8",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"\xaf",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"\xdf",Tab:"	",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"âŽ´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ð¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"\uD835\uDD17",tfr:"\uD835\uDD31",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"\xde",thorn:"\xfe",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"\xd7",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"\uD835\uDD4B",topf:"\uD835\uDD65",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"\uD835\uDCAF",tscr:"\uD835\uDCC9",TScy:"Ð¦",tscy:"Ñ†",TSHcy:"Ð‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†ž",twoheadrightarrow:"â† ",Uacute:"\xda",uacute:"\xfa",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"ÐŽ",ubrcy:"Ñž",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"Ð£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"\uD835\uDD18",ufr:"\uD835\uDD32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"\xa8",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âŽµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠŽ",Uogon:"Å²",uogon:"Å³",Uopf:"\uD835\uDD4C",uopf:"\uD835\uDD66",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠŽ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒŽ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"\uD835\uDCB0",uscr:"\uD835\uDCCA",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"\xdc",uuml:"\xfc",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ð’",vcy:"Ð²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"\uD835\uDD19",vfr:"\uD835\uDD33",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"\uD835\uDD4D",vopf:"\uD835\uDD67",vprop:"âˆ",vrtri:"âŠ³",Vscr:"\uD835\uDCB1",vscr:"\uD835\uDCCB",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"\uD835\uDD1A",wfr:"\uD835\uDD34",Wopf:"\uD835\uDD4E",wopf:"\uD835\uDD68",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"\uD835\uDCB2",wscr:"\uD835\uDCCC",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"\uD835\uDD1B",xfr:"\uD835\uDD35",xhArr:"âŸº",xharr:"âŸ·",Xi:"Îž",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"\uD835\uDD4F",xopf:"\uD835\uDD69",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"\uD835\uDCB3",xscr:"\uD835\uDCCD",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"\xdd",yacute:"\xfd",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ‹",yen:"\xa5",Yfr:"\uD835\uDD1C",yfr:"\uD835\uDD36",YIcy:"Ð‡",yicy:"Ñ—",Yopf:"\uD835\uDD50",yopf:"\uD835\uDD6A",Yscr:"\uD835\uDCB4",yscr:"\uD835\uDCCE",YUcy:"Ð®",yucy:"ÑŽ",Yuml:"Å¸",yuml:"\xff",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ð—",zcy:"Ð·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"\uD835\uDD37",ZHcy:"Ð–",zhcy:"Ð¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"\uD835\uDD6B",Zscr:"\uD835\uDCB5",zscr:"\uD835\uDCCF",zwj:"â€",zwnj:"â€Œ"}),t.entityMap=t.HTML_ENTITIES});dG.XML_ENTITIES,dG.HTML_ENTITIES,dG.entityMap;var dX=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,dK=RegExp("[\\-\\.0-9"+dX.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),dY=RegExp("^"+dX.source+dK.source+"*(?::"+dX.source+dK.source+"*)?$");function dQ(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,dQ)}function d$(){}function dJ(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function dZ(e,t,i){for(var n,r=e.tagName,s=null,a=e.length;a--;){var o=e[a],l=o.qName,c=o.value;if((n=l.indexOf(":"))>0)var u=o.prefix=l.slice(0,n),h=l.slice(n+1),d="xmlns"===u&&h;else h=l,u=null,d="xmlns"===l&&"";o.localName=h,!1!==d&&(null==s&&(s={},d0(i,i={})),i[d]=s[d]=c,o.uri=hz.XMLNS,t.startPrefixMapping(d,c))}for(a=e.length;a--;)(u=(o=e[a]).prefix)&&("xml"===u&&(o.uri=hz.XML),"xmlns"!==u&&(o.uri=i[u||""]));(n=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,n),h=e.localName=r.slice(n+1)):(u=null,h=e.localName=r);var p=e.uri=i[u||""];if(t.startElement(p,h,r,e),!e.closed)return e.currentNSMap=i,e.localNSMap=s,!0;if(t.endElement(p,h,r),s)for(u in s)Object.prototype.hasOwnProperty.call(s,u)&&t.endPrefixMapping(u)}function d0(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function d1(){this.attributeNames={}}function d2(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d4(e){this.options=e||{locator:{}}}function d5(){this.cdata=!1}function d3(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function d8(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function d6(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function d7(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}dQ.prototype=Error(),dQ.prototype.name=dQ.name,d$.prototype={parse:function(e,t,i){var n=this.domBuilder;n.startDocument(),d0(t,t={}),function(e,t,i,n,r){function s(e){var t,n=e.slice(1,-1);return Object.hasOwnProperty.call(i,n)?i[n]:"#"===n.charAt(0)?(t=parseInt(n.substr(1).replace("x","0x")))>65535?String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t)):String.fromCharCode(t):(r.error("entity not found:"+e),e)}function a(t){if(t>f){var i=e.substring(f,t).replace(/&#?\w+;/g,s);h&&o(f),n.characters(i,0,t-f),f=t}}function o(t,i){for(;t>=c&&(i=u.exec(e));)c=(l=i.index)+i[0].length,h.lineNumber++;h.columnNumber=t-l+1}for(var l=0,c=0,u=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,d=[{currentNSMap:t}],p={},f=0;;){try{var m=e.indexOf("<",f);if(m<0){if(!e.substr(f).match(/^\s*$/)){var g=n.doc,y=g.createTextNode(e.substr(f));g.appendChild(y),n.currentElement=y}return}switch(m>f&&a(m),e.charAt(m+1)){case"/":var _=e.indexOf(">",m+3),v=e.substring(m+2,_).replace(/[ \t\n\r]+$/g,""),b=d.pop();_<0?(v=e.substring(m+2).replace(/[\s<].*/,""),r.error("end tag name: "+v+" is not complete:"+b.tagName),_=m+1+v.length):v.match(/\s</)&&(v=v.replace(/[\s<].*/,""),r.error("end tag name: "+v+" maybe not complete"),_=m+1+v.length);var T=b.localNSMap,S=b.tagName==v;if(S||b.tagName&&b.tagName.toLowerCase()==v.toLowerCase()){if(n.endElement(b.uri,b.localName,v),T)for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&n.endPrefixMapping(w);S||r.fatalError("end tag name: "+v+" is not match the current start tagName:"+b.tagName)}else d.push(b);_++;break;case"?":h&&o(m),_=function(e,t,i){var n=e.indexOf("?>",t);if(n){var r=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return -1}(e,m,n);break;case"!":h&&o(m),_=function(e,t,i,n){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(i.comment(e,t+4,r-t-4),r+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return i.startCDATA(),i.characters(e,t+9,r-t-9),i.endCDATA(),r+3}var s=function(e,t){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=t,r.exec(e);i=r.exec(e);)if(n.push(i),i[1])return n}(e,t),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var o=s[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],c=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var u=s[a-1];return i.startDTD(o,l,c),i.endDTD(),u.index+u[0].length}return -1}(e,m,n,r);break;default:h&&o(m);var E=new d1,C=d[d.length-1].currentNSMap,k=(_=function(e,t,i,n,r,s){function a(e,t,n){i.attributeNames.hasOwnProperty(e)&&s.fatalError("Attribute "+e+" redefined"),i.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),n)}for(var o,l=++t,c=0;;){var u=e.charAt(l);switch(u){case"=":if(1===c)o=e.slice(t,l),c=3;else{if(2!==c)throw Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(s.warning('attribute value must after "="'),o=e.slice(t,l)),t=l+1,!((l=e.indexOf(u,t))>0))throw Error("attribute value no end '"+u+"' match");a(o,h=e.slice(t,l),t-1),c=5}else{if(4!=c)throw Error('attribute value must after "="');a(o,h=e.slice(t,l),t),s.warning('attribute "'+o+'" missed start quot('+u+")!!"),t=l+1,c=5}break;case"/":switch(c){case 0:i.setTagName(e.slice(t,l));case 5:case 6:case 7:c=7,i.closed=!0;case 4:case 1:break;case 2:i.closed=!0;break;default:throw Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==c&&i.setTagName(e.slice(t,l)),l;case">":switch(c){case 0:i.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=e.slice(t,l)).slice(-1)&&(i.closed=!0,h=h.slice(0,-1));case 2:2===c&&(h=o),4==c?(s.warning('attribute "'+h+'" missed quot(")!'),a(o,h,t)):(hz.isHTML(n[""])&&h.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),a(h,h,t));break;case 3:throw Error("attribute value missed!!")}return l;case"\x80":u=" ";default:if(u<=" ")switch(c){case 0:i.setTagName(e.slice(t,l)),c=6;break;case 1:o=e.slice(t,l),c=2;break;case 4:var h=e.slice(t,l);s.warning('attribute "'+h+'" missed quot(")!!'),a(o,h,t);case 5:c=6}else switch(c){case 2:i.tagName,hz.isHTML(n[""])&&o.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,t),t=l,c=1;break;case 5:s.warning('attribute space is required"'+o+'"!!');case 6:c=1,t=l;break;case 3:c=4,t=l;break;case 7:throw Error("elements closed character '/' and '>' must be connected to")}}l++}}(e,m,E,C,s,r),E.length);if(!E.closed&&function(e,t,i,n){var r=n[i];return null==r&&((r=e.lastIndexOf("</"+i+">"))<t&&(r=e.lastIndexOf("</"+i)),n[i]=r),r<t}(e,_,E.tagName,p)&&(E.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),h&&k){for(var x=dJ(h,{}),I=0;I<k;I++){var A=E[I];o(A.offset),A.locator=dJ(h,{})}n.locator=x,dZ(E,n,C)&&d.push(E),n.locator=h}else dZ(E,n,C)&&d.push(E);hz.isHTML(E.uri)&&!E.closed?_=function(e,t,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var s=e.indexOf("</"+i+">",t),a=e.substring(t+1,s);if(/[&<]/.test(a))return/^script$/i.test(i)||(a=a.replace(/&#?\w+;/g,n)),r.characters(a,0,a.length),s}return t+1}(e,_,E.tagName,s,n):_++}}catch(e){if(e instanceof dQ)throw e;r.error("element parse error: "+e),_=-1}_>f?f=_:a(Math.max(m,f)+1)}}(e,t,i,n,this.errorHandler),n.endDocument()}},d1.prototype={setTagName:function(e){if(!dY.test(e))throw Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!dY.test(e))throw Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},d4.prototype.parseFromString=function(e,t){var i=this.options,n=new d$,r=i.domBuilder||new d5,s=i.errorHandler,a=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(t),c=l?dG.HTML_ENTITIES:dG.XML_ENTITIES;a&&r.setDocumentLocator(a),n.errorHandler=function(e,t,i){if(!e){if(t instanceof d5)return t;e=t}var n={},r=e instanceof Function;function s(t){var s=e[t];!s&&r&&(s=2==e.length?function(i){e(t,i)}:e),n[t]=s&&function(e){s("[xmldom "+t+"]	"+e+d8(i))}||function(){}}return i=i||{},s("warning"),s("error"),s("fatalError"),n}(s,r,a),n.domBuilder=i.domBuilder||r,l&&(o[""]=hz.HTML),o.xml=o.xml||hz.XML;var u=i.normalizeLineEndings||d2;return e&&"string"==typeof e?n.parse(u(e),o,c):n.errorHandler.error("invalid doc source"),r.doc},d5.prototype={startDocument:function(){this.doc=(new df).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,n){var r=this.doc,s=r.createElementNS(e,i||t),a=n.length;d7(this,s),this.currentElement=s,this.locator&&d3(this.locator,s);for(var o=0;o<a;o++){e=n.getURI(o);var l=n.getValue(o),c=(i=n.getQName(o),r.createAttributeNS(e,i));this.locator&&d3(n.getLocator(o),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(e,t,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&d3(this.locator,i),d7(this,i)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){if(e=d6.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&d3(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=d6.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&d3(this.locator,n),d7(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(e,t,i);this.locator&&d3(this.locator,r),d7(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]	"+e,d8(this.locator))},error:function(e){console.error("[xmldom error]	"+e,d8(this.locator))},fatalError:function(e){throw new dQ(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){d5.prototype[e]=function(){return null}});let d9=e=>!!e&&"object"==typeof e,pe=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((e,t)=>("object"!=typeof t||Object.keys(t).forEach(i=>{Array.isArray(e[i])&&Array.isArray(t[i])?e[i]=e[i].concat(t[i]):d9(e[i])&&d9(t[i])?e[i]=pe(e[i],t[i]):e[i]=t[i]}),e),{})},pt=e=>Object.keys(e).map(t=>e[t]),pi=e=>e.reduce((e,t)=>e.concat(t),[]),pn=e=>{if(!e.length)return[];let t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t},pr=e=>{let{baseUrl:t="",source:i="",range:n="",indexRange:r=""}=e,s={uri:i,resolvedUri:hl(t||"",i)};if(n||r){let e=(n||r).split("-"),t,i=um.BigInt?um.BigInt(e[0]):parseInt(e[0],10),a=um.BigInt?um.BigInt(e[1]):parseInt(e[1],10);i<Number.MAX_SAFE_INTEGER&&"bigint"==typeof i&&(i=Number(i)),a<Number.MAX_SAFE_INTEGER&&"bigint"==typeof a&&(a=Number(a)),"bigint"==typeof(t="bigint"==typeof a||"bigint"==typeof i?um.BigInt(a)-um.BigInt(i)+um.BigInt(1):a-i+1)&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),s.byterange={length:t,offset:i}}return s},ps=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),pa={static(e){let{duration:t,timescale:i=1,sourceDuration:n,periodDuration:r}=e,s=ps(e.endNumber),a=t/i;return"number"==typeof s?{start:0,end:s}:"number"==typeof r?{start:0,end:r/a}:{start:0,end:n/a}},dynamic(e){let{NOW:t,clientOffset:i,availabilityStartTime:n,timescale:r=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=e,c=ps(e.endNumber),u=(t+i)/1e3,h=n+a,d=Math.ceil((u+o-h)*r/s),p=Math.floor((u-h-l)*r/s),f=Math.floor((u-h)*r/s);return{start:Math.max(0,p),end:"number"==typeof c?c:Math.min(d,f)}}},po=e=>{let{type:t,duration:i,timescale:n=1,periodDuration:r,sourceDuration:s}=e,{start:a,end:o}=pa[t](e),l=((e,t)=>{let i=[];for(let n=e;n<t;n++)i.push(n);return i})(a,o).map(t=>{let{duration:i,timescale:n=1,periodStart:r,startNumber:s=1}=e;return{number:s+t,duration:i/n,timeline:r,time:t*i}});if("static"===t){let e=l.length-1;l[e].duration=("number"==typeof r?r:s)-i/n*e}return l},pl=e=>{let{baseUrl:t,initialization:i={},sourceDuration:n,indexRange:r="",periodStart:s,presentationTime:a,number:o=0,duration:l}=e;if(!t)throw Error("NO_BASE_URL");let c=pr({baseUrl:t,source:i.sourceURL,range:i.range}),u=pr({baseUrl:t,source:t,indexRange:r});if(u.map=c,l){let t=po(e);t.length&&(u.duration=t[0].duration,u.timeline=t[0].timeline)}else n&&(u.duration=n,u.timeline=s);return u.presentationTime=a||s,u.number=o,[u]},pc=(e,t,i)=>{let n=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,s=e.timeline||0,a=e.sidx.byterange,o=a.offset+a.length,l=t.timescale,c=t.references.filter(e=>1!==e.referenceType),u=[],h=e.endList?"static":"dynamic",d=e.sidx.timeline,p,f=d,m=e.mediaSequence||0;p="bigint"==typeof t.firstOffset?um.BigInt(o)+t.firstOffset:o+t.firstOffset;for(let e=0;e<c.length;e++){let a;let o=t.references[e],c=o.referencedSize,g=o.subsegmentDuration;a="bigint"==typeof p?p+um.BigInt(c)-um.BigInt(1):p+c-1;let y=pl({baseUrl:i,timescale:l,timeline:s,periodStart:d,presentationTime:f,number:m,duration:g,sourceDuration:r,indexRange:"".concat(p,"-").concat(a),type:h})[0];n&&(y.map=n),u.push(y),p+="bigint"==typeof p?um.BigInt(c):c,f+=g/l,m++}return e.segments=u,e},pu=["AUDIO","SUBTITLES"],ph=1/60,pd=e=>{var t;return(t=e=>{let{timeline:t}=e;return t},pt(e.reduce((e,i)=>(i.forEach(i=>{e[t(i)]=i}),e),{}))).sort((e,t)=>e.timeline>t.timeline?1:-1)},pp=e=>{var t;let i=[];return t=(e,t,n,r)=>{i=i.concat(e.playlists||[])},pu.forEach(function(i){for(var n in e.mediaGroups[i])for(var r in e.mediaGroups[i][n])t(e.mediaGroups[i][n][r],i,n,r)}),i},pf=e=>{let{playlist:t,mediaSequence:i}=e;t.mediaSequence=i,t.segments.forEach((e,i)=>{e.number=t.mediaSequence+i})},pm=e=>{let{oldManifest:t,newManifest:i}=e,n=t.playlists.concat(pp(t)),r=i.playlists.concat(pp(i));return i.timelineStarts=pd([t.timelineStarts,i.timelineStarts]),(e=>{let{oldPlaylists:t,newPlaylists:i,timelineStarts:n}=e;i.forEach(e=>{e.discontinuitySequence=n.findIndex(function(t){let{timeline:i}=t;return i===e.timeline});let i=((e,t)=>{for(let i=0;i<e.length;i++)if(e[i].attributes.NAME===t)return e[i];return null})(t,e.attributes.NAME);if(!i||e.sidx)return;let r=e.segments[0],s=i.segments.findIndex(function(e){return Math.abs(e.presentationTime-r.presentationTime)<ph});if(-1===s)return pf({playlist:e,mediaSequence:i.mediaSequence+i.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!i.segments.length&&e.timeline>i.timeline||i.segments.length&&e.timeline>i.segments[i.segments.length-1].timeline)&&e.discontinuitySequence--);i.segments[s].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),pf({playlist:e,mediaSequence:i.segments[s].number})})})({oldPlaylists:n,newPlaylists:r,timelineStarts:i.timelineStarts}),i},pg=e=>{var t;let i;return e&&e.uri+"-"+(i="bigint"==typeof(t=e.byterange).offset||"bigint"==typeof t.length?um.BigInt(t.offset)+um.BigInt(t.length)-um.BigInt(1):t.offset+t.length-1,"".concat(t.offset,"-").concat(i))},py=e=>{let t=e.reduce(function(e,t){return e[t.attributes.baseUrl]||(e[t.attributes.baseUrl]=[]),e[t.attributes.baseUrl].push(t),e},{}),i=[];return Object.values(t).forEach(e=>{let t=pt(e.reduce((e,t)=>{let i=t.attributes.id+(t.attributes.lang||"");return e[i]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[i].segments.push(...t.segments)),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):(e[i]=t,e[i].attributes.timelineStarts=[]),e[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{}));i=i.concat(t)}),i.map(e=>{var t,i;return e.discontinuityStarts=(t=e.segments||[],i="discontinuity",t.reduce((e,t,n)=>(t[i]&&e.push(n),e),[])),e})},p_=(e,t)=>{let i=pg(e.sidx),n=i&&t[i]&&t[i].sidx;return n&&pc(e,n,e.sidx.resolvedUri),e},pv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object.keys(t).length)return e;for(let i in e)e[i]=p_(e[i],t);return e},pb=e=>{let{attributes:t,segments:i,sidx:n,discontinuityStarts:r}=e,s={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:i};return t.frameRate&&(s.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(s.contentProtection=t.contentProtection),t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),n&&(s.sidx=n),s},pT=e=>{let{attributes:t}=e;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},pS=e=>{let{attributes:t}=e;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},pw=e=>{let{attributes:t}=e;return"text/vtt"===t.mimeType||"text"===t.contentType},pE=e=>e?Object.keys(e).reduce((t,i)=>{let n=e[i];return t.concat(n.playlists)},[]):[],pC=e=>{var t;let{dashPlaylists:i,locations:n,contentSteering:r,sidxMapping:s={},previousManifest:a,eventStream:o}=e;if(!i.length)return{};let{sourceDuration:l,type:c,suggestedPresentationDelay:u,minimumUpdatePeriod:h}=i[0].attributes,d=py(i.filter(pT)).map(pb),p=py(i.filter(pS)),f=py(i.filter(pw)),m=i.map(e=>e.attributes.captionServices).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:l,playlists:pv(d,s)};h>=0&&(g.minimumUpdatePeriod=1e3*h),n&&(g.locations=n),r&&(g.contentSteering=r),"dynamic"===c&&(g.suggestedPresentationDelay=u),o&&o.length>0&&(g.eventStream=o);let y=0===g.playlists.length,_=p.length?function(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.reduce((e,r)=>{let s=r.attributes.role&&r.attributes.role.value||"",a=r.attributes.lang||"",o=r.attributes.label||"main";a&&!r.attributes.label&&(o="".concat(r.attributes.lang).concat(s?" (".concat(s,")"):"")),e[o]||(e[o]={language:a,autoselect:!0,default:"main"===s,playlists:[],uri:""});let l=p_(((e,t)=>{let{attributes:i,segments:n,sidx:r,mediaSequence:s,discontinuitySequence:a,discontinuityStarts:o}=e,l={attributes:{NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===i.type,timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,discontinuitySequence:a,discontinuityStarts:o,timelineStarts:i.timelineStarts,mediaSequence:s,segments:n};return i.contentProtection&&(l.contentProtection=i.contentProtection),i.serviceLocation&&(l.attributes.serviceLocation=i.serviceLocation),r&&(l.sidx=r),t&&(l.attributes.AUDIO="audio",l.attributes.SUBTITLES="subs"),l})(r,n),i);return e[o].playlists.push(l),void 0===t&&"main"===s&&((t=r).default=!0),e},{});return t||(r[Object.keys(r)[0]].default=!0),r}(p,s,y):null,v=f.length?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((e,i)=>{let n=i.attributes.label||i.attributes.lang||"text",r=i.attributes.lang||"und";return e[n]||(e[n]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[n].playlists.push(p_((e=>{let{attributes:t,segments:i,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:s}=e;void 0===i&&(i=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);let a={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(a.CODECS=t.codecs);let o={attributes:a,uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:s,mediaSequence:n,segments:i};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o})(i),t)),e},{})}(f,s):null,b=d.concat(pE(_),pE(v)),T=b.map(e=>{let{timelineStarts:t}=e;return t});return g.timelineStarts=pd(T),t=g.timelineStarts,b.forEach(e=>{e.mediaSequence=0,e.discontinuitySequence=t.findIndex(function(t){let{timeline:i}=t;return i===e.timeline}),e.segments&&e.segments.forEach((e,t)=>{e.number=t})}),_&&(g.mediaGroups.AUDIO.audio=_),v&&(g.mediaGroups.SUBTITLES.subs=v),m.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=m.reduce((e,t)=>(t&&t.forEach(t=>{let{channel:i,language:n}=t;e[n]={autoselect:!1,default:!1,instreamId:i,language:n},t.hasOwnProperty("aspectRatio")&&(e[n].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[n].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[n]["3D"]=t["3D"])}),e),{})),a?pm({oldManifest:a,newManifest:g}):g},pk=(e,t,i)=>{let{NOW:n,clientOffset:r,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=e;return Math.ceil((((n+r)/1e3+l-(s+o))*a-t)/i)},px=(e,t)=>{let{type:i,minimumUpdatePeriod:n=0,media:r="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=e,c=[],u=-1;for(let h=0;h<t.length;h++){let d;let p=t[h],f=p.d,m=p.r||0,g=p.t||0;if(u<0&&(u=g),g&&g>u&&(u=g),m<0){let o=h+1;d=o===t.length?"dynamic"===i&&n>0&&r.indexOf("$Number$")>0?pk(e,u,f):(s*a-u)/f:(t[o].t-u)/f}else d=m+1;let y=o+c.length+d,_=o+c.length;for(;_<y;)c.push({number:_,duration:f/a,time:u,timeline:l}),u+=f,_++}return c},pI=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,pA=(e,t)=>e.replace(pI,(e,i,n,r)=>{if("$$"===e)return"$";if(void 0===t[i])return e;let s=""+t[i];return"RepresentationID"===i?s:(r=n?parseInt(r,10):1,s.length>=r?s:"".concat(Array(r-s.length+1).join("0")).concat(s))}),pL=(e,t)=>{let i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=e,r=pr({baseUrl:e.baseUrl,source:pA(n.sourceURL,i),range:n.range});return(e.duration||t?e.duration?po(e):px(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]).map(t=>{i.Number=t.number,i.Time=t.time;let n=pA(e.media||"",i),s=e.timescale||1,a=e.presentationTimeOffset||0,o=e.periodStart+(t.time-a)/s;return{uri:n,timeline:t.timeline,duration:t.duration,resolvedUri:hl(e.baseUrl||"",n),map:r,number:t.number,presentationTime:o}})},pO=(e,t)=>{let i;let{duration:n,segmentUrls:r=[],periodStart:s}=e;if(!n&&!t||n&&t)throw Error("SEGMENT_TIME_UNSPECIFIED");let a=r.map(t=>((e,t)=>{let{baseUrl:i,initialization:n={}}=e,r=pr({baseUrl:i,source:n.sourceURL,range:n.range}),s=pr({baseUrl:i,source:t.media,range:t.mediaRange});return s.map=r,s})(e,t));return n&&(i=po(e)),t&&(i=px(e,t)),i.map((t,i)=>{if(a[i]){let n=a[i],r=e.timescale||1,o=e.presentationTimeOffset||0;return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n.presentationTime=s+(t.time-o)/r,n}}).filter(e=>e)},pP=e=>{let t,i,{attributes:n,segmentInfo:r}=e;r.template?(i=pL,t=pe(n,r.template)):r.base?(i=pl,t=pe(n,r.base)):r.list&&(i=pO,t=pe(n,r.list));let s={attributes:n};if(!i)return s;let a=i(t,r.segmentTimeline);if(t.duration){let{duration:e,timescale:i=1}=t;t.duration=e/i}else a.length?t.duration=a.reduce((e,t)=>Math.max(e,Math.ceil(t.duration)),0):t.duration=0;return s.attributes=t,s.segments=a,r.base&&t.indexRange&&(s.sidx=a[0],s.segments=[]),s},pD=(e,t)=>pn(e.childNodes).filter(e=>{let{tagName:i}=e;return i===t}),pN=e=>e.textContent.trim(),pM=e=>{let t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;let[i,n,r,s,a,o]=t.slice(1);return 31536e3*parseFloat(i||0)+2592e3*parseFloat(n||0)+86400*parseFloat(r||0)+3600*parseFloat(s||0)+60*parseFloat(a||0)+parseFloat(o||0)},pR={mediaPresentationDuration:e=>pM(e),availabilityStartTime(e){var t;return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3},minimumUpdatePeriod:e=>pM(e),suggestedPresentationDelay:e=>pM(e),type:e=>e,timeShiftBufferDepth:e=>pM(e),start:e=>pM(e),width:e=>parseInt(e,10),height:e=>parseInt(e,10),bandwidth:e=>parseInt(e,10),frameRate:e=>parseFloat(e.split("/").reduce((e,t)=>e/t)),startNumber:e=>parseInt(e,10),timescale:e=>parseInt(e,10),presentationTimeOffset:e=>parseInt(e,10),duration(e){let t=parseInt(e,10);return isNaN(t)?pM(e):t},d:e=>parseInt(e,10),t:e=>parseInt(e,10),r:e=>parseInt(e,10),presentationTime:e=>parseInt(e,10),DEFAULT:e=>e},pF=e=>e&&e.attributes?pn(e.attributes).reduce((e,t)=>{let i=pR[t.name]||pR.DEFAULT;return e[t.name]=i(t.value),e},{}):{},pB={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},pU=(e,t)=>t.length?pi(e.map(function(e){return t.map(function(t){let i=pN(t),n=hl(e.baseUrl,i),r=pe(pF(t),{baseUrl:n});return n!==i&&!r.serviceLocation&&e.serviceLocation&&(r.serviceLocation=e.serviceLocation),r})})):e,pj=e=>{let t=pD(e,"SegmentTemplate")[0],i=pD(e,"SegmentList")[0],n=i&&pD(i,"SegmentURL").map(e=>pe({tag:"SegmentURL"},pF(e))),r=pD(e,"SegmentBase")[0],s=i||t,a=s&&pD(s,"SegmentTimeline")[0],o=i||r||t,l=o&&pD(o,"Initialization")[0],c=t&&pF(t);c&&l?c.initialization=l&&pF(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});let u={template:c,segmentTimeline:a&&pD(a,"S").map(e=>pF(e)),list:i&&pe(pF(i),{segmentUrls:n,initialization:pF(l)}),base:r&&pe(pF(r),{initialization:pF(l)})};return Object.keys(u).forEach(e=>{u[e]||delete u[e]}),u},pq=e=>pi(pD(e.node,"EventStream").map(t=>{let i=pF(t),n=i.schemeIdUri;return pD(t,"Event").map(t=>{let r=pF(t),s=r.presentationTime||0,a=i.timescale||1,o=r.duration||0,l=s/a+e.attributes.start;return{schemeIdUri:n,value:i.value,id:r.id,start:l,end:l+o/a,messageData:pN(t)||r.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),pH=(e,t,i)=>n=>{var r;let s;let a=pF(n),o=pU(t,pD(n,"BaseURL")),l=pe(e,a,{role:pF(pD(n,"Role")[0])}),c="urn:scte:dash:cc:cea-608:2015"===(r=pF(pD(n,"Accessibility")[0])).schemeIdUri?("string"!=typeof r.value?[]:r.value.split(";")).map(e=>{let t,i;return i=e,/^CC\d=/.test(e)?[t,i]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:i}}):"urn:scte:dash:cc:cea-708:2015"===r.schemeIdUri?("string"!=typeof r.value?[]:r.value.split(";")).map(e=>{let t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){let[i,n=""]=e.split("=");t.channel=i,t.language=e,n.split(",").forEach(e=>{let[i,n]=e.split(":");"lang"===i?t.language=n:"er"===i?t.easyReader=Number(n):"war"===i?t.aspectRatio=Number(n):"3D"===i&&(t["3D"]=Number(n))})}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t}):void 0;c&&(l=pe(l,{captionServices:c}));let u=pD(n,"Label")[0];u&&u.childNodes.length&&(l=pe(l,{label:u.childNodes[0].nodeValue.trim()}));let h=pD(n,"ContentProtection").reduce((e,t)=>{let i=pF(t);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());let n=pB[i.schemeIdUri];if(n){e[n]={attributes:i};let r=pD(t,"cenc:pssh")[0];if(r){let t=pN(r);e[n].pssh=t&&hu(t)}}return e},{});Object.keys(h).length&&(l=pe(l,{contentProtection:h}));let d=pj(n),p=pD(n,"Representation"),f=pe(i,d);return pi(p.map((s=l,e=>{let t=pU(o,pD(e,"BaseURL")),i=pe(s,pF(e)),n=pj(e);return t.map(e=>({segmentInfo:pe(f,n),attributes:pe(i,e)}))})))},pV=(e,t)=>(i,n)=>{let r=pU(t,pD(i.node,"BaseURL")),s=pe(e,{periodStart:i.attributes.start});"number"==typeof i.attributes.duration&&(s.periodDuration=i.attributes.duration);let a=pD(i.node,"AdaptationSet"),o=pj(i.node);return pi(a.map(pH(s,r,o)))},pz=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;let i=pe({serverURL:pN(e[0])},pF(e[0]));return i.queryBeforeStart="true"===i.queryBeforeStart,i},pW=e=>{let t,i;if(""===e)throw Error("DASH_EMPTY_MANIFEST");let n=new d4;try{i=(t=n.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw Error("DASH_INVALID_XML");return i},pG=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{manifestUri:i="",NOW:n=Date.now(),clientOffset:r=0,eventHandler:s=function(){}}=t,a=pD(e,"Period");if(!a.length)throw Error("INVALID_NUMBER_OF_PERIOD");let o=pD(e,"Location"),l=pF(e),c=pU([{baseUrl:i}],pD(e,"BaseURL")),u=pD(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=r,o.length&&(l.locations=o.map(pN));let h=[];return a.forEach((e,t)=>{let i=pF(e),n=h[t-1];i.start=(e=>{let{attributes:t,priorPeriodAttributes:i,mpdType:n}=e;return"number"==typeof t.start?t.start:i&&"number"==typeof i.start&&"number"==typeof i.duration?i.start+i.duration:i||"static"!==n?null:0})({attributes:i,priorPeriodAttributes:n?n.attributes:null,mpdType:l.type}),h.push({node:e,attributes:i})}),{locations:l.locations,contentSteeringInfo:pz(u,s),representationInfo:pi(h.map(pV(l,c))),eventStream:pi(h.map(pq))}}(pW(e),t);return pC({dashPlaylists:i.representationInfo.map(pP),locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:i.eventStream})},pX=e=>(e=>{let t=pD(e,"UTCTiming")[0];if(!t)return null;let i=pF(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return i})(pW(e));var pK=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(t=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:0x100000000*i.getUint32(0)+i.getUint32(4)},pY=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},n=12;0===i.version?(i.earliestPresentationTime=t.getUint32(n),i.firstOffset=t.getUint32(n+4),n+=8):(i.earliestPresentationTime=pK(e.subarray(n)),i.firstOffset=pK(e.subarray(n+8)),n+=16),n+=2;var r=t.getUint16(n);for(n+=2;r>0;n+=12,r--)i.references.push({referenceType:(128&e[n])>>>7,referencedSize:0x7fffffff&t.getUint32(n),subsegmentDuration:t.getUint32(n+4),startsWithSap:!!(128&e[n+8]),sapType:(112&e[n+8])>>>4,sapDeltaTime:0xfffffff&t.getUint32(n+8)});return i},pQ=hM([73,68,51]),p$=function e(t,i){var n,r,s,a;return void 0===i&&(i=0),(t=hM(t)).length-i<10||!hq(t,pQ,{offset:i})?i:(i+=(n=t,void 0===(r=i)&&(r=0),s=(n=hM(n))[r+5],a=n[r+6]<<21|n[r+7]<<14|n[r+8]<<7|n[r+9],(16&s)>>4?a+20:a+10),e(t,i))},pJ=function(e){return"string"==typeof e?hj(e):e},pZ=function e(t,i,n){void 0===n&&(n=!1),i=Array.isArray(r=i)?r.map(function(e){return pJ(e)}):[pJ(r)],t=hM(t);var r,s=[];if(!i.length)return s;for(var a=0;a<t.length;){var o=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,l=t.subarray(a+4,a+8);if(0===o)break;var c=a+o;if(c>t.length){if(n)break;c=t.length}var u=t.subarray(a+8,c);hq(l,i[0])&&(1===i.length?s.push(u):s.push.apply(s,e(u,i.slice(1),n))),a=c}return s},p0={EBML:hM([26,69,223,163]),DocType:hM([66,130]),Segment:hM([24,83,128,103]),SegmentInfo:hM([21,73,169,102]),Tracks:hM([22,84,174,107]),Track:hM([174]),TrackNumber:hM([215]),DefaultDuration:hM([35,227,131]),TrackEntry:hM([174]),TrackType:hM([131]),FlagDefault:hM([136]),CodecID:hM([134]),CodecPrivate:hM([99,162]),VideoTrack:hM([224]),AudioTrack:hM([225]),Cluster:hM([31,67,182,117]),Timestamp:hM([231]),TimestampScale:hM([42,215,177]),BlockGroup:hM([160]),BlockDuration:hM([155]),Block:hM([161]),SimpleBlock:hM([163])},p1=[128,64,32,16,8,4,2,1],p2=function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var r=function(e){for(var t=1,i=0;i<p1.length&&!(e&p1[i]);i++)t++;return t}(e[t]),s=e.subarray(t,t+r);return i&&((s=Array.prototype.slice.call(e,t,t+r))[0]^=p1[r-1]),{length:r,value:hB(s,{signed:n}),bytes:s}},p4=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map(function(t){return e(t)}):"number"==typeof t?hU(t):t},p5=function e(t,i,n){if(n>=i.length)return i.length;var r=p2(i,n,!1);if(hq(t.bytes,r.bytes))return n;var s=p2(i,n+r.length);return e(t,i,n+s.length+s.value+r.length)},p3=function e(t,i){i=Array.isArray(n=i)?n.map(function(e){return p4(e)}):[p4(n)],t=hM(t);var n,r=[];if(!i.length)return r;for(var s=0;s<t.length;){var a=p2(t,s,!1),o=p2(t,s+a.length),l=s+a.length+o.length;127===o.value&&(o.value=p5(a,t,l),o.value!==t.length&&(o.value-=l));var c=l+o.value>t.length?t.length:l+o.value,u=t.subarray(l,c);hq(i[0],a.bytes)&&(1===i.length?r.push(u):r=r.concat(e(u,i.slice(1)))),s+=a.length+o.length+u.length}return r},p8=hM([0,0,0,1]),p6=hM([0,0,1]),p7=hM([0,0,3]),p9=function(e){for(var t=[],i=1;i<e.length-2;)hq(e.subarray(i,i+3),p7)&&(t.push(i+2),i++),i++;if(0===t.length)return e;var n=e.length-t.length,r=new Uint8Array(n),s=0;for(i=0;i<n;s++,i++)s===t[0]&&(s++,t.shift()),r[i]=e[s];return r},fe=function(e,t,i,n){e=hM(e),i=[].concat(i);for(var r,s=0,a=0;s<e.length&&(a<n||r);){var o=void 0;if(hq(e.subarray(s),p8)?o=4:hq(e.subarray(s),p6)&&(o=3),o){if(a++,r)return p9(e.subarray(r,s));var l=void 0;"h264"===t?l=31&e[s+o]:"h265"===t&&(l=e[s+o]>>1&63),-1!==i.indexOf(l)&&(r=s+o),s+=o+("h264"===t?1:2)}else s++}return e.subarray(0,0)},ft={webm:hM([119,101,98,109]),matroska:hM([109,97,116,114,111,115,107,97]),flac:hM([102,76,97,67]),ogg:hM([79,103,103,83]),ac3:hM([11,119]),riff:hM([82,73,70,70]),avi:hM([65,86,73]),wav:hM([87,65,86,69]),"3gp":hM([102,116,121,112,51,103]),mp4:hM([102,116,121,112]),fmp4:hM([115,116,121,112]),mov:hM([102,116,121,112,113,116]),moov:hM([109,111,111,118]),moof:hM([109,111,111,102])},fi={aac:function(e){var t=p$(e);return hq(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=p$(e);return hq(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){return hq(p3(e,[p0.EBML,p0.DocType])[0],ft.webm)},mkv:function(e){return hq(p3(e,[p0.EBML,p0.DocType])[0],ft.matroska)},mp4:function(e){return!fi["3gp"](e)&&!fi.mov(e)&&(!(!hq(e,ft.mp4,{offset:4})&&!hq(e,ft.fmp4,{offset:4}))||!(!hq(e,ft.moof,{offset:4})&&!hq(e,ft.moov,{offset:4}))||void 0)},mov:function(e){return hq(e,ft.mov,{offset:4})},"3gp":function(e){return hq(e,ft["3gp"],{offset:4})},ac3:function(e){var t=p$(e);return hq(e,ft.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=p$(e);return hq(e,ft.flac,{offset:t})},ogg:function(e){return hq(e,ft.ogg)},avi:function(e){return hq(e,ft.riff)&&hq(e,ft.avi,{offset:8})},wav:function(e){return hq(e,ft.riff)&&hq(e,ft.wav,{offset:8})},h264:function(e){return fe(e,"h264",7,3).length},h265:function(e){return fe(e,"h265",[32,33],3).length}},fn=Object.keys(fi).filter(function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e}).concat(["ts","h264","h265"]);fn.forEach(function(e){var t=fi[e];fi[e]=function(e){return t(hM(e))}});var fr=function(e){e=hM(e);for(var t=0;t<fn.length;t++){var i=fn[t];if(fi[i](e))return i}return""},fs="8.19.1";let fa={},fo=function(e,t){return fa[e]=fa[e]||[],t&&(fa[e]=fa[e].concat(t)),fa[e]},fl=function(e,t){let i=fo(e).indexOf(t);return!(i<=-1)&&(fa[e]=fa[e].slice(),fa[e].splice(i,1),!0)},fc={prefixed:!0},fu=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],fh=fu[0];for(let t=0;t<fu.length;t++)if(fu[t][1]in uM){e=fu[t];break}if(e){for(let t=0;t<e.length;t++)fc[fh[t]]=e[t];fc.prefixed=e[0]!==fh[0]}let fd=[],fp=function e(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r,s="info";function a(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];r("log",s,t)}return r=(e,i,r)=>{let s=a.levels[i],o=new RegExp("^(".concat(s,")$")),l=t;if("log"!==e&&r.unshift(e.toUpperCase()+":"),n&&(l="%c".concat(t),r.unshift(n)),r.unshift(l+":"),fd){fd.push([].concat(r));let e=fd.length-1e3;fd.splice(0,e>0?e:0)}if(!um.console)return;let c=um.console[e];c||"debug"!==e||(c=um.console.info||um.console.log),c&&s&&o.test(e)&&c[Array.isArray(r)?"apply":"call"](um.console,r)},a.createLogger=(r,s,a)=>{let o=void 0!==s?s:i;return e("".concat(t," ").concat(o," ").concat(r),o,void 0!==a?a:n)},a.createNewLogger=(t,i,n)=>e(t,i,n),a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},a.level=e=>{if("string"==typeof e){if(!a.levels.hasOwnProperty(e))throw Error('"'.concat(e,'" in not a valid log level'));s=e}return s},a.history=()=>fd?[].concat(fd):[],a.history.filter=e=>(fd||[]).filter(t=>new RegExp(".*".concat(e,".*")).test(t[0])),a.history.clear=()=>{fd&&(fd.length=0)},a.history.disable=()=>{null!==fd&&(fd.length=0,fd=null)},a.history.enable=()=>{null===fd&&(fd=[])},a.error=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("error",s,t)},a.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("warn",s,t)},a.debug=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("debug",s,t)},a}("VIDEOJS"),ff=fp.createLogger,fm=Object.prototype.toString,fg=function(e){return fv(e)?Object.keys(e):[]};function fy(e,t){fg(e).forEach(i=>t(e[i],i))}function f_(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fg(e).reduce((i,n)=>t(i,e[n],n),i)}function fv(e){return!!e&&"object"==typeof e}function fb(e){return fv(e)&&"[object Object]"===fm.call(e)&&e.constructor===Object}function fT(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let n={};return t.forEach(e=>{e&&fy(e,(e,t)=>{fb(e)?(fb(n[t])||(n[t]={}),n[t]=fT(n[t],e)):n[t]=e})}),n}function fS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];t.push(n)}return t}function fw(e,t,i){let n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],r=i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){let e=i();return r(e),e}};return n&&(s.set=r),Object.defineProperty(e,t,s)}var fE=Object.freeze({__proto__:null,each:fy,reduce:f_,isObject:fv,isPlain:fb,merge:fT,values:fS,defineLazyProperty:fw});let fC,fk=!1,fx=null,fI=!1,fA=!1,fL=!1,fO=!1,fP=!1,fD=null,fN=null,fM=!!(um.cast&&um.cast.framework&&um.cast.framework.CastReceiverContext),fR=null,fF=!1,fB=!1,fU=!1,fj=!1,fq=!1,fH=!1,fV=!1,fz=!!(fQ()&&("ontouchstart"in um||um.navigator.maxTouchPoints||um.DocumentTouch&&um.document instanceof um.DocumentTouch)),fW=um.navigator&&um.navigator.userAgentData;if(fW&&fW.platform&&fW.brands&&(fI="Android"===fW.platform,fL=!!fW.brands.find(e=>"Microsoft Edge"===e.brand),fO=!!fW.brands.find(e=>"Chromium"===e.brand),fP=!fL&&fO,fD=fN=(fW.brands.find(e=>"Chromium"===e.brand)||{}).version||null,fB="Windows"===fW.platform),!fO){let e=um.navigator&&um.navigator.userAgent||"";fk=/iPod/i.test(e),fx=function(){let t=e.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),fI=/Android/i.test(e),fC=function(){let t=e.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;let i=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return i&&n?parseFloat(t[1]+"."+t[2]):i||null}(),fA=/Firefox/i.test(e),fL=/Edg/i.test(e),fO=/Chrome/i.test(e)||/CriOS/i.test(e),fP=!fL&&fO,fD=fN=function(){let t=e.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),fR=function(){let t=/MSIE\s(\d+)\.\d/.exec(e),i=t&&parseFloat(t[1]);return!i&&/Trident\/7.0/i.test(e)&&/rv:11.0/.test(e)&&(i=11),i}(),fq=/Tizen/i.test(e),fH=/Web0S/i.test(e),fV=fq||fH,fF=/Safari/i.test(e)&&!fP&&!fI&&!fL&&!fV,fB=/Windows/i.test(e),fU=/iPad/i.test(e)||fF&&fz&&!/iPhone/i.test(e),fj=/iPhone/i.test(e)&&!fU}let fG=fj||fU||fk,fX=(fF||fG)&&!fP;var fK=Object.freeze({__proto__:null,get IS_IPOD(){return fk},get IOS_VERSION(){return fx},get IS_ANDROID(){return fI},get ANDROID_VERSION(){return fC},get IS_FIREFOX(){return fA},get IS_EDGE(){return fL},get IS_CHROMIUM(){return fO},get IS_CHROME(){return fP},get CHROMIUM_VERSION(){return fD},get CHROME_VERSION(){return fN},IS_CHROMECAST_RECEIVER:fM,get IE_VERSION(){return fR},get IS_SAFARI(){return fF},get IS_WINDOWS(){return fB},get IS_IPAD(){return fU},get IS_IPHONE(){return fj},get IS_TIZEN(){return fq},get IS_WEBOS(){return fH},get IS_SMART_TV(){return fV},TOUCH_ENABLED:fz,IS_IOS:fG,IS_ANY_SAFARI:fX});function fY(e){return"string"==typeof e&&!!e.trim()}function fQ(){return uM===um.document}function f$(e){return fv(e)&&1===e.nodeType}function fJ(){try{return um.parent!==um.self}catch(e){return!0}}function fZ(e){return function(t,i){if(!fY(t))return uM[e](null);fY(i)&&(i=uM.querySelector(i));let n=f$(i)?i:uM;return n[e]&&n[e](t)}}function f0(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=uM.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){let i=t[e];"textContent"===e?f1(r,i):r[e]===i&&"tabIndex"!==e||(r[e]=i)}),Object.getOwnPropertyNames(i).forEach(function(e){r.setAttribute(e,i[e])}),n&&mu(r,n),r}function f1(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function f2(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function f4(e,t){return function(e){if(e.indexOf(" ")>=0)throw Error("class has illegal whitespace characters")}(t),e.classList.contains(t)}function f5(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.classList.add(...i.reduce((e,t)=>e.concat(t.split(/\s+/)),[])),e}function f3(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e?(e.classList.remove(...i.reduce((e,t)=>e.concat(t.split(/\s+/)),[])),e):(fp.warn("removeClass was called with an element that doesn't exist"),null)}function f8(e,t,i){return"function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=void 0),t.split(/\s+/).forEach(t=>e.classList.toggle(t,i)),e}function f6(e,t){Object.getOwnPropertyNames(t).forEach(function(i){let n=t[i];null==n||!1===n?e.removeAttribute(i):e.setAttribute(i,!0===n?"":n)})}function f7(e){let t={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){let n=e.attributes;for(let e=n.length-1;e>=0;e--){let r=n[e].name,s=n[e].value;i.includes(r)&&(s=null!==s),t[r]=s}}return t}function f9(e,t){return e.getAttribute(t)}function me(e,t,i){e.setAttribute(t,i)}function mt(e,t){e.removeAttribute(t)}function mi(){uM.body.focus(),uM.onselectstart=function(){return!1}}function mn(){uM.onselectstart=function(){return!0}}function mr(e){if(e&&e.getBoundingClientRect&&e.parentNode){let t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(e=>{void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(mm(e,"height"))),i.width||(i.width=parseFloat(mm(e,"width"))),i}}function ms(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};let t=e.offsetWidth,i=e.offsetHeight,n=0,r=0;for(;e.offsetParent&&e!==uM[fc.fullscreenElement];)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:n,top:r,width:t,height:i}}function ma(e,t){let i={x:0,y:0};if(fG){let t=e;for(;t&&"html"!==t.nodeName.toLowerCase();){let e=mm(t,"transform");if(/^matrix/.test(e)){let t=e.slice(7,-1).split(/,\s/).map(Number);i.x+=t[4],i.y+=t[5]}else if(/^matrix3d/.test(e)){let t=e.slice(9,-1).split(/,\s/).map(Number);i.x+=t[12],i.y+=t[13]}if(t.assignedSlot&&t.assignedSlot.parentElement&&um.WebKitCSSMatrix){let e=um.getComputedStyle(t.assignedSlot.parentElement).transform,n=new um.WebKitCSSMatrix(e);i.x+=n.m41,i.y+=n.m42}t=t.parentNode||t.host}}let n={},r=ms(t.target),s=ms(e),a=s.width,o=s.height,l=t.offsetY-(s.top-r.top),c=t.offsetX-(s.left-r.left);return t.changedTouches&&(c=t.changedTouches[0].pageX-s.left,l=t.changedTouches[0].pageY+s.top,fG&&(c-=i.x,l-=i.y)),n.y=1-Math.max(0,Math.min(1,l/o)),n.x=Math.max(0,Math.min(1,c/a)),n}function mo(e){return fv(e)&&3===e.nodeType}function ml(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function mc(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(e=>("function"==typeof e&&(e=e()),f$(e)||mo(e)?e:"string"==typeof e&&/\S/.test(e)?uM.createTextNode(e):void 0)).filter(e=>e)}function mu(e,t){return mc(t).forEach(t=>e.appendChild(t)),e}function mh(e,t){return mu(ml(e),t)}function md(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||"mousedown"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}let mp=fZ("querySelector"),mf=fZ("querySelectorAll");function mm(e,t){if(!e||!t)return"";if("function"==typeof um.getComputedStyle){let i;try{i=um.getComputedStyle(e)}catch(e){return""}return i?i.getPropertyValue(t)||i[t]:""}return""}function mg(e){[...uM.styleSheets].forEach(t=>{try{let i=[...t.cssRules].map(e=>e.cssText).join(""),n=uM.createElement("style");n.textContent=i,e.document.head.appendChild(n)}catch(n){let i=uM.createElement("link");i.rel="stylesheet",i.type=t.type,i.media=t.media.mediaText,i.href=t.href,e.document.head.appendChild(i)}})}var my=Object.freeze({__proto__:null,isReal:fQ,isEl:f$,isInFrame:fJ,createEl:f0,textContent:f1,prependTo:f2,hasClass:f4,addClass:f5,removeClass:f3,toggleClass:f8,setAttributes:f6,getAttributes:f7,getAttribute:f9,setAttribute:me,removeAttribute:mt,blockTextSelection:mi,unblockTextSelection:mn,getBoundingClientRect:mr,findPosition:ms,getPointerPosition:ma,isTextNode:mo,emptyEl:ml,normalizeContent:mc,appendContent:mu,insertContent:mh,isSingleLeftClick:md,$:mp,$$:mf,computedStyle:mm,copyStyleSheetsToWindow:mg});let m_,mv=!1,mb=function(){if(!1===m_.options.autoSetup)return;let e=Array.prototype.slice.call(uM.getElementsByTagName("video")),t=Array.prototype.slice.call(uM.getElementsByTagName("audio")),i=Array.prototype.slice.call(uM.getElementsByTagName("video-js")),n=e.concat(t,i);if(n&&n.length>0)for(let e=0,t=n.length;e<t;e++){let t=n[e];if(!t||!t.getAttribute){mT(1);break}void 0===t.player&&null!==t.getAttribute("data-setup")&&m_(t)}else mv||mT(1)};function mT(e,t){fQ()&&(t&&(m_=t),um.setTimeout(mb,e))}function mS(){mv=!0,um.removeEventListener("load",mS)}fQ()&&("complete"===uM.readyState?mS():um.addEventListener("load",mS));let mw=function(e){let t=uM.createElement("style");return t.className=e,t},mE=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var mC=new WeakMap;let mk,mx=3;function mI(e,t){if(!mC.has(e))return;let i=mC.get(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&mC.delete(e)}function mA(e,t,i,n){i.forEach(function(i){e(t,i,n)})}function mL(e){if(e.fixed_)return e;function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){let n=e||um.event;e={};let r=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(let t in n)r.includes(t)||"returnValue"===t&&n.preventDefault||(e[t]=n[t]);if(e.target||(e.target=e.srcElement||uM),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){let t=uM.documentElement,i=uM.body;e.pageX=e.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&i.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}let mO=["touchstart","touchmove"];function mP(e,t,i){if(Array.isArray(t))return mA(mP,e,t,i);mC.has(e)||mC.set(e,{});let n=mC.get(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),i.guid||(i.guid=mx++),n.handlers[t].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,i){if(n.disabled)return;t=mL(t);let r=n.handlers[t.type];if(r){let n=r.slice(0);for(let r=0,s=n.length;r<s&&!t.isImmediatePropagationStopped();r++)try{n[r].call(e,t,i)}catch(e){fp.error(e)}}}),1===n.handlers[t].length){if(e.addEventListener){let i=!1;(function(){if("boolean"!=typeof mk){mk=!1;try{let e=Object.defineProperty({},"passive",{get(){mk=!0}});um.addEventListener("test",null,e),um.removeEventListener("test",null,e)}catch(e){}}return mk})()&&mO.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}}function mD(e,t,i){if(!mC.has(e))return;let n=mC.get(e);if(!n.handlers)return;if(Array.isArray(t))return mA(mD,e,t,i);let r=function(e,t){n.handlers[t]=[],mI(e,t)};if(void 0===t){for(let t in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},t)&&r(e,t);return}let s=n.handlers[t];if(s){if(i){if(i.guid)for(let e=0;e<s.length;e++)s[e].guid===i.guid&&s.splice(e--,1);mI(e,t)}else r(e,t)}}function mN(e,t,i){let n=mC.has(e)?mC.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=mL(t),n.dispatcher&&n.dispatcher.call(e,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles)mN.call(null,r,t,i);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){mC.has(t.target)||mC.set(t.target,{});let e=mC.get(t.target);t.target[t.type]&&(e.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),e.disabled=!1)}return!t.defaultPrevented}function mM(e,t,i){if(Array.isArray(t))return mA(mM,e,t,i);let n=function(){mD(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||mx++,mP(e,t,n)}function mR(e,t,i){let n=function(){mD(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||mx++,mP(e,t,n)}var mF=Object.freeze({__proto__:null,fixEvent:mL,on:mP,off:mD,trigger:mN,one:mM,any:mR});let mB=function(e,t,i){t.guid||(t.guid=mx++);let n=t.bind(e);return n.guid=i?i+"_"+t.guid:t.guid,n},mU=function(e,t){let i=um.performance.now();return function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];let a=um.performance.now();a-i>=t&&(e(...r),i=a)}},mj=function(e,t,i){let n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:um,s=function(){let s=this,a=arguments,o=function(){n=null,o=null,i||e.apply(s,a)};!n&&i&&e.apply(s,a),r.clearTimeout(n),n=r.setTimeout(o,t)};return s.cancel=()=>{r.clearTimeout(n),n=null},s};var mq=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:30,bind_:mB,throttle:mU,debounce:mj});class mH{on(e,t){let i=this.addEventListener;this.addEventListener=()=>{},mP(this,e,t),this.addEventListener=i}off(e,t){mD(this,e,t)}one(e,t){let i=this.addEventListener;this.addEventListener=()=>{},mM(this,e,t),this.addEventListener=i}any(e,t){let i=this.addEventListener;this.addEventListener=()=>{},mR(this,e,t),this.addEventListener=i}trigger(e){let t=e.type||e;"string"==typeof e&&(e={type:t}),e=mL(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),mN(this,e)}queueTrigger(e){t||(t=new Map);let i=e.type||e,n=t.get(this);n||(n=new Map,t.set(this,n));let r=n.get(i);n.delete(i),um.clearTimeout(r);let s=um.setTimeout(()=>{n.delete(i),0===n.size&&(n=null,t.delete(this)),this.trigger(e)},0);n.set(i,s)}}mH.prototype.allowedEvents_={},mH.prototype.addEventListener=mH.prototype.on,mH.prototype.removeEventListener=mH.prototype.off,mH.prototype.dispatchEvent=mH.prototype.trigger;let mV=e=>"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,mz=e=>e instanceof mH||!!e.eventBusEl_&&["on","one","off","trigger"].every(t=>"function"==typeof e[t]),mW=e=>"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length,mG=(e,t,i)=>{if(!e||!e.nodeName&&!mz(e))throw Error("Invalid target for ".concat(mV(t),"#").concat(i,"; must be a DOM node or evented object."))},mX=(e,t,i)=>{if(!mW(e))throw Error("Invalid event type for ".concat(mV(t),"#").concat(i,"; must be a non-empty string or array."))},mK=(e,t,i)=>{if("function"!=typeof e)throw Error("Invalid listener for ".concat(mV(t),"#").concat(i,"; must be a function."))},mY=(e,t,i)=>{let n,r,s;let a=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return a?(n=e.eventBusEl_,t.length>=3&&t.shift(),[r,s]=t):(n=t[0],r=t[1],s=t[2]),mG(n,e,i),mX(r,e,i),mK(s,e,i),{isTargetingSelf:a,target:n,type:r,listener:s=mB(e,s)}},mQ=(e,t,i,n)=>{mG(e,e,t),e.nodeName?mF[t](e,i,n):e[t](i,n)},m$={on(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let{isTargetingSelf:n,target:r,type:s,listener:a}=mY(this,t,"on");if(mQ(r,"on",s,a),!n){let e=()=>this.off(r,s,a);e.guid=a.guid;let t=()=>this.off("dispose",e);t.guid=a.guid,mQ(this,"on","dispose",e),mQ(r,"on","dispose",t)}},one(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let{isTargetingSelf:n,target:r,type:s,listener:a}=mY(this,t,"one");if(n)mQ(r,"one",s,a);else{var o=this;let e=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];o.off(r,s,e),a.apply(null,i)};e.guid=a.guid,mQ(r,"one",s,e)}},any(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let{isTargetingSelf:n,target:r,type:s,listener:a}=mY(this,t,"any");if(n)mQ(r,"any",s,a);else{var o=this;let e=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];o.off(r,s,e),a.apply(null,i)};e.guid=a.guid,mQ(r,"any",s,e)}},off(e,t,i){!e||mW(e)?mD(this.eventBusEl_,e,t):(mG(e,this,"off"),mX(t,this,"off"),mK(i,this,"off"),i=mB(this,i),this.off("dispose",i),e.nodeName?(mD(e,t,i),mD(e,"dispose",i)):mz(e)&&(e.off(t,i),e.off("dispose",i)))},trigger(e,t){if(mG(this.eventBusEl_,this,"trigger"),!mW(e&&"string"!=typeof e?e.type:e))throw Error("Invalid event type for ".concat(mV(this),"#trigger; must be a non-empty string or object with a type key that has a non-empty value."));return mN(this.eventBusEl_,e,t)}};function mJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{eventBusKey:i}=t;if(i){if(!e[i].nodeName)throw Error('The eventBusKey "'.concat(i,'" does not refer to an element.'));e.eventBusEl_=e[i]}else e.eventBusEl_=f0("span",{className:"vjs-event-bus"});return Object.assign(e,m$),e.eventedCallbacks&&e.eventedCallbacks.forEach(e=>{e()}),e.on("dispose",()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach(function(e){e&&mC.has(e)&&mC.delete(e)}),um.setTimeout(()=>{e.eventBusEl_=null},0)}),e}let mZ={state:{},setState(e){let t;return"function"==typeof e&&(e=e()),fy(e,(e,i)=>{this.state[i]!==e&&((t=t||{})[i]={from:this.state[i],to:e}),this.state[i]=e}),t&&mz(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function m0(e,t){return Object.assign(e,mZ),e.state=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&mz(e)&&e.on("statechanged",e.handleStateChanged),e}let m1=function(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toLowerCase())},m2=function(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toUpperCase())},m4=function(e,t){return m2(e)===m2(t)};var m5=Object.freeze({__proto__:null,toLowerCase:m1,toTitleCase:m2,titleCaseEquals:m4});class m3{dispose(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e&&(this.options_=fT(this.options_,e)),this.options_}el(){return this.el_}createEl(e,t,i){return f0(e,t,i)}localize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[n],a=n&&n.split("-")[0],o=r&&r[a],l=i;return s&&s[e]?l=s[e]:o&&o[e]&&(l=o[e]),t&&(l=l.replace(/\{(\d+)\}/g,function(e,i){let n=t[i-1],r=n;return void 0===n&&(r=e),r})),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t=t.reduce((e,t)=>e.concat(t),[]);let n=this;for(let e=0;e<t.length;e++)if(!(n=n.getChild(t[e]))||!n.getChild)return;return n}setIcon(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!this.player_.options_.experimentalSvgIcons)return;let i="http://www.w3.org/2000/svg",n=f0("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=uM.createElementNS(i,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");let s=uM.createElementNS(i,"use");return r.appendChild(s),s.setAttributeNS(null,"href","#vjs-icon-".concat(e)),n.appendChild(r),this.iconIsSet_?t.replaceChild(n,t.querySelector(".vjs-icon-placeholder")):t.appendChild(n),this.iconIsSet_=!0,n}addChild(e){let t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length;if("string"==typeof e){i=m2(e);let r=n.componentClass||i;n.name=i;let s=m3.getComponent(r);if(!s)throw Error("Component ".concat(r," does not exist"));if("function"!=typeof s)return null;t=new s(this.player_||this,n)}else t=e;if(t.parentComponent_&&t.parentComponent_.removeChild(t),this.children_.splice(r,0,t),t.parentComponent_=this,"function"==typeof t.id&&(this.childIndex_[t.id()]=t),(i=i||t.name&&m2(t.name()))&&(this.childNameIndex_[i]=t,this.childNameIndex_[m1(i)]=t),"function"==typeof t.el&&t.el()){let e=null;this.children_[r+1]&&(this.children_[r+1].el_?e=this.children_[r+1].el_:f$(this.children_[r+1])&&(e=this.children_[r+1])),this.contentEl().insertBefore(t.el(),e)}return t}removeChild(e){if("string"==typeof e&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[m2(e.name())]=null,this.childNameIndex_[m1(e.name())]=null;let i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){let e=this.options_.children;if(e){let t;let i=this.options_,n=m3.getComponent("Tech");(t=Array.isArray(e)?e:Object.keys(e)).concat(Object.keys(this.options_).filter(function(e){return!t.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(t=>{let i,n;return"string"==typeof t?n=e[i=t]||this.options_[i]||{}:(i=t.name,n=t),{name:i,opts:n}}).filter(e=>{let t=m3.getComponent(e.opts.componentClass||m2(e.name));return t&&!n.isTech(t)}).forEach(e=>{let t=e.name,n=e.opts;if(void 0!==i[t]&&(n=i[t]),!1===n)return;!0===n&&(n={}),n.playerOptions=this.options_.playerOptions;let r=this.addChild(t,n);r&&(this[t]=r)})}}buildCSSClass(){return""}ready(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))}triggerReady(){this.isReady_=!0,this.setTimeout(function(){let e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)}$(e,t){return mp(e,t||this.contentEl())}$$(e,t){return mf(e,t||this.contentEl())}hasClass(e){return f4(this.el_,e)}addClass(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];f5(this.el_,...t)}removeClass(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];f3(this.el_,...t)}toggleClass(e,t){f8(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return f9(this.el_,e)}setAttribute(e,t){me(this.el_,e,t)}removeAttribute(e){mt(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;let n=this.el_.style[e],r=n.indexOf("px");return -1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+m2(e)],10)}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw Error("currentDimension only accepts width or height value");if(0===(t=parseFloat(t=mm(this.el_,e)))||isNaN(t)){let i="offset".concat(m2(e));t=this.el_[i]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){let e=this.el_.getBoundingClientRect();return{boundingClientRect:{x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},center:{x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2}}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&("Tab"===e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e,t=0,i=null;this.on("touchstart",function(n){1===n.touches.length&&(i={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},t=um.performance.now(),e=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)e=!1;else if(i){let n=t.touches[0].pageX-i.pageX,r=t.touches[0].pageY-i.pageY;Math.sqrt(n*n+r*r)>10&&(e=!1)}});let n=function(){e=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",function(n){i=null,!0===e&&um.performance.now()-t<200&&(n.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){let e;if(!this.player()||!this.player().reportUserActivity)return;let t=mB(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});let i=function(i){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,t){var i;return e=mB(this,e),this.clearTimersOnDispose_(),i=um.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),um.clearTimeout(e)),e}setInterval(e,t){e=mB(this,e),this.clearTimersOnDispose_();let i=um.setInterval(e,t);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),um.clearInterval(e)),e}requestAnimationFrame(e){var t;return this.clearTimersOnDispose_(),e=mB(this,e),t=um.requestAnimationFrame(()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()}),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),t=mB(this,t);let i=this.requestAnimationFrame(()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),um.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(e=>{let[t,i]=e;this[t].forEach((e,t)=>this[i](t))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){var t;function i(e){let t=um.getComputedStyle(e,null),i=t.getPropertyValue("visibility");return"none"!==t.getPropertyValue("display")&&!["hidden","collapse"].includes(i)}return e||(e=this.el()),!!(function(e){if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;let t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(t.x<0||t.x>(uM.documentElement.clientWidth||um.innerWidth)||t.y<0||t.y>(uM.documentElement.clientHeight||um.innerHeight))return!1;let i=uM.elementFromPoint(t.x,t.y);for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i=i.parentNode}}(e)&&i((t=e).parentElement)&&i(t)&&"0"!==t.style.opacity&&"0px"!==um.getComputedStyle(t).height&&"0px"!==um.getComputedStyle(t).width&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,t){if("string"!=typeof e||!e)throw Error('Illegal component name, "'.concat(e,'"; must be a non-empty string.'));let i=m3.getComponent("Tech"),n=i&&i.isTech(t),r=m3===t||m3.prototype.isPrototypeOf(t.prototype);if(n||!r){let t;throw t=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",Error('Illegal component, "'.concat(e,'"; ').concat(t,"."))}e=m2(e),m3.components_||(m3.components_={});let s=m3.getComponent("Player");if("Player"===e&&s&&s.players){let e=s.players,t=Object.keys(e);if(e&&t.length>0&&t.map(t=>e[t]).every(Boolean))throw Error("Can not register Player component after player has been created.")}return m3.components_[e]=t,m3.components_[m1(e)]=t,t}static getComponent(e){if(e&&m3.components_)return m3.components_[e]}constructor(e,t,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=fT({},this.options_),t=this.options_=fT(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){let t=e&&e.id&&e.id()||"no_player";this.id_="".concat(t,"_component_").concat(mx++)}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(e=>this.addClass(e)),["on","off","one","any","trigger"].forEach(e=>{this[e]=void 0}),!1!==t.evented&&(mJ(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),m0(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}}function m8(e,t,i,n){return function(e,t,i){if("number"!=typeof t||t<0||t>i)throw Error("Failed to execute '".concat(e,"' on 'TimeRanges': The index provided (").concat(t,") is non-numeric or out of bounds (0-").concat(i,")."))}(e,n,i.length-1),i[n][t]}function m6(e){let t;return t=void 0===e||0===e.length?{length:0,start(){throw Error("This TimeRanges object is empty")},end(){throw Error("This TimeRanges object is empty")}}:{length:e.length,start:m8.bind(null,"start",0,e),end:m8.bind(null,"end",1,e)},um.Symbol&&um.Symbol.iterator&&(t[um.Symbol.iterator]=()=>(e||[]).values()),t}function m7(e,t){return Array.isArray(e)?m6(e):void 0===e||void 0===t?m6():m6([[e,t]])}m3.registerComponent("Component",m3);let m9=function(e,t){let i=Math.floor((e=e<0?0:e)%60),n=Math.floor(e/60%60),r=Math.floor(e/3600),s=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=n=i="-"),n=(((r=r>0||a>0?r+":":"")||s>=10)&&n<10?"0"+n:n)+":",r+n+(i=i<10?"0"+i:i)},ge=m9;function gt(e){ge=e}function gi(){ge=m9}function gn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return ge(e,t)}var gr=Object.freeze({__proto__:null,createTimeRanges:m7,createTimeRange:m7,setFormatTime:gt,resetFormatTime:gi,formatTime:gn});function gs(e,t){let i,n,r=0;if(!t)return 0;e&&e.length||(e=m7(0,0));for(let s=0;s<e.length;s++)i=e.start(s),(n=e.end(s))>t&&(n=t),r+=n-i;return r/t}function ga(e){if(e instanceof ga)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:fv(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=ga.defaultMessages[this.code]||"")}function go(e){return null!=e&&"function"==typeof e.then}function gl(e){go(e)&&e.then(null,e=>{})}ga.prototype.code=0,ga.prototype.message="",ga.prototype.status=null,ga.prototype.metadata=null,ga.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ga.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},ga.MEDIA_ERR_CUSTOM=0,ga.prototype.MEDIA_ERR_CUSTOM=0,ga.MEDIA_ERR_ABORTED=1,ga.prototype.MEDIA_ERR_ABORTED=1,ga.MEDIA_ERR_NETWORK=2,ga.prototype.MEDIA_ERR_NETWORK=2,ga.MEDIA_ERR_DECODE=3,ga.prototype.MEDIA_ERR_DECODE=3,ga.MEDIA_ERR_SRC_NOT_SUPPORTED=4,ga.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,ga.MEDIA_ERR_ENCRYPTED=5,ga.prototype.MEDIA_ERR_ENCRYPTED=5;let gc=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((t,i,n)=>(e[i]&&(t[i]=e[i]),t),{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})};var gu=function(e){let t=e.$$("track"),i=Array.prototype.map.call(t,e=>e.track);return Array.prototype.map.call(t,function(e){let t=gc(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return -1===i.indexOf(e)}).map(gc))};let gh="vjs-modal-dialog";class gd extends m3{createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":"".concat(this.id(),"_description"),"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return"".concat(gh," vjs-hidden ").concat(super.buildCSSClass())}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_)return void(this.options_.fillAlways&&this.fill());let e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;let e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if("boolean"==typeof e){let t=this.closeable_=!!e,i=this.getChild("closeButton");if(t&&!i){let e=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(i,"close",this.close_)}!t&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){let t=this.contentEl(),i=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),mh(t,e),this.trigger("modalfill"),n?i.insertBefore(t,n):i.appendChild(t);let r=this.getChild("closeButton");r&&i.appendChild(r.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),ml(this.contentEl()),this.trigger("modalempty")}content(e){return void 0!==e&&(this.content_=e),this.content_}conditionalFocus_(){let e=uM.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){let t;if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),"Escape"===e.key&&this.closeable())return e.preventDefault(),void this.close();if("Tab"!==e.key)return;let i=this.focusableEls_(),n=this.el_.querySelector(":focus");for(let e=0;e<i.length;e++)if(n===i[e]){t=e;break}uM.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||t!==i.length-1||(i[0].focus(),e.preventDefault())}focusableEls_(){let e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,e=>(e instanceof um.HTMLAnchorElement||e instanceof um.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof um.HTMLInputElement||e instanceof um.HTMLSelectElement||e instanceof um.HTMLTextAreaElement||e instanceof um.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof um.HTMLIFrameElement||e instanceof um.HTMLObjectElement||e instanceof um.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable"))}constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=f0("div",{className:"".concat(gh,"-content")},{role:"document"}),this.descEl_=f0("p",{className:"".concat(gh,"-description vjs-control-text"),id:this.el().getAttribute("aria-describedby")}),f1(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}}gd.prototype.options_={pauseOnOpen:!0,temporary:!0},m3.registerComponent("ModalDialog",gd);class gp extends mH{addTrack(e){let t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},mz(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let i=0,n=this.length;i<n;i++){let n=this[i];if(n.id===e){t=n;break}}return t}constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}}for(let e in gp.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},gp.prototype.allowedEvents_)gp.prototype["on"+e]=null;let gf=function(e,t){for(let i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)},gm=function(e,t){for(let i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)};class gg extends gp{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class gy{setCues_(e){let t=this.length||0,i=0,n=e.length;this.cues_=e,this.length_=e.length;let r=function(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})};if(t<n)for(i=t;i<n;i++)r.call(this,i)}getCueById(e){let t=null;for(let i=0,n=this.length;i<n;i++){let n=this[i];if(n.id===e){t=n;break}}return t}constructor(e){gy.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}}let g_={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},gv={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},gb={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},gT={disabled:"disabled",hidden:"hidden",showing:"showing"};class gS extends mH{constructor(e={}){super();let t={id:e.id||"vjs_track_"+mx++,kind:e.kind||"",language:e.language||""},i=e.label||"";for(let e in t)Object.defineProperty(this,e,{get:()=>t[e],set(){}});Object.defineProperty(this,"label",{get:()=>i,set(e){e!==i&&(i=e,this.trigger("labelchange"))}})}}let gw=function(e){return new URL(e,uM.baseURI)},gE=function(e){return new URL(e,uM.baseURI).href},gC=function(e){if("string"==typeof e){let t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},gk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:um.location;return gw(e).origin!==t.origin};var gx=Object.freeze({__proto__:null,parseUrl:gw,getAbsoluteURL:gE,getFileExtension:gC,isCrossOrigin:gk});let gI=function(e,t){let i=new um.WebVTT.Parser(um,um.vttjs,um.WebVTT.StringDecoder()),n=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){n.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),n.length>0&&(um.console&&um.console.groupCollapsed&&um.console.groupCollapsed("Text Track parsing errors for ".concat(t.src)),n.forEach(e=>fp.error(e)),um.console&&um.console.groupEnd&&um.console.groupEnd()),i.flush()},gA=function(e,t){let i={uri:e},n=gk(e);n&&(i.cors=n);let r="use-credentials"===t.tech_.crossOrigin();r&&(i.withCredentials=r),uz(i,mB(this,function(e,i,n){if(e)return fp.error(e,i);t.loaded_=!0,"function"!=typeof um.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],e=>{if("vttjserror"!==e.type)return gI(n,t);fp.error("vttjs failed to load, stopping trying to process ".concat(t.src))}):gI(n,t)}))};class gL extends gS{startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(!("getCueAsHTML"in t)){for(let i in t=new um.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}let i=this.tech_.textTracks();for(let e=0;e<i.length;e++)i[e]!==this&&i[e].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){let i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}constructor(e={}){if(!e.tech)throw Error("A tech was not provided.");let t=fT(e,{kind:gb[e.kind]||"subtitles",language:e.language||e.srclang||""}),i=gT[t.mode]||"disabled",n=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(i="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;let r=new gy(this.cues_),s=new gy(this.activeCues_),a=!1;this.timeupdateHandler=mB(this,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tech_.isDisposed()||(this.tech_.isReady_&&(this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1)),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}),this.tech_.one("dispose",()=>{this.stopTracking()}),"disabled"!==i&&this.startTracking(),Object.defineProperties(this,{default:{get:()=>n,set(){}},mode:{get:()=>i,set(e){gT[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||gA(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0===this.cues.length)return s;let e=this.tech_.currentTime(),t=[];for(let i=0,n=this.cues.length;i<n;i++){let n=this.cues[i];n.startTime<=e&&n.endTime>=e&&t.push(n)}if(a=!1,t.length!==this.activeCues_.length)a=!0;else for(let e=0;e<t.length;e++)-1===this.activeCues_.indexOf(t[e])&&(a=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&gA(this.src,this)):this.loaded_=!0}}gL.prototype.allowedEvents_={cuechange:"cuechange"};class gO extends gS{constructor(e={}){let t=fT(e,{kind:gv[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"enabled",{get:()=>i,set(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class gP extends gS{constructor(e={}){let t=fT(e,{kind:g_[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"selected",{get:()=>i,set(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}}class gD extends mH{constructor(e={}){let t;super();let i=new gL(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get:()=>t},track:{get:()=>i}}),t=gD.NONE,i.addEventListener("loadeddata",()=>{t=gD.LOADED,this.trigger({type:"load",target:this})})}}gD.prototype.allowedEvents_={load:"load"},gD.NONE=0,gD.LOADING=1,gD.LOADED=2,gD.ERROR=3;let gN={audio:{ListClass:class extends gp{addTrack(e){e.enabled&&gf(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,gf(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){gf(e,e[t]);break}super(e),this.changing_=!1}},TrackClass:gO,capitalName:"Audio"},video:{ListClass:class extends gp{addTrack(e){e.selected&&gm(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,gm(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){gm(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let e=0;e<this.length;e++)if(this[e].selected)return e;return -1},set(){}})}},TrackClass:gP,capitalName:"Video"},text:{ListClass:gg,TrackClass:gL,capitalName:"Text"}};Object.keys(gN).forEach(function(e){gN[e].getterName="".concat(e,"Tracks"),gN[e].privateName="".concat(e,"Tracks_")});let gM={remoteText:{ListClass:gg,TrackClass:gL,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class{addTrackElement_(e){let t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t}removeTrackElement_(e){for(let t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}},TrackClass:gD,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},gR=Object.assign({},gN,gM);gM.names=Object.keys(gM),gN.names=Object.keys(gN),gR.names=[].concat(gM.names).concat(gN.names);class gF extends m3{triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(mB(this,function(){let e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return m7(0,0)}bufferedPercent(){return gs(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(gN.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){(e=[].concat(e)).forEach(e=>{let t=this["".concat(e,"Tracks")]()||[],i=t.length;for(;i--;){let n=t[i];"text"===e&&this.removeRemoteTextTrack(n),t.removeTrack(n)}})}cleanupAutoTextTracks(){let e=this.autoRemoteTextTracks_||[],t=e.length;for(;t--;){let i=e[t];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return void 0!==e&&(this.error_=new ga(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?m7(0,0):m7()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){gN.names.forEach(e=>{let t=gN[e],i=()=>{this.trigger("".concat(e,"trackchange"))},n=this[t.getterName]();n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),this.on("dispose",()=>{n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!um.WebVTT){if(uM.body.contains(this.el())){if(!this.options_["vtt.js"]&&fb(ho)&&Object.keys(ho).length>0)return void this.trigger("vttjsloaded");let e=uM.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),um.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}}emulateTextTracks(){let e=this.textTracks(),t=this.remoteTextTracks(),i=t=>e.addTrack(t.track),n=t=>e.removeTrack(t.track);t.on("addtrack",i),t.on("removetrack",n),this.addWebVttScript_();let r=()=>this.trigger("texttrackchange"),s=()=>{r();for(let t=0;t<e.length;t++){let i=e[t];i.removeEventListener("cuechange",r),"showing"===i.mode&&i.addEventListener("cuechange",r)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){t.off("addtrack",i),t.off("removetrack",n),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(let t=0;t<e.length;t++)e[t].removeEventListener("cuechange",r)})}addTextTrack(e,t,i){if(!e)throw Error("TextTrack kind is required but was not provided");return function(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=e.textTracks();r.kind=t,i&&(r.label=i),n&&(r.language=n),r.tech=e;let a=new gR.text.TrackClass(r);return s.addTrack(a),a}(this,e,t,i)}createRemoteTextTrack(e){let t=fT(e,{tech:this});return new gM.remoteTextEl.TrackClass(t)}addRemoteTextTrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=this.createRemoteTextTrack(e);return"boolean"!=typeof t&&(t=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!1===t&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){let t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){let t=mx++;return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())})):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return gF.canPlayType(e.type)}static isTech(e){return e.prototype instanceof gF||e instanceof gF||e===gF}static registerTech(e,t){if(gF.techs_||(gF.techs_={}),!gF.isTech(t))throw Error("Tech ".concat(e," must be a Tech"));if(!gF.canPlayType)throw Error("Techs must have a static canPlayType method on them");if(!gF.canPlaySource)throw Error("Techs must have a static canPlaySource method on them");return e=m2(e),gF.techs_[e]=t,gF.techs_[m1(e)]=t,"Tech"!==e&&gF.defaultTechOrder_.push(e),t}static getTech(e){if(e)return gF.techs_&&gF.techs_[e]?gF.techs_[e]:(e=m2(e),um&&um.videojs&&um.videojs[e]?(fp.warn("The ".concat(e," tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)")),um.videojs[e]):void 0)}constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),gR.names.forEach(t=>{let i=gR[t];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(t=>{!1===e["native".concat(t,"Tracks")]&&(this["featuresNative".concat(t,"Tracks")]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==e.preloadTextTracks,this.autoRemoteTextTracks_=new gR.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}}gR.names.forEach(function(e){let t=gR[e];gF.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),gF.prototype.featuresVolumeControl=!0,gF.prototype.featuresMuteControl=!0,gF.prototype.featuresFullscreenResize=!1,gF.prototype.featuresPlaybackRate=!1,gF.prototype.featuresProgressEvents=!1,gF.prototype.featuresSourceset=!1,gF.prototype.featuresTimeupdateEvents=!1,gF.prototype.featuresNativeTextTracks=!1,gF.prototype.featuresVideoFrameCallback=!1,gF.withSourceHandlers=function(e){e.registerSourceHandler=function(t,i){let n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,t)},e.canPlayType=function(t){let i;let n=e.sourceHandlers||[];for(let e=0;e<n.length;e++)if(i=n[e].canPlayType(t))return i;return""},e.selectSourceHandler=function(t,i){let n=e.sourceHandlers||[];for(let e=0;e<n.length;e++)if(n[e].canHandleSource(t,i))return n[e];return null},e.canPlaySource=function(t,i){let n=e.selectSourceHandler(t,i);return n?n.canHandleSource(t,i):""},["seekable","seeking","duration"].forEach(function(e){let t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){let i=e.selectSourceHandler(t,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:fp.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},m3.registerComponent("Tech",gF),gF.registerTech("Tech",gF),gF.defaultTechOrder_=[];let gB={},gU={},gj={};function gq(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="call"+m2(i),s=e.reduce(gW(r),n),a=s===gj,o=a?null:t[i](s);return function(e,t,i,n){for(let r=e.length-1;r>=0;r--){let s=e[r];s[t]&&s[t](n,i)}}(e,i,o,a),o}let gH={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},gV={setCurrentTime:1,setMuted:1,setVolume:1},gz={play:1,pause:1};function gW(e){return(t,i)=>t===gj?gj:i[e]?i[e](t):t}let gG={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},gX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return gG[gC(e).toLowerCase()]||""},gK=function(e){if(Array.isArray(e)){let t=[];e.forEach(function(e){Array.isArray(e=gK(e))?t=t.concat(e):fv(e)&&t.push(e)}),e=t}else e="string"==typeof e&&e.trim()?[gY({src:e})]:fv(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[gY(e)]:[];return e};function gY(e){if(!e.type){let t=gX(e.src);t&&(e.type=t)}return e}let gQ=fq?10009:fH?461:8,g$={codes:{play:415,pause:19,ff:417,rw:412,back:gQ},names:{415:"play",19:"pause",417:"ff",412:"rw",[gQ]:"back"},isEventKey(e,t){return t=t.toLowerCase(),!(!this.names[e.keyCode]||this.names[e.keyCode]!==t)},getEventName(e){if(this.names[e.keyCode])return this.names[e.keyCode];if(this.codes[e.code]){let t=this.codes[e.code];return this.names[t]}return null}};class gJ extends mH{start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){let t=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){if(this.isPaused_)return;t.preventDefault();let e=t.key.substring(5).toLowerCase();this.move(e)}else if(g$.isEventKey(t,"play")||g$.isEventKey(t,"pause")||g$.isEventKey(t,"ff")||g$.isEventKey(t,"rw")){t.preventDefault();let e=g$.getEventName(t);this.performMediaAction_(e)}else g$.isEventKey(t,"Back")&&e.target&&"function"==typeof e.target.closeable&&e.target.closeable()&&(t.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+5);break;case"rw":this.userSeek_(this.player_.currentTime()-5)}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){let t=e.relatedTarget,i=null,n=this.getCurrentComponent(e.target);t&&(i=!!t.closest(".video-js"),t.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(e.currentTarget.contains(e.relatedTarget)||i)&&t||(n&&"CloseButton"===n.name()?this.refocusComponent():(this.pause(),n&&n.el()&&(this.lastFocusedComponent_=n)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){let e=this.player_,t=[];function i(e){for(let n of e)n.hasOwnProperty("el_")&&n.getIsFocusable()&&n.getIsAvailableToBeFocused(n.el())&&t.push(n),n.hasOwnProperty("children_")&&n.children_.length>0&&i(n.children_)}return e.children_.forEach(e=>{if(e.hasOwnProperty("el_")){if(e.getIsFocusable&&e.getIsAvailableToBeFocused&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el()))return void t.push(e);e.hasOwnProperty("children_")&&e.children_.length>0?i(e.children_):e.hasOwnProperty("items")&&e.items.length>0?i(e.items):this.findSuitableDOMChild(e)&&t.push(e)}if("ErrorDisplay"===e.name_&&e.opened_){let i=e.el_.querySelector(".vjs-errors-ok-button-container");i&&i.querySelectorAll("button").forEach((e,i)=>{t.push({name:()=>"ModalButton"+(i+1),el:()=>e,getPositions:()=>{let t=e.getBoundingClientRect();return{boundingClientRect:{x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left},center:{x:t.left+t.width/2,y:t.top+t.height/2,width:0,height:0,top:t.top+t.height/2,right:t.left+t.width/2,bottom:t.top+t.height/2,left:t.left+t.width/2}}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:e=>!0,focus:()=>e.focus()})})}}),this.focusableComponents=t,this.focusableComponents}findSuitableDOMChild(e){return e.el()?function t(i){if(e.getIsFocusable(i)&&e.getIsAvailableToBeFocused(i))return i;for(let e=0;e<i.children.length;e++){let n=t(i.children[e]);if(n)return n}return null}(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();let t=e||document.activeElement;if(this.focusableComponents.length){for(let e of this.focusableComponents)if(e.el()===t)return e}}add(e){let t=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&t.push(e),this.focusableComponents=t,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===e.name())return this.focusableComponents.splice(t,1),void this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){let t=this.getCurrentComponent();if(!t)return;let i=t.getPositions(),n=this.focusableComponents.filter(n=>n!==t&&this.isInDirection_(i.boundingClientRect,n.getPositions().boundingClientRect,e)),r=this.findBestCandidate_(i.center,n,e);r?this.focus(r):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:t})}findBestCandidate_(e,t,i){let n=1/0,r=null;for(let s of t){let t=s.getPositions().center,a=this.calculateDistance_(e,t,i);a<n&&(n=a,r=s)}return r}isInDirection_(e,t,i){switch(i){case"right":return t.left>=e.right;case"left":return t.right<=e.left;case"down":return t.top>=e.bottom;case"up":return t.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name())return void this.focus(this.focusableComponents[e])}else this.focus(this.updateFocusableComponents()[0])}focus(e){"object"==typeof e&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,t,i){let n;let r=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);switch(i){case"right":case"left":n=r+100*s;break;case"up":n=2*s+.5*r;break;case"down":n=5*s+r;break;default:n=r+s}return n}searchForTrackSelect_(){for(let e of this.updateFocusableComponents())if("TextTrackSelect"===e.constructor.name){this.focus(e);break}}constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}}m3.registerComponent("MediaLoader",class extends m3{constructor(e,t,i){if(super(e,fT({createEl:!1},t),i),t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(let i=0,n=t.playerOptions.techOrder;i<n.length;i++){let t=m2(n[i]),r=gF.getTech(t);if(t||(r=m3.getComponent(t)),r&&r.isSupported()){e.loadTech_(t);break}}}});class gZ extends m3{createEl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&fp.error("Creating a ClickableComponent with an HTML element of ".concat(e," is not supported; use a Button instead.")),i=Object.assign({role:"button"},i),this.tabIndex_=t.tabIndex;let n=f0(e,t,i);return this.player_.options_.experimentalSvgIcons||n.appendChild(f0("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=f0("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";let i=this.localize(e);this.controlText_=e,f1(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",i)}buildCSSClass(){return"vjs-control vjs-button ".concat(super.buildCSSClass())}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){" "===e.key||"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=e=>this.handleMouseOver(e),this.handleMouseOut_=e=>this.handleMouseOut(e),this.handleClick_=e=>this.handleClick(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.emitTapEvents(),this.enable()}}m3.registerComponent("ClickableComponent",gZ);class g0 extends gZ{dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return f0("div",{className:"vjs-poster"})}crossOrigin(e){if(void 0===e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.$("img")&&(this.$("img").crossOrigin=e):this.player_.log.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'))}update(e){let t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){e?(this.$("img")||this.el_.appendChild(f0("picture",{className:"vjs-poster",tabIndex:-1},{},f0("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?gl(this.player_.play()):this.player_.pause())}constructor(e,t){super(e,t),this.update(),this.update_=e=>this.update(e),e.on("posterchange",this.update_)}}g0.prototype.crossorigin=g0.prototype.crossOrigin,m3.registerComponent("PosterImage",g0);let g1="#222",g2="#ccc",g4={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function g5(e,t){let i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function g3(e,t,i){try{e.style[t]=i}catch(e){return}}function g8(e){return e?"".concat(e,"px"):""}m3.registerComponent("TextTrackDisplay",class extends m3{preselectTrack(){let e,t,i;let n={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage;for(let a=0;a<r.length;a++){let o=r[a];s&&s.enabled&&s.language&&s.language===o.language&&o.kind in n?o.kind===s.kind?i=o:i||(i=o):s&&!s.enabled?(i=null,e=null,t=null):o.default&&("descriptions"!==o.kind||e?o.kind in n&&!t&&(t=o):e=o)}i?i.mode="showing":t?t.mode="showing":e&&(e.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof um.WebVTT&&um.WebVTT.processCues(um,[],this.el_)}updateDisplay(){let e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){let t=[];for(let i=0;i<e.length;++i){let n=e[i];"showing"===n.mode&&t.push(n)}return void this.updateForTrack(t)}let i=null,n=null,r=e.length;for(;r--;){let t=e[r];"showing"===t.mode&&("descriptions"===t.kind?i=t:n=t)}if(n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):i&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i)),!um.CSS.supports("inset","10px")){let e=this.el_,t=e.querySelectorAll(".vjs-text-track-cue"),i=this.player_.controlBar.el_.getBoundingClientRect().height,n=this.player_.el_.getBoundingClientRect().height;e.style="",g3(e,"position","relative"),g3(e,"height",n-i+"px"),g3(e,"top","unset"),g3(e,"bottom",fV?n+"px":"0px"),t.length>0&&t.forEach(e=>{if(e.style.inset){let t=e.style.inset.split(" ");3===t.length&&Object.assign(e.style,{top:t[0],right:t[1],bottom:t[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!um.CSS.supports("inset-inline: 10px"))return;let e=this.player_.currentWidth(),t=this.player_.currentHeight(),i=e/t,n=this.player_.videoWidth()/this.player_.videoHeight(),r=0,s=0;Math.abs(i-n)>.1&&(i>n?r=Math.round((e-t*n)/2):s=Math.round((t-e/n)/2)),g3(this.el_,"insetInline",g8(r)),g3(this.el_,"insetBlock",g8(s))}updateDisplayState(e){let t=this.player_.textTrackSettings.getValues(),i=e.activeCues,n=i.length;for(;n--;){let e=i[n];if(!e)continue;let r=e.displayState;if(t.color&&(r.firstChild.style.color=t.color),t.textOpacity&&g3(r.firstChild,"color",g5(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&g3(r.firstChild,"backgroundColor",g5(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?g3(r,"backgroundColor",g5(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px ".concat(g1,", 2px 2px 4px ").concat(g1,", 2px 2px 5px ").concat(g1):"raised"===t.edgeStyle?r.firstChild.style.textShadow="1px 1px ".concat(g1,", 2px 2px ").concat(g1,", 3px 3px ").concat(g1):"depressed"===t.edgeStyle?r.firstChild.style.textShadow="1px 1px ".concat(g2,", 0 1px ").concat(g2,", -1px -1px ").concat(g1,", 0 -1px ").concat(g1):"uniform"===t.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px ".concat(g1,", 0 0 4px ").concat(g1,", 0 0 4px ").concat(g1,", 0 0 4px ").concat(g1))),t.fontPercent&&1!==t.fontPercent){let e=um.parseFloat(r.style.fontSize);r.style.fontSize=e*t.fontPercent+"px",r.style.height="auto",r.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=g4[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"!=typeof um.WebVTT||e.every(e=>!e.activeCues))return;let t=[];for(let i=0;i<e.length;++i){let n=e[i];for(let e=0;e<n.activeCues.length;++e)t.push(n.activeCues[e])}um.WebVTT.processCues(um,t,this.el_);for(let t=0;t<e.length;++t){let i=e[t];for(let e=0;e<i.activeCues.length;++e){let n=i.activeCues[e].displayState;f5(n,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:t)),i.language&&me(n,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}constructor(e,t,i){super(e,t,i);let n=e=>{this.updateDisplayOverlay(),this.updateDisplay(e)};e.on("loadstart",e=>this.toggleDisplay(e)),e.on("texttrackchange",e=>this.updateDisplay(e)),e.on("loadedmetadata",e=>{this.updateDisplayOverlay(),this.preselectTrack(e)}),e.ready(mB(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)return void this.hide();e.on("fullscreenchange",n),e.on("playerresize",n);let t=um.screen.orientation||um,i=um.screen.orientation?"change":"orientationchange";t.addEventListener(i,n),e.on("dispose",()=>t.removeEventListener(i,n));let r=this.options_.playerOptions.tracks||[];for(let e=0;e<r.length;e++)this.player_.addRemoteTextTrack(r[e],!0);this.preselectTrack()}))}}),m3.registerComponent("LoadingSpinner",class extends m3{createEl(){let e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),i=f0("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(i),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}});class g6 extends gZ{createEl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=f0("button",t=Object.assign({className:this.buildCSSClass()},t),i=Object.assign({type:"button"},i));return this.player_.options_.experimentalSvgIcons||n.appendChild(f0("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return fp.warn("Adding an actionable (user controllable) child to a Button (".concat(i,") is not supported; use a ClickableComponent instead.")),m3.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){" "!==e.key&&"Enter"!==e.key?super.handleKeyDown(e):e.stopPropagation()}}m3.registerComponent("Button",g6);class g7 extends g6{buildCSSClass(){return"vjs-big-play-button"}handleClick(e){let t=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e)return gl(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());let i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(!n)return void this.player_.tech(!0).focus();let r=()=>n.focus();go(t)?t.then(r,()=>{}):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",e=>this.handleMouseDown(e))}}g7.prototype.controlText_="Play Video",m3.registerComponent("BigPlayButton",g7),m3.registerComponent("CloseButton",class extends g6{buildCSSClass(){return"vjs-close-button ".concat(super.buildCSSClass())}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}});class g9 extends g6{buildCSSClass(){return"vjs-play-control ".concat(super.buildCSSClass())}handleClick(e){this.player_.paused()?gl(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",e=>this.handleSeeked(e))}constructor(e,t={}){super(e,t),t.replay=void 0===t.replay||t.replay,this.setIcon("play"),this.on(e,"play",e=>this.handlePlay(e)),this.on(e,"pause",e=>this.handlePause(e)),t.replay&&this.on(e,"ended",e=>this.handleEnded(e))}}g9.prototype.controlText_="Play",m3.registerComponent("PlayToggle",g9);class ye extends m3{createEl(){let e=this.buildCSSClass(),t=super.createEl("div",{className:"".concat(e," vjs-time-control vjs-control")}),i=f0("span",{className:"vjs-control-text",textContent:"".concat(this.localize(this.labelText_),"\xa0")},{role:"presentation"});return t.appendChild(i),this.contentEl_=f0("span",{className:"".concat(e,"-display")},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){(this.player_.options_.enableSmoothSeeking||"seeking"!==e.type)&&this.updateContent(e)}updateTextNode_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=gn(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let e=this.textNode_;e&&this.contentEl_.firstChild!==e&&(e=null,fp.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=uM.createTextNode(this.formattedTime_),this.textNode_&&(e?this.contentEl_.replaceChild(this.textNode_,e):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}constructor(e,t){super(e,t),this.on(e,["timeupdate","ended","seeking"],e=>this.update(e)),this.updateTextNode_()}}ye.prototype.labelText_="Time",ye.prototype.controlText_="Time",m3.registerComponent("TimeDisplay",ye);class yt extends ye{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}yt.prototype.labelText_="Current Time",yt.prototype.controlText_="Current Time",m3.registerComponent("CurrentTimeDisplay",yt);class yi extends ye{buildCSSClass(){return"vjs-duration"}updateContent(e){let t=this.player_.duration();this.updateTextNode_(t)}constructor(e,t){super(e,t);let i=e=>this.updateContent(e);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}}yi.prototype.labelText_="Duration",yi.prototype.controlText_="Duration",m3.registerComponent("DurationDisplay",yi),m3.registerComponent("TimeDivider",class extends m3{createEl(){let e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return t.appendChild(i),e.appendChild(t),e}});class yn extends ye{buildCSSClass(){return"vjs-remaining-time"}createEl(){let e=super.createEl();return!1!==this.options_.displayNegative&&e.insertBefore(f0("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){let t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))}constructor(e,t){super(e,t),this.on(e,"durationchange",e=>this.updateContent(e))}}yn.prototype.labelText_="Remaining Time",yn.prototype.controlText_="Remaining Time",m3.registerComponent("RemainingTimeDisplay",yn),m3.registerComponent("LiveDisplay",class extends m3{createEl(){let e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=f0("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(f0("span",{className:"vjs-control-text",textContent:"".concat(this.localize("Stream Type"),"\xa0")})),this.contentEl_.appendChild(uM.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",e=>this.updateShowing(e))}});class yr extends g6{createEl(){let e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=f0("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=e=>this.updateLiveEdgeStatus(e),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}}function ys(e,t,i){return Math.min(i,Math.max(t,isNaN(e=Number(e))?t:e))}yr.prototype.controlText_="Seek to live, currently playing live",m3.registerComponent("SeekToLive",yr);var ya=Object.freeze({__proto__:null,clamp:ys});class yo extends m3{enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;let e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,t,i)}handleMouseDown(e){let t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||fP||e.preventDefault(),mi(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){let t=this.bar.el_.ownerDocument;mn(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;let e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{let t=this.vertical()?"height":"width";this.bar.el().style[t]=(100*e).toFixed(2)+"%"})),e}getProgress(){return Number(ys(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){let t=ma(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){let t=this.options_.playerOptions.spatialNavigation,i=t&&t.enabled,n=t&&t.horizontalSeek;i?n&&"ArrowLeft"===e.key||!n&&"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):n&&"ArrowRight"===e.key||!n&&"ArrowUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):"ArrowUp"===e.key||"ArrowRight"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}constructor(e,t){super(e,t),this.handleMouseDown_=e=>this.handleMouseDown(e),this.handleMouseUp_=e=>this.handleMouseUp(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.handleClick_=e=>this.handleClick(e),this.handleMouseMove_=e=>this.handleMouseMove(e),this.update_=e=>this.update(e),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}}m3.registerComponent("Slider",yo);let yl=(e,t)=>ys(e/t*100,0,100).toFixed(2)+"%";m3.registerComponent("LoadProgressBar",class extends m3{createEl(){let e=super.createEl("div",{className:"vjs-load-progress"}),t=f0("span",{className:"vjs-control-text"}),i=f0("span",{textContent:this.localize("Loaded")}),n=uM.createTextNode(": ");return this.percentageEl_=f0("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(n),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{let e=this.player_.liveTracker,t=this.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,s=yl(n,i);this.percent_!==s&&(this.el_.style.width=s,f1(this.percentageEl_,s),this.percent_=s);for(let e=0;e<t.length;e++){let i=t.start(e),s=t.end(e),a=r[e];a||(a=this.el_.appendChild(f0()),r[e]=a),a.dataset.start===i&&a.dataset.end===s||(a.dataset.start=i,a.dataset.end=s,a.style.left=yl(i,n),a.style.width=yl(s-i,n))}for(let e=r.length;e>t.length;e--)this.el_.removeChild(r[e-1]);r.length=t.length})}constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",e=>this.update(e))}}),m3.registerComponent("TimeTooltip",class extends m3{createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,i){let n=ms(this.el_),r=mr(this.player_.el()),s=e.width*t;if(!r||!n)return;let a=e.left-r.left+s,o=e.width-s+(r.right-e.right);o||(o=e.width-s,a=s);let l=n.width/2;a<l?l+=l-a:o<l&&(l=o),l<0?l=0:l>n.width&&(l=n.width),l=Math.round(l),this.el_.style.right="-".concat(l,"px"),this.write(i)}write(e){f1(this.el_,e)}updateTime(e,t,i,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let r;let s=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){let e=this.player_.liveTracker.liveWindow(),i=e-t*e;r=(i<1?"":"-")+gn(i,e)}else r=gn(i,s);this.update(e,t,r),n&&n()})}constructor(e,t){super(e,t),this.update=mU(mB(this,this.update),30)}});class yc extends m3{createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){let i=this.getChild("timeTooltip");if(!i)return;let n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,n)}constructor(e,t){super(e,t),this.setIcon("circle"),this.update=mU(mB(this,this.update),30)}}yc.prototype.options_={children:[]},fG||fI||yc.prototype.options_.children.push("timeTooltip"),m3.registerComponent("PlayProgressBar",yc);class yu extends m3{createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){let i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,()=>{this.el_.style.left=e.width*t+"px"})}constructor(e,t){super(e,t),this.update=mU(mB(this,this.update),30)}}yu.prototype.options_={children:["timeTooltip"]},m3.registerComponent("MouseTimeDisplay",yu);class yh extends yo{setEventHandlers_(){this.update_=mB(this,this.update),this.update=mU(this.update_,30),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in uM&&"visibilityState"in uM&&this.on(uM,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){"hidden"===uM.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if("hidden"===uM.visibilityState)return;let t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{let e=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker,n=this.player_.duration();i&&i.isLive()&&(n=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.percent_=t),this.currentTime_===e&&this.duration_===n||(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[gn(e,n),gn(n,n)],"{1} of {2}")),this.currentTime_=e,this.duration_=n),this.bar&&this.bar.update(mr(this.el()),this.getProgress())}),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){let e;let t=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e}handleMouseDown(e){md(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e){let t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!md(e)||isNaN(this.player_.duration()))return;i||this.player_.scrubbing()||this.player_.scrubbing(!0);let n=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(n>=.99)return void r.seekToLiveEdge();let e=r.seekableStart(),i=r.liveCurrentTime();if((t=e+n*r.liveWindow())>=i&&(t=i),t<=e&&(t=e+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.userSeek_(t),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();let e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();let e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?gl(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+5)}stepBack(){this.userSeek_(this.player_.currentTime()-5)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){let t=this.player_.liveTracker;if(" "===e.key||"Enter"===e.key)e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if("Home"===e.key)e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if("End"===e.key)e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();let i=.1*parseInt(e.key,10);t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else"PageDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):"PageUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in uM&&"visibilityState"in uM&&this.off(uM,"visibilitychange",this.toggleVisibility_),super.dispose()}constructor(e,t){super(e,t),this.setEventHandlers_()}}yh.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},fG||fI||yh.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),m3.registerComponent("SeekBar",yh);class yd extends m3{createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){let t=this.getChild("seekBar");if(!t)return;let i=t.getChild("playProgressBar"),n=t.getChild("mouseTimeDisplay");if(!i&&!n)return;let r=t.el(),s=ms(r),a=ma(r,e).x;a=ys(a,0,1),n&&n.update(s,a),i&&i.update(s,t.getProgress())}handleMouseSeek(e){let t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){let e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&gl(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){let e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){let t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){let t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}constructor(e,t){super(e,t),this.handleMouseMove=mU(mB(this,this.handleMouseMove),30),this.throttledHandleMouseSeek=mU(mB(this,this.handleMouseSeek),30),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.handleMouseDownHandler_=e=>this.handleMouseDown(e),this.enable()}}yd.prototype.options_={children:["seekBar"]},m3.registerComponent("ProgressControl",yd);class yp extends g6{buildCSSClass(){return"vjs-picture-in-picture-control vjs-hidden ".concat(super.buildCSSClass())}handlePictureInPictureAudioModeChange(){"audio"===this.player_.currentType().substring(0,5)||this.player_.audioPosterMode()||this.player_.audioOnlyMode()?(this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()):this.show()}handlePictureInPictureEnabledChange(){uM.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in um?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){"function"==typeof uM.exitPictureInPicture&&super.show()}constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],e=>this.handlePictureInPictureChange(e)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],e=>this.handlePictureInPictureEnabledChange(e)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}}yp.prototype.controlText_="Picture-in-Picture",m3.registerComponent("PictureInPictureToggle",yp);class yf extends g6{buildCSSClass(){return"vjs-fullscreen-control ".concat(super.buildCSSClass())}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",e=>this.handleFullscreenChange(e)),!1===uM[e.fsApi_.fullscreenEnabled]&&this.disable()}}yf.prototype.controlText_="Fullscreen",m3.registerComponent("FullscreenToggle",yf),m3.registerComponent("VolumeLevel",class extends m3{createEl(){let e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}),m3.registerComponent("VolumeLevelTooltip",class extends m3{createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,i,n){if(!i){let i=mr(this.el_),n=mr(this.player_.el()),r=e.width*t;if(!n||!i)return;let s=e.left-n.left+r,a=e.width-r+(n.right-e.right),o=i.width/2;s<o?o+=o-s:a<o&&(o=a),o<0?o=0:o>i.width&&(o=i.width),this.el_.style.right="-".concat(o,"px")}this.write("".concat(n,"%"))}write(e){f1(this.el_,e)}updateVolume(e,t,i,n,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,t,i,n.toFixed(0)),r&&r()})}constructor(e,t){super(e,t),this.update=mU(mB(this,this.update),30)}});class ym extends m3{createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,i){this.getChild("volumeLevelTooltip").updateVolume(e,t,i,100*t,()=>{i?this.el_.style.bottom=e.height*t+"px":this.el_.style.left=e.width*t+"px"})}constructor(e,t){super(e,t),this.update=mU(mB(this,this.update),30)}}ym.prototype.options_={children:["volumeLevelTooltip"]},m3.registerComponent("MouseVolumeLevelDisplay",ym);class yg extends yo{createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){md(e)&&super.handleMouseDown(e)}handleMouseMove(e){let t=this.getChild("mouseVolumeLevelDisplay");if(t){let i=this.el(),n=mr(i),r=this.vertical(),s=ma(i,e);s=ys(s=r?s.y:s.x,0,1),t.update(n,s,r)}md(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){let t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){let e=this.player_.volume();this.one("sliderinactive",()=>{0===this.player_.volume()&&this.player_.lastVolume_(e)})}constructor(e,t){super(e,t),this.on("slideractive",e=>this.updateLastVolume_(e)),this.on(e,"volumechange",e=>this.updateARIAAttributes(e)),e.ready(()=>this.updateARIAAttributes())}}yg.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},fG||fI||yg.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),yg.prototype.playerEvent="volumechange",m3.registerComponent("VolumeBar",yg);class yy extends m3{createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:"vjs-volume-control vjs-control ".concat(e)})}handleMouseDown(e){let t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){let t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}constructor(e,t={}){var i;t.vertical=t.vertical||!1,(void 0===t.volumeBar||fb(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),i=this,e.tech_&&!e.tech_.featuresVolumeControl&&i.addClass("vjs-hidden"),i.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")}),this.throttledHandleMouseMove=mU(mB(this,this.handleMouseMove),30),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",e=>this.handleMouseDown(e)),this.on("touchstart",e=>this.handleMouseDown(e)),this.on("mousemove",e=>this.handleMouseMove(e)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}}yy.prototype.options_={children:["volumeBar"]},m3.registerComponent("VolumeControl",yy);class y_ extends g6{buildCSSClass(){return"vjs-mute-control ".concat(super.buildCSSClass())}handleClick(e){let t=this.player_.volume(),i=this.player_.lastVolume_();0===t?(this.player_.volume(i<.1?.1:i),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){let e=this.player_.volume(),t=3;this.setIcon("volume-high"),fG&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),f3(this.el_,[0,1,2,3].reduce((e,t)=>e+"".concat(t?" ":"","vjs-vol-").concat(t),"")),f5(this.el_,"vjs-vol-".concat(t))}updateControlText_(){let e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}constructor(e,t){var i;super(e,t),i=this,e.tech_&&!e.tech_.featuresMuteControl&&i.addClass("vjs-hidden"),i.on(e,"loadstart",function(){e.tech_.featuresMuteControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")}),this.on(e,["loadstart","volumechange"],e=>this.update(e))}}y_.prototype.controlText_="Mute",m3.registerComponent("MuteToggle",y_);class yv extends m3{sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:"vjs-volume-panel vjs-control ".concat(e)})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){"Escape"===e.key&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),mP(uM,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),mD(uM,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){"Escape"===e.key&&this.handleMouseOut()}constructor(e,t={}){void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||fb(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=e=>this.handleKeyPress(e),this.on(e,["loadstart"],e=>this.volumePanelState_(e)),this.on(this.muteToggle,"keyup",e=>this.handleKeyPress(e)),this.on(this.volumeControl,"keyup",e=>this.handleVolumeControlKeyUp(e)),this.on("keydown",e=>this.handleKeyPress(e)),this.on("mouseover",e=>this.handleMouseOver(e)),this.on("mouseout",e=>this.handleMouseOut(e)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}}yv.prototype.options_={children:["muteToggle","volumeControl"]},m3.registerComponent("VolumePanel",yv);class yb extends g6{getSkipForwardTime(){let e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return"vjs-skip-forward-".concat(this.getSkipForwardTime()," ").concat(super.buildCSSClass())}handleClick(e){let t;if(isNaN(this.player_.duration()))return;let i=this.player_.currentTime(),n=this.player_.liveTracker,r=n&&n.isLive()?n.seekableEnd():this.player_.duration();t=i+this.skipTime<=r?i+this.skipTime:r,this.player_.currentTime(t)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("forward-".concat(this.skipTime)),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}}yb.prototype.controlText_="Skip Forward",m3.registerComponent("SkipForward",yb);class yT extends g6{getSkipBackwardTime(){let e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return"vjs-skip-backward-".concat(this.getSkipBackwardTime()," ").concat(super.buildCSSClass())}handleClick(e){let t;let i=this.player_.currentTime(),n=this.player_.liveTracker,r=n&&n.isLive()&&n.seekableStart();t=r&&i-this.skipTime<=r?r:i>=this.skipTime?i-this.skipTime:0,this.player_.currentTime(t)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("replay-".concat(this.skipTime)),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}}yT.prototype.controlText_="Skip Backward",m3.registerComponent("SkipBackward",yT);class yS extends m3{addEventListenerForItem(e){e instanceof m3&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof m3&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){let t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){let e=this.options_.contentElType||"ul";this.contentEl_=f0(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");let t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),mP(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){let t=e.relatedTarget||uM.activeElement;if(!this.children().some(e=>e.el()===t)){let e=this.menuButton_;e&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();let t=this.children();if(!Array.isArray(t))return;let i=t.filter(t=>t.el()===e.target)[0];i&&"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}}handleKeyDown(e){"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}focus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",e=>this.handleKeyDown(e)),this.boundHandleBlur_=e=>this.handleBlur(e),this.boundHandleTapClick_=e=>this.handleTapClick(e)}}m3.registerComponent("Menu",yS);class yw extends m3{update(){let e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){let e=new yS(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){let t=f0("li",{className:"vjs-menu-title",textContent:m2(this.options_.title),tabIndex:-1}),i=new m3(this.player_,{el:t});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button ".concat(e," ").concat(g6.prototype.buildCSSClass()," ").concat(super.buildCSSClass())}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button ".concat(e," ").concat(super.buildCSSClass())}controlText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),mD(uM,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){"Esc"===e.key||"Tab"===e.key?(this.buttonPressed_&&this.unpressButton(),e.key):"Up"!==e.key&&("Down"!==e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)||this.buttonPressed_||(e.preventDefault(),this.pressButton())}handleMenuKeyUp(e){"Esc"!==e.key&&"Tab"!==e.key||this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){"Esc"!==e.key&&"Tab"!==e.key||(this.buttonPressed_&&this.unpressButton(),e.key)}pressButton(){this.enabled_&&(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),fG&&fJ()||this.menu.focus())}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}constructor(e,t={}){super(e,t),this.menuButton_=new g6(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");let i=g6.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;let n=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",e=>this.handleKeyDown(e)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),mP(uM,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",e=>this.handleMouseLeave(e)),this.on("keydown",e=>this.handleSubmenuKeyDown(e))}}m3.registerComponent("MenuButton",yw);class yE extends yw{constructor(e,t){let i=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!i)return;let n=mB(this,this.update);i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),i.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n),i.removeEventListener("labelchange",n)})}}m3.registerComponent("TrackButton",yE);class yC extends gZ{createEl(e,t,i){this.nonIconControl=!0;let n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),i),r=f0("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(r):n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}}m3.registerComponent("MenuItem",yC);class yk extends yC{handleClick(e){let t=this.track,i=this.player_.textTracks();if(super.handleClick(e),i)for(let e=0;e<i.length;e++){let n=i[e];-1!==this.kinds.indexOf(n.kind)&&(n===t?"showing"!==n.mode&&(n.mode="showing"):"disabled"!==n.mode&&(n.mode="disabled"))}}handleTracksChange(e){let t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if("showing"===this.track.mode){let e=this.player_.cache_.selectedLanguage;e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind})}}dispose(){this.track=null,super.dispose()}constructor(e,t){var i;let n=t.track,r=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode,super(e,t),i=this,this.track=n,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);let s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(i,t)},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(i,t)};if(e.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",a)}),void 0===r.onchange){let e;this.on(["tap","click"],function(){if("object"!=typeof um.Event)try{e=new um.Event("change")}catch(e){}e||(e=uM.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(e)})}this.handleTracksChange()}}m3.registerComponent("TextTrackMenuItem",yk);class yx extends yk{handleTracksChange(e){let t=this.player().textTracks(),i=!0;for(let e=0,n=t.length;e<n;e++){let n=t[e];if(this.options_.kinds.indexOf(n.kind)>-1&&"showing"===n.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){let t=this.player().textTracks(),i=!0;for(let e=0,n=t.length;e<n;e++){let n=t[e];if(["captions","descriptions","subtitles"].indexOf(n.kind)>-1&&"showing"===n.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}}m3.registerComponent("OffTextTrackMenuItem",yx);class yI extends yE{createItems(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yk;this.label_&&(e="".concat(this.label_," off")),t.push(new yx(this.player_,{kinds:this.kinds_,kind:this.kind_,label:e})),this.hideThreshold_+=1;let n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let e=0;e<n.length;e++){let r=n[e];if(this.kinds_.indexOf(r.kind)>-1){let e=new i(this.player_,{track:r,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});e.addClass("vjs-".concat(r.kind,"-menu-item")),t.push(e)}}return t}constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}}m3.registerComponent("TextTrackButton",yI);class yA extends yC{handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}constructor(e,t){let i=t.track,n=t.cue,r=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=n.text,t.selected=n.startTime<=r&&r<n.endTime,super(e,t),this.track=i,this.cue=n}}m3.registerComponent("ChaptersTrackMenuItem",yA);class yL extends yI{buildCSSClass(){return"vjs-chapters-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-chapters-button ".concat(super.buildWrapperCSSClass())}update(e){if(e&&e.track&&"chapters"!==e.track.kind)return;let t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){let e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";let e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){let e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){let i=e[t];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(m2(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){let e=[];if(!this.track_)return e;let t=this.track_.cues;if(!t)return e;for(let i=0,n=t.length;i<n;i++){let n=t[i],r=new yA(this.player_,{track:this.track_,cue:n});e.push(r)}return e}constructor(e,t,i){super(e,t,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(e=>{e.selected(this.track_.activeCues[0]===e.cue)})}}}yL.prototype.kind_="chapters",yL.prototype.controlText_="Chapters",m3.registerComponent("ChaptersButton",yL);class yO extends yI{handleTracksChange(e){let t=this.player().textTracks(),i=!1;for(let e=0,n=t.length;e<n;e++){let n=t[e];if(n.kind!==this.kind_&&"showing"===n.mode){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return"vjs-descriptions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-descriptions-button ".concat(super.buildWrapperCSSClass())}constructor(e,t,i){super(e,t,i),this.setIcon("audio-description");let n=e.textTracks(),r=mB(this,this.handleTracksChange);n.addEventListener("change",r),this.on("dispose",function(){n.removeEventListener("change",r)})}}yO.prototype.kind_="descriptions",yO.prototype.controlText_="Descriptions",m3.registerComponent("DescriptionsButton",yO);class yP extends yI{buildCSSClass(){return"vjs-subtitles-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subtitles-button ".concat(super.buildWrapperCSSClass())}constructor(e,t,i){super(e,t,i),this.setIcon("subtitles")}}yP.prototype.kind_="subtitles",yP.prototype.controlText_="Subtitles",m3.registerComponent("SubtitlesButton",yP);class yD extends yk{handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}}m3.registerComponent("CaptionSettingsMenuItem",yD);class yN extends yI{buildCSSClass(){return"vjs-captions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-captions-button ".concat(super.buildWrapperCSSClass())}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new yD(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}constructor(e,t,i){super(e,t,i),this.setIcon("captions")}}yN.prototype.kind_="captions",yN.prototype.controlText_="Captions",m3.registerComponent("CaptionsButton",yN);class yM extends yk{createEl(e,t,i){let n=super.createEl(e,t,i),r=n.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):r.appendChild(f0("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(f0("span",{className:"vjs-control-text",textContent:" ".concat(this.localize("Captions"))}))),n}}m3.registerComponent("SubsCapsMenuItem",yM);class yR extends yI{buildCSSClass(){return"vjs-subs-caps-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subs-caps-button ".concat(super.buildWrapperCSSClass())}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new yD(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,yM)}constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(m2(this.label_))}}yR.prototype.kinds_=["captions","subtitles"],yR.prototype.controlText_="Subtitles",m3.registerComponent("SubsCapsButton",yR);class yF extends yC{createEl(e,t,i){let n=super.createEl(e,t,i),r=n.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(f0("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(f0("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){let e=this.player_.audioTracks();for(let t=0;t<e.length;t++){let i=e[t];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}constructor(e,t){var i;let n=t.track,r=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled,super(e,t),i=this,this.track=n,this.addClass("vjs-".concat(n.kind,"-menu-item"));let s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(i,t)};r.addEventListener("change",s),this.on("dispose",()=>{r.removeEventListener("change",s)})}}m3.registerComponent("AudioTrackMenuItem",yF);class yB extends yE{buildCSSClass(){return"vjs-audio-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-audio-button ".concat(super.buildWrapperCSSClass())}createItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;let t=this.player_.audioTracks();for(let i=0;i<t.length;i++){let n=t[i];e.push(new yF(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}}yB.prototype.controlText_="Audio Track",m3.registerComponent("AudioTrackButton",yB);class yU extends yC{handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}constructor(e,t){let i=t.rate,n=parseFloat(i,10);t.label=i,t.selected=n===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=i,this.rate=n,this.on(e,"ratechange",e=>this.update(e))}}yU.prototype.contentElType="button",m3.registerComponent("PlaybackRateMenuItem",yU);class yj extends yw{createEl(){let e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=f0("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return"vjs-playback-rate ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-playback-rate ".concat(super.buildWrapperCSSClass())}createItems(){let e=this.playbackRates(),t=[];for(let i=e.length-1;i>=0;i--)t.push(new yU(this.player(),{rate:e[i]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){let e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",e=>this.updateVisibility(e)),this.on(e,"ratechange",e=>this.updateLabel(e)),this.on(e,"playbackrateschange",e=>this.handlePlaybackRateschange(e))}}yj.prototype.controlText_="Playback Rate",m3.registerComponent("PlaybackRateMenuButton",yj);class yq extends m3{buildCSSClass(){return"vjs-spacer ".concat(super.buildCSSClass())}createEl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,i)}}m3.registerComponent("Spacer",yq),m3.registerComponent("CustomControlSpacer",class extends yq{buildCSSClass(){return"vjs-custom-control-spacer ".concat(super.buildCSSClass())}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:"\xa0"})}});class yH extends m3{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}yH.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},m3.registerComponent("ControlBar",yH);class yV extends gd{buildCSSClass(){return"vjs-error-display ".concat(super.buildCSSClass())}content(){let e=this.player().error();return e?this.localize(e.message):""}constructor(e,t){super(e,t),this.on(e,"error",e=>{this.open(e)})}}yV.prototype.options_=Object.assign({},gd.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),m3.registerComponent("ErrorDisplay",yV);class yz extends m3{createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),f0("select",{id:this.options_.id},{},this.options_.SelectOptions.map(e=>{let t=(this.options_.labelId?this.options_.labelId:"vjs-track-option-".concat(mx++))+"-"+e[1].replace(/\W+/g,""),i=f0("option",{id:t,value:this.localize(e[0]),textContent:e[1]});return i.setAttribute("aria-labelledby","".concat(this.selectLabelledbyIds," ").concat(t)),i}))}constructor(e,t={}){super(e,t),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}}m3.registerComponent("TextTrackSelect",yz);class yW extends m3{createEl(){return f0("fieldset",{className:this.options_.className})}constructor(e,t={}){super(e,t);let i=f0("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});for(let t of(this.el().appendChild(i),this.options_.selects)){let i=this.options_.selectConfigs[t],n=i.className,r=i.id.replace("%s",this.options_.id_),s=null,a="vjs_select_".concat(mx++);if("colors"===this.options_.type){s=f0("span",{className:n});let e=f0("label",{id:r,className:"vjs-label",textContent:i.label});e.setAttribute("for",a),s.appendChild(e)}let o=new yz(e,{SelectOptions:i.options,legendId:this.options_.legendId,id:a,labelId:r});this.addChild(o),"colors"===this.options_.type&&(s.appendChild(o.el()),this.el().appendChild(s))}}}m3.registerComponent("TextTrackFieldset",yW);class yG extends m3{createEl(){return f0("div",{className:"vjs-track-settings-colors"})}constructor(e,t={}){super(e,t);let i=this.options_.textTrackComponentid,n=new yW(e,{id_:i,legendId:"captions-text-legend-".concat(i),legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(n);let r=new yW(e,{id_:i,legendId:"captions-background-".concat(i),legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);let s=new yW(e,{id_:i,legendId:"captions-window-".concat(i),legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s)}}m3.registerComponent("TextTrackSettingsColors",yG);class yX extends m3{createEl(){return f0("div",{className:"vjs-track-settings-font"})}constructor(e,t={}){super(e,t);let i=this.options_.textTrackComponentid,n=new yW(e,{id_:i,legendId:"captions-font-size-".concat(i),legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(n);let r=new yW(e,{id_:i,legendId:"captions-edge-style-".concat(i),legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);let s=new yW(e,{id_:i,legendId:"captions-font-family-".concat(i),legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s)}}m3.registerComponent("TextTrackSettingsFont",yX);class yK extends m3{createEl(){return f0("div",{className:"vjs-track-settings-controls"})}constructor(e,t={}){super(e,t);let i=this.localize("restore all settings to the default values"),n=new g6(e,{controlText:i,className:"vjs-default-button"});n.el().classList.remove("vjs-control","vjs-button"),n.el().textContent=this.localize("Reset"),this.addChild(n);let r=new g6(e,{controlText:i,className:"vjs-done-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Done"),this.addChild(r)}}m3.registerComponent("TrackSettingsControls",yK);let yY="vjs-text-track-settings",yQ=["#000","Black"],y$=["#00F","Blue"],yJ=["#0FF","Cyan"],yZ=["#0F0","Green"],y0=["#F0F","Magenta"],y1=["#F00","Red"],y2=["#FFF","White"],y4=["#FF0","Yellow"],y5=["1","Opaque"],y3=["0.5","Semi-Transparent"],y8=["0","Transparent"],y6={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[yQ,y2,y1,yZ,y$,y4,y0,yJ],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[y5,y3,y8],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[y2,yQ,y1,yZ,y$,y4,y0,yJ],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[y5,y3],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[y8,y3,y5],className:"vjs-window-opacity vjs-opacity"}};function y7(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}y6.windowColor.options=y6.backgroundColor.options,m3.registerComponent("TextTrackSettings",class extends gd{renderModalComponents(e){let t=new yG(e,{textTrackComponentid:this.id_,selectConfigs:y6,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(t);let i=new yX(e,{textTrackComponentid:this.id_,selectConfigs:y6,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(i);let n=new yK(e);this.addChild(n)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),fy(y6,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return f_(y6,(e,t,i)=>{var n,r;let s=(n=this.$(t.selector),r=t.parser,y7(n.options[n.options.selectedIndex].value,r));return void 0!==s&&(e[i]=s),e},{})}setValues(e){fy(y6,(t,i)=>{!function(e,t,i){if(t){for(let n=0;n<e.options.length;n++)if(y7(e.options[n].value,i)===t){e.selectedIndex=n;break}}}(this.$(t.selector),e[i],t.parser)})}setDefaults(){fy(y6,e=>{let t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t})}restoreSettings(){let e;try{e=JSON.parse(um.localStorage.getItem(yY))}catch(e){fp.warn(e)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;let e=this.getValues();try{Object.keys(e).length?um.localStorage.setItem(yY,JSON.stringify(e)):um.localStorage.removeItem(yY)}catch(e){fp.warn(e)}}updateDisplay(){let e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=f0("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===t.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}}),m3.registerComponent("ResizeManager",class extends m3{createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}constructor(e,t){let i=t.ResizeObserver||um.ResizeObserver;null===t.ResizeObserver&&(i=!1),super(e,fT({createEl:!i,reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||um.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=mj(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;let e=this.debouncedHandler_,t=this.unloadListener_=function(){mD(this,"resize",e),mD(this,"unload",t),t=null};mP(this.el_.contentWindow,"unload",t),mP(this.el_.contentWindow,"resize",e)},this.one("load",this.loadListener_))}});let y9={trackingThreshold:20,liveTolerance:15};m3.registerComponent("LiveTracker",class extends m3{trackLive_(){let e=this.player_.seekable();if(!e||!e.length)return;let t=Number(um.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+i;let n=this.liveCurrentTime(),r=this.player_.currentTime(),s=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-r)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){let e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){let e=this.player_.seekable(),t=[],i=e?e.length:0;for(;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){let e=this.player_.seekable(),t=[],i=e?e.length:0;for(;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0}liveWindow(){let e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){let e=this.seekableEnd();return -1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}constructor(e,t){super(e,fT(y9,t,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=e=>this.handlePlay(e),this.handleFirstTimeupdate_=e=>this.handleFirstTimeupdate(e),this.handleSeeked_=e=>this.handleSeeked(e),this.seekToLiveEdge_=e=>this.seekToLiveEdge(e),this.reset_(),this.on(this.player_,"durationchange",e=>this.handleDurationchange(e)),this.on(this.player_,"canplay",()=>this.toggleTracking())}}),m3.registerComponent("TitleBar",class extends m3{createEl(){return this.els={title:f0("div",{className:"vjs-title-bar-title",id:"vjs-title-bar-title-".concat(mx++)}),description:f0("div",{className:"vjs-title-bar-description",id:"vjs-title-bar-description-".concat(mx++)})},f0("div",{className:"vjs-title-bar"},{},fS(this.els))}updateDom_(){let e=this.player_.tech_,t=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(e=>{let n=this.state[e],r=this.els[e],s=i[e];ml(r),n&&f1(r,n),t&&(t.removeAttribute(s),n&&t.setAttribute(s,r.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){let e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}constructor(e,t){super(e,t),this.on("statechanged",e=>this.updateDom_()),this.updateDom_()}});let _e={initialDisplay:4e3,position:[],takeFocus:!1};m3.registerComponent("TransientButton",class extends g6{buildCSSClass(){return"vjs-transient-button focus-visible ".concat(this.options_.position.map(e=>"vjs-".concat(e)).join(" "))}createEl(){let e=f0("button",{},{type:"button",class:this.buildCSSClass()},f0("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}constructor(e,t){super(e,t=fT(_e,t)),this.controlText(t.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],e=>{this.removeClass("force-display")})}});let _t=e=>{let t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;let i=e.$$("source"),n=[],r="";if(!i.length)return!1;for(let e=0;e<i.length;e++){let t=i[e].src;t&&-1===n.indexOf(t)&&n.push(t)}return!!n.length&&(1===n.length&&(r=n[0]),e.triggerSourceset(r),!0)},_i=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){let t=uM.createElement(this.nodeName.toLowerCase());t.innerHTML=e;let i=uM.createDocumentFragment();for(;t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",um.Element.prototype.appendChild.call(this,i),this.innerHTML}}),_n=(e,t)=>{let i={};for(let n=0;n<e.length&&!((i=Object.getOwnPropertyDescriptor(e[n],t))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i},_r=function(e){let t=e.el();if(t.resetSourceWatch_)return;let i={},n=_n([e.el(),um.HTMLMediaElement.prototype,um.Element.prototype,_i],"innerHTML"),r=i=>function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];let a=i.apply(t,r);return _t(e),a};["append","appendChild","insertAdjacentHTML"].forEach(e=>{t[e]&&(i[e]=t[e],t[e]=r(i[e]))}),Object.defineProperty(t,"innerHTML",fT(n,{set:r(n.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(i).forEach(e=>{t[e]=i[e]}),Object.defineProperty(t,"innerHTML",n)},e.one("sourceset",t.resetSourceWatch_)},_s=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?gE(um.Element.prototype.getAttribute.call(this,"src")):""},set(e){return um.Element.prototype.setAttribute.call(this,"src",e),e}}),_a=function(e){if(!e.featuresSourceset)return;let t=e.el();if(t.resetSourceset_)return;let i=_n([e.el(),um.HTMLMediaElement.prototype,_s],"src"),n=t.setAttribute,r=t.load;Object.defineProperty(t,"src",fT(i,{set:n=>{let r=i.set.call(t,n);return e.triggerSourceset(t.src),r}})),t.setAttribute=(i,r)=>{let s=n.call(t,i,r);return/src/i.test(i)&&e.triggerSourceset(t.src),s},t.load=()=>{let i=r.call(t);return _t(e)||(e.triggerSourceset(""),_r(e)),i},t.currentSrc?e.triggerSourceset(t.currentSrc):_t(e)||_r(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=r,t.setAttribute=n,Object.defineProperty(t,"src",i),t.resetSourceWatch_&&t.resetSourceWatch_()}};class _o extends gF{dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),_o.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){_a(this)}restoreMetadataTracksInIOSNativePlayer_(){let e;let t=this.textTracks(),i=()=>{e=[];for(let i=0;i<t.length;i++){let n=t[i];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};i(),t.addEventListener("change",i),this.on("dispose",()=>t.removeEventListener("change",i));let n=()=>{for(let t=0;t<e.length;t++){let i=e[t];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",()=>{t.removeEventListener("change",i),t.removeEventListener("change",n),t.addEventListener("change",n)}),this.on("webkitendfullscreen",()=>{t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",n)})}overrideNative_(e,t){if(t!==this["featuresNative".concat(e,"Tracks")])return;let i=e.toLowerCase();this["".concat(i,"TracksListeners_")]&&Object.keys(this["".concat(i,"TracksListeners_")]).forEach(e=>{this.el()["".concat(i,"Tracks")].removeEventListener(e,this["".concat(i,"TracksListeners_")][e])}),this["featuresNative".concat(e,"Tracks")]=!t,this["".concat(i,"TracksListeners_")]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){let t=gN[e],i=this.el()[t.getterName],n=this[t.getterName]();if(!this["featuresNative".concat(t.capitalName,"Tracks")]||!i||!i.addEventListener)return;let r={change:t=>{let i={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(i),"text"===e&&this[gM.remoteText.getterName]().trigger(i)},addtrack(e){n.addTrack(e.track)},removetrack(e){n.removeTrack(e.track)}},s=function(){let e=[];for(let t=0;t<n.length;t++){let r=!1;for(let e=0;e<i.length;e++)if(i[e]===n[t]){r=!0;break}r||e.push(n[t])}for(;e.length;)n.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=r,Object.keys(r).forEach(e=>{let t=r[e];i.addEventListener(e,t),this.on("dispose",n=>i.removeEventListener(e,t))}),this.on("loadstart",s),this.on("dispose",e=>this.off("loadstart",s))}proxyNativeTracks_(){gN.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){let t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),_o.disposeMediaElement(e),e=t}else{e=uM.createElement("video");let t=fT({},this.options_.tag&&f7(this.options_.tag));fz&&!0===this.options_.nativeControlsForTouch||delete t.controls,f6(e,Object.assign(t,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&me(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);let t=["loop","muted","playsinline","autoplay"];for(let i=0;i<t.length;i++){let n=t[i],r=this.options_[n];void 0!==r&&(r?me(e,n,n):mt(e,n),e[n]=r)}return e}handleLateInit_(e){if(0===e.networkState||3===e.networkState)return;if(0===e.readyState){let e=!1,t=function(){e=!0};this.on("loadstart",t);let i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",t),this.off("loadedmetadata",i),e||this.trigger("loadstart")})}let t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready(function(){t.forEach(function(e){this.trigger(e)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&fX?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){fp(e,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&fI&&fP&&0===this.el_.currentTime){let e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;let e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){let e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)gl(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(void 0===e)return this.el_.src;this.setSrc(e)}addSourceElement(e,t){if(!e)return fp.error("Invalid source URL."),!1;let i={src:e};t&&(i.type=t);let n=f0("source",{},i);return this.el_.appendChild(n),!0}removeSourceElement(e){if(!e)return fp.error("Source URL is required to remove the source element."),!1;for(let t of this.el_.querySelectorAll("source"))if(t.src===e)return this.el_.removeChild(t),!0;return fp.warn("No matching source element found with src: ".concat(e)),!1}reset(){_o.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):super.addTextTrack(e,t,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);let t=uM.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){let i=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){let t=this.$$("track"),i=t.length;for(;i--;)e!==t[i]&&e!==t[i].track||this.el().removeChild(t[i])}}getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();let e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),um.performance&&(e.creationTime=um.performance.now()),e}constructor(e,t){super(e,t);let i=e.source,n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,i&&(this.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){let e=this.el_.childNodes,t=e.length,i=[];for(;t--;){let r=e[t];"track"===r.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),this.textTracks().addTrack(r.track),n||this.el_.hasAttribute("crossorigin")||!gk(r.src)||(n=!0)):i.push(r))}for(let e=0;e<i.length;e++)this.el_.removeChild(i[e])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&fp.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(fz||fj)&&!0===e.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}}fw(_o,"TEST_VID",function(){if(!fQ())return;let e=uM.createElement("video"),t=uM.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}),_o.isSupported=function(){try{_o.TEST_VID.volume=.5}catch(e){return!1}return!(!_o.TEST_VID||!_o.TEST_VID.canPlayType)},_o.canPlayType=function(e){return _o.TEST_VID.canPlayType(e)},_o.canPlaySource=function(e,t){return _o.canPlayType(e.type)},_o.canControlVolume=function(){try{let e=_o.TEST_VID.volume;_o.TEST_VID.volume=e/2+.1;let t=e!==_o.TEST_VID.volume;return t&&fG?(um.setTimeout(()=>{_o&&_o.prototype&&(_o.prototype.featuresVolumeControl=e!==_o.TEST_VID.volume)}),!1):t}catch(e){return!1}},_o.canMuteVolume=function(){try{let e=_o.TEST_VID.muted;return _o.TEST_VID.muted=!e,_o.TEST_VID.muted?me(_o.TEST_VID,"muted","muted"):mt(_o.TEST_VID,"muted"),e!==_o.TEST_VID.muted}catch(e){return!1}},_o.canControlPlaybackRate=function(){if(fI&&fP&&fN<58)return!1;try{let e=_o.TEST_VID.playbackRate;return _o.TEST_VID.playbackRate=e/2+.1,e!==_o.TEST_VID.playbackRate}catch(e){return!1}},_o.canOverrideAttributes=function(){try{let e=()=>{};Object.defineProperty(uM.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(uM.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(uM.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(uM.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},_o.supportsNativeTextTracks=function(){return fX||fG&&fP},_o.supportsNativeVideoTracks=function(){return!(!_o.TEST_VID||!_o.TEST_VID.videoTracks)},_o.supportsNativeAudioTracks=function(){return!(!_o.TEST_VID||!_o.TEST_VID.audioTracks)},_o.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){let[t,i]=e;fw(_o.prototype,t,()=>_o[i](),!0)}),_o.prototype.featuresVolumeControl=_o.canControlVolume(),_o.prototype.movingMediaElementInDOM=!fG,_o.prototype.featuresFullscreenResize=!0,_o.prototype.featuresProgressEvents=!0,_o.prototype.featuresTimeupdateEvents=!0,_o.prototype.featuresVideoFrameCallback=!(!_o.TEST_VID||!_o.TEST_VID.requestVideoFrameCallback),_o.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},_o.resetMediaElement=function(e){if(!e)return;let t=e.querySelectorAll("source"),i=t.length;for(;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){_o.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){_o.prototype["set"+m2(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){_o.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(e){_o.prototype["set"+m2(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){_o.prototype[e]=function(){return this.el_[e]()}}),gF.withSourceHandlers(_o),_o.nativeSourceHandler={},_o.nativeSourceHandler.canPlayType=function(e){try{return _o.TEST_VID.canPlayType(e)}catch(e){return""}},_o.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return _o.nativeSourceHandler.canPlayType(e.type);if(e.src){let t=gC(e.src);return _o.nativeSourceHandler.canPlayType("video/".concat(t))}return""},_o.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},_o.nativeSourceHandler.dispose=function(){},_o.registerSourceHandler(_o.nativeSourceHandler),gF.registerTech("Html5",_o);let _l=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],_c={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},_u=["tiny","xsmall","small","medium","large","xlarge","huge"],_h={};_u.forEach(e=>{let t="x"===e.charAt(0)?"x-".concat(e.substring(1)):e;_h[e]="vjs-layout-".concat(t)});let _d={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class _p extends m3{dispose(){this.trigger("dispose"),this.off("dispose"),mD(uM,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),mD(uM,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),_p.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),gU.hasOwnProperty(this.id())&&delete gU[this.id()],gR.names.forEach(e=>{let t=this[gR[e].getterName]();t&&t.off&&t.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e,t=this.tag,i=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),n="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=t.parentNode:n||(e=this.el_=super.createEl("div"));let r=f7(t);if(n){for(e=this.el_=t,t=this.tag=uM.createElement("video");e.children.length;)t.appendChild(e.firstChild);f4(e,"video-js")||f5(e,"video-js"),e.appendChild(t),i=this.playerElIngest_=e,Object.keys(e).forEach(i=>{try{t[i]=e[i]}catch(e){}})}t.setAttribute("tabindex","-1"),r.tabindex="-1",fP&&fB&&(t.setAttribute("role","application"),r.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(i){n&&"class"===i||e.setAttribute(i,r[i]),n&&t.setAttribute(i,r[i])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused");let s=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(e=>fK[e]).map(e=>"vjs-device-"+e.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...s),!0!==um.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=mw("vjs-styles-dimensions");let e=mp(".vjs-styles-defaults"),t=mp("head");t.insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);let a=t.getElementsByTagName("a");for(let e=0;e<a.length;e++){let t=a.item(e);f5(t,"vjs-hidden"),t.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!i&&t.parentNode.insertBefore(e,t),f2(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e}crossOrigin(e){if(void 0===e)return this.techGet_("crossOrigin");null===e||"anonymous"===e||"use-credentials"===e?(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)):fp.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'))}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){let i=e+"_";if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();let n=parseFloat(t);isNaN(n)?fp.error('Improper value "'.concat(t,'" supplied for for ').concat(e)):(this[i]=n,this.updateStyleEl_())}fluid(e){var t;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,mz(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),t=()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)},mz(this)?t():(this.eventedCallbacks||(this.eventedCallbacks=[]),this.eventedCallbacks.push(t))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){let e,t,i;if(!0===um.VIDEOJS_NO_DYNAMIC_STYLE){let e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,i=this.tech_&&this.tech_.el();return void(i&&(e>=0&&(i.width=e),t>=0&&(i.height=t)))}let n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),mE(this.styleEl_,"\n      .".concat(i," {\n        width: ").concat(e,"px;\n        height: ").concat(t,"px;\n      }\n\n      .").concat(i,".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ").concat(100*r,"%;\n      }\n    "))}loadTech_(e,t){var i,n;this.tech_&&this.unloadTech_();let r=m2(e),s=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(gF.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let a=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(a=!1);let o={source:t,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:"".concat(this.id(),"_").concat(s,"_api"),playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};gR.names.forEach(e=>{let t=gR[e];o[t.getterName]=this[t.privateName]}),Object.assign(o,this.options_[r]),Object.assign(o,this.options_[s]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);let l=gF.getTech(e);if(!l)throw Error("No Tech named '".concat(r,"' exists! '").concat(r,"' should be registered using videojs.registerTech()'"));this.tech_=new l(o),this.tech_.ready(mB(this,this.handleTechReady_),!0),i=this.textTracksJson_||[],n=this.tech_,i.forEach(function(e){let t=n.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(e=>t.addCue(e))}),n.textTracks(),_l.forEach(e=>{this.on(this.tech_,e,t=>this["handleTech".concat(m2(e),"_")](t))}),Object.keys(_c).forEach(e=>{this.on(this.tech_,e,t=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this["handleTech".concat(_c[e],"_")].bind(this),event:t}):this["handleTech".concat(_c[e],"_")](t)})}),this.on(this.tech_,"loadstart",e=>this.handleTechLoadStart_(e)),this.on(this.tech_,"sourceset",e=>this.handleTechSourceset_(e)),this.on(this.tech_,"waiting",e=>this.handleTechWaiting_(e)),this.on(this.tech_,"ended",e=>this.handleTechEnded_(e)),this.on(this.tech_,"seeking",e=>this.handleTechSeeking_(e)),this.on(this.tech_,"play",e=>this.handleTechPlay_(e)),this.on(this.tech_,"pause",e=>this.handleTechPause_(e)),this.on(this.tech_,"durationchange",e=>this.handleTechDurationChange_(e)),this.on(this.tech_,"fullscreenchange",(e,t)=>this.handleTechFullscreenChange_(e,t)),this.on(this.tech_,"fullscreenerror",(e,t)=>this.handleTechFullscreenError_(e,t)),this.on(this.tech_,"enterpictureinpicture",e=>this.handleTechEnterPictureInPicture_(e)),this.on(this.tech_,"leavepictureinpicture",e=>this.handleTechLeavePictureInPicture_(e)),this.on(this.tech_,"error",e=>this.handleTechError_(e)),this.on(this.tech_,"posterchange",e=>this.handleTechPosterChange_(e)),this.on(this.tech_,"textdata",e=>this.handleTechTextData_(e)),this.on(this.tech_,"ratechange",e=>this.handleTechRateChange_(e)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||f2(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){gR.names.forEach(e=>{let t=gR[e];this[t.privateName]=this[t.getterName]()}),this.textTracksJson_=gu(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return void 0===e&&fp.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}version(){return{"video.js":fs}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()&&this.hasStarted(!1),this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){let t;if(!this.tech_||"string"!=typeof e)return;let i=()=>{let e=this.muted();this.muted(!0);let t=()=>{this.muted(e)};this.playTerminatedQueue_.push(t);let i=this.play();if(go(i))return i.catch(e=>{throw t(),Error("Rejection at manualAutoplay. Restoring muted value. ".concat(e||""))})};return"any"!==e||this.muted()?t="muted"!==e||this.muted()?this.play():i():go(t=this.play())&&(t=t.catch(i)),go(t)?t.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})}):void 0}updateSourceCaches_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;let i=e.cache_.sources.filter(e=>e.src===t);if(i.length)return i[0].type;let n=e.$$("source");for(let e=0;e<n.length;e++){let i=n[e];if(i.type&&i.src&&i.src===t)return i.type}return gX(t)})(this,t)),this.cache_.source=fT({},e,{src:t,type:i});let n=this.cache_.sources.filter(e=>e.src&&e.src===t),r=[],s=this.$$("source"),a=[];for(let e=0;e<s.length;e++){let i=f7(s[e]);r.push(i),i.src&&i.src===t&&a.push(i.src)}a.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=e=>this.updateSourceCaches_(e),i=this.currentSource().src,n=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==i)&&(t=()=>{}),t(n),e.src||this.tech_.any(["sourceset","loadstart"],e=>{if("sourceset"===e.type)return;let t=this.techGet_("currentSrc");this.lastSource_.tech=t,this.updateSourceCaches_(t)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");let e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?gl(this.play()):this.pause()))}handleTechDoubleClick_(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),t=>t.contains(e.target))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!uM.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){let t=e.target.player;if(t&&t!==this)return;let i=this.el(),n=uM[this.fsApi_.fullscreenElement]===i;!n&&i.matches&&(n=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){let e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready(function(){if(e in gV){var i;return i=this.middleware_,this.tech_[e](i.reduce(gW(e),t))}if(e in gz)return gq(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw fp(e),e}},!0)}techGet_(e){if(this.tech_&&this.tech_.isReady_){if(e in gH){var t,i;return t=this.middleware_,i=this.tech_,t.reduceRight(gW(e),i[e]())}if(e in gz)return gq(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw fp("Video.js: ".concat(e," method not defined for ").concat(this.techName_," playback technology."),t),t;if("TypeError"===t.name)throw fp("Video.js: ".concat(e," unavailable on ").concat(this.techName_," playback technology element."),t),this.tech_.isReady_=!1,t;throw fp(t),t}}}play(){return new Promise(e=>{this.play_(e)})}play_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gl;this.playCallbacks_.push(e);let t=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(fX||fG);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=e=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!t&&i&&this.load());let n=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){let e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})}runPlayCallbacks_(e){let t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||m7(0,0)}scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){return void 0===e?(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime):(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),this.cache_.initTime=0,void(isFinite(e)&&(this.cache_.currentTime=Number(e)))):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_)))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return e&&e.length||(e=m7(0,0)),e}seekable(){let e=this.techGet_("seekable");return e&&e.length||(e=m7(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return gs(this.buffered(),this.duration())}bufferedEnd(){let e=this.buffered(),t=this.duration(),i=e.end(e.length-1);return i>t&&(i=t),i}volume(e){let t;return void 0!==e?(t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):isNaN(t=parseFloat(this.techGet_("volume")))?1:t}muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}defaultMuted(e){return void 0!==e&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(void 0!==e){let t=this.isFullscreen_;return this.isFullscreen_=!!e,this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();let t=this;return new Promise((i,n)=>{function r(){t.off("fullscreenerror",a),t.off("fullscreenchange",s)}function s(){r(),i()}function a(e,t){r(),n(t)}t.one("fullscreenchange",s),t.one("fullscreenerror",a);let o=t.requestFullscreenHelper_(e);o&&(o.then(r,r),o.then(i,n))})}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){let e=this.el_[this.fsApi_.requestFullscreen](t);return e&&e.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){let e=this;return new Promise((t,i)=>{function n(){e.off("fullscreenerror",s),e.off("fullscreenchange",r)}function r(){n(),t()}function s(e,t){n(),i(t)}e.one("fullscreenchange",r),e.one("fullscreenerror",s);let a=e.exitFullscreenHelper_();a&&(a.then(n,n),a.then(t,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){let e=uM[this.fsApi_.exitFullscreen]();return e&&gl(e.then(()=>this.isFullscreen(!1))),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=uM.documentElement.style.overflow,mP(uM,"keydown",this.boundFullWindowOnEscKey_),uM.documentElement.style.overflow="hidden",f5(uM.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){"Escape"===e.key&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,mD(uM,"keydown",this.boundFullWindowOnEscKey_),uM.documentElement.style.overflow=this.docOrigOverflow,f3(uM.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&um.documentPictureInPicture){let e=uM.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(f0("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),um.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(t=>(mg(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:t}),t.addEventListener("pagehide",t=>{let i=t.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),t))}return"pictureInPictureEnabled"in uM&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return um.documentPictureInPicture&&um.documentPictureInPicture.window?(um.documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in uM?uM.exitPictureInPicture():void 0}handleKeyDown(e){let{userActions:t}=this.options_;t&&t.hotkeys&&((e=>{let t=e.tagName.toLowerCase();return!!e.isContentEditable||("input"===t?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(t))})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))}handleHotkeys(e){let{fullscreenKey:t=t=>"f"===e.key.toLowerCase(),muteKey:i=t=>"m"===e.key.toLowerCase(),playPauseKey:n=t=>"k"===e.key.toLowerCase()||" "===e.key.toLowerCase()}=this.options_.userActions?this.options_.userActions.hotkeys:{};if(t.call(this,e)){e.preventDefault(),e.stopPropagation();let t=m3.getComponent("FullscreenToggle");!1!==uM[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),m3.getComponent("MuteToggle").prototype.handleClick.call(this,e)):n.call(this,e)&&(e.preventDefault(),e.stopPropagation(),m3.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let t;for(let i=0,n=this.options_.techOrder;i<n.length;i++){let r=n[i],s=gF.getTech(r);if(s||(s=m3.getComponent(r)),s){if(s.isSupported()&&(t=s.canPlayType(e)))return t}else fp.error('The "'.concat(r,'" tech is undefined. Skipped browser support check for that tech.'))}return""}selectSource(e){let t=this.options_.techOrder.map(e=>[e,gF.getTech(e)]).filter(e=>{let[t,i]=e;return i?i.isSupported():(fp.error('The "'.concat(t,'" tech is undefined. Skipped browser support check for that tech.')),!1)}),i=function(e,t,i){let n;return e.some(e=>t.some(t=>{if(n=i(e,t))return!0})),n},n=(e,t)=>{let[i,n]=e;if(n.canPlaySource(t,this.options_[i.toLowerCase()]))return{source:t,tech:i}};return(this.options_.sourceOrder?i(e,t,(e,t)=>n(t,e)):i(t,e,n))||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();let i=gK(e);if(i.length){if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),function(e,t,i){e.setTimeout(()=>(function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],[o,...l]=i;if("string"==typeof o)e(t,gB[o],n,r,s,a);else if(o){let i=function(e,t){let i=gU[e.id()],n=null;if(null==i)return n=t(e),gU[e.id()]=[[t,n]],n;for(let e=0;e<i.length;e++){let[r,s]=i[e];r===t&&(n=s)}return null===n&&(n=t(e),i.push([t,n])),n}(r,o);if(!i.setSource)return s.push(i),e(t,l,n,r,s,a);i.setSource(Object.assign({},t),function(o,c){if(o)return e(t,l,n,r,s,a);s.push(i),e(c,t.type===c.type?l:gB[c.type],n,r,s,a)})}else l.length?e(t,l,n,r,s,a):a?n(t,s):e(t,gB["*"],n,r,s,!0)})(t,gB[t.type],i,e),1)}(this,i[0],(e,n)=>{var r;if(this.middleware_=n,t||(this.cache_.sources=i),this.updateSourceCaches_(e),this.src_(e))return i.length>1?this.handleSrc_(i.slice(1)):(this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void this.triggerReady());r=this.tech_,n.forEach(e=>e.setTech&&e.setTech(r))}),i.length>1){let e=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},t=()=>{this.off("error",e)};this.one("error",e),this.one("playing",t),this.resetRetryOnError_=()=>{this.off("error",e),this.off("playing",t)}}}else this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)}src(e){return this.handleSrc_(e,!1)}src_(e){let t=this.selectSource([e]);return!t||(m4(t.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(()=>{this.changingSrc_=!1})),!1)}addSourceElement(e,t){return!!this.tech_&&this.tech_.addSourceElement(e,t)}removeSourceElement(e){return!!this.tech_&&this.tech_.removeSourceElement(e)}load(){this.tech_&&this.tech_.vhs?this.src(this.currentSource()):this.techCall_("load")}reset(){this.paused()?this.doReset_():gl(this.play().then(()=>this.doReset_()))}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),mz(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);let{currentTimeDisplay:e,durationDisplay:t,progressControl:i,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:r}=i||{};e&&e.updateContent(),t&&t.updateContent(),n&&n.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){let e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")}autoplay(e){let t;if(void 0===e)return this.options_.autoplay||!1;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return void 0!==e&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")}poster(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){let e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(void 0===e)return this.error_||null;if(fo("beforeerror").forEach(t=>{let i=t(this,e);fv(i)&&!Array.isArray(i)||"string"==typeof i||"number"==typeof i||null===i?e=i:this.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&e&&4===e.code){let t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=null,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new ga(e),this.addClass("vjs-error"),fp.error("(CODE:".concat(this.error_.code," ").concat(ga.errorTypes[this.error_.code],")"),this.error_.message,this.error_),this.trigger("error"),fo("error").forEach(e=>e(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,i,n;let r=mB(this,this.reportUserActivity),s=function(t){r(),this.clearInterval(e)};this.on("mousedown",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===i||(t=e.screenX,i=e.screenY,r())}),this.on("mouseup",s),this.on("mouseleave",s);let a=this.getChild("controlBar");!a||fG||fI||(a.on("mouseenter",function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),a.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(n);let e=this.options_.inactivityTimeout;e<=0||(n=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))},250)}playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}updatePlayerHeightOnAudioOnlyMode_(){let e=this.getChild("ControlBar");e&&this.audioOnlyCache_.controlBarHeight!==e.currentHeight()&&(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");let e=this.children(),t=this.getChild("ControlBar"),i=t&&t.currentHeight();e.forEach(e=>{e!==t&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),this.audioOnlyCache_.hiddenChildren.push(e))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=i,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){let e=[];return this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.push(this.exitFullscreen()),this.audioPosterMode()&&e.push(this.audioPosterMode(!1)),Promise.all(e).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return"boolean"!=typeof e||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e)?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()})}addTextTrack(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),mz(this)&&this.trigger("languagechange"))}languages(){return fT(_p.prototype.options_.languages,this.languages_)}toJSON(){let e=fT(this.options_),t=e.tracks;e.tracks=[];for(let i=0;i<t.length;i++){let n=t[i];(n=fT(n)).player=void 0,e.tracks[i]=n}return e}createModal(e,t){(t=t||{}).content=e||"";let i=new gd(this,t);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;let e=this.currentBreakpoint(),t=this.currentWidth();for(let i=0;i<_u.length;i++){let n=_u[i];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(_h[e]),this.addClass(_h[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){let e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Object.assign({},_d,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(e){return void 0===e?this.responsive_:(e=!!e)!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return _h[this.breakpoint_]||""}loadMedia(e,t){if(!e||"object"!=typeof e)return;let i=this.crossOrigin();this.reset(),this.cache_.media=fT(e);let{artist:n,artwork:r,description:s,poster:a,src:o,textTracks:l,title:c}=this.cache_.media;!r&&a&&(this.cache_.media.artwork=[{src:a,type:gX(a)}]),i&&this.crossOrigin(i),o&&this.src(o),a&&this.poster(a),Array.isArray(l)&&l.forEach(e=>this.addRemoteTextTrack(e,!1)),this.titleBar&&this.titleBar.update({title:c,description:s||n||""}),this.ready(t)}getMedia(){if(!this.cache_.media){let e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),e=>({kind:e.kind,label:e.label,language:e.language,src:e.src}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:gX(t.poster)}]),t}return fT(this.cache_.media)}static getTagSettings(e){let t={sources:[],tracks:[]},i=f7(e),n=i["data-setup"];if(f4(e,"vjs-fill")&&(i.fill=!0),f4(e,"vjs-fluid")&&(i.fluid=!0),null!==n)try{Object.assign(i,JSON.parse(n||"{}"))}catch(e){fp.error("data-setup",e)}if(Object.assign(t,i),e.hasChildNodes()){let i=e.childNodes;for(let e=0,n=i.length;e<n;e++){let n=i[e],r=n.nodeName.toLowerCase();"source"===r?t.sources.push(f7(n)):"track"===r&&t.tracks.push(f7(n))}}return t}debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every(e=>"number"==typeof e)&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}constructor(e,t,i){if(e.id=e.id||t.id||"vjs_video_".concat(mx++),(t=Object.assign(_p.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){let i=e.closest("[lang]");i&&(t.language=i.getAttribute("lang"))}if(super(null,t,i),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.boundUpdatePlayerHeightOnAudioOnlyMode_=e=>this.updatePlayerHeightOnAudioOnlyMode_(e),this.isFullscreen_=!1,this.log=ff(this.id_),this.fsApi_=fc,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&f7(e),this.language(this.options_.language),t.languages){let e={};Object.getOwnPropertyNames(t.languages).forEach(function(i){e[i.toLowerCase()]=t.languages[i]}),this.languages_=e}else this.languages_=_p.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(e=>{if("function"!=typeof this[e])throw Error('plugin "'.concat(e,'" does not exist'))}),this.scrubbing_=!1,this.el_=this.createEl(),mJ(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(mP(uM,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);let n=fT(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach(e=>{this[e](t.plugins[e])}),t.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){let e=(new um.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">\n      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>',"image/svg+xml");if(e.querySelector("parsererror"))fp.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{let t=e.documentElement;t.style.display="none",this.el_.appendChild(t),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),t.spatialNavigation&&t.spatialNavigation.enabled&&(this.spatialNavigation=new gJ(this),this.addClass("vjs-spatial-navigation-enabled")),fz&&this.addClass("vjs-touch-enabled"),fG||this.addClass("vjs-workinghover"),_p.players[this.id_]=this;let r=fs.split(".")[0];this.addClass("vjs-v".concat(r)),this.userActive(!0),this.reportUserActivity(),this.one("play",e=>this.listenForUserActivity_(e)),this.on("keydown",e=>this.handleKeyDown(e)),this.on("languagechange",e=>this.handleLanguagechange(e)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}}gR.names.forEach(function(e){let t=gR[e];_p.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),_p.prototype.crossorigin=_p.prototype.crossOrigin,_p.players={};let _f=um.navigator;_p.prototype.options_={techOrder:gF.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:_f&&(_f.languages&&_f.languages[0]||_f.userLanguage||_f.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1},_l.forEach(function(e){_p.prototype["handleTech".concat(m2(e),"_")]=function(){return this.trigger(e)}}),m3.registerComponent("Player",_p);let _m="plugin",_g="activePlugins_",_y={},__=e=>_y.hasOwnProperty(e),_v=e=>__(e)?_y[e]:void 0,_b=(e,t)=>{e[_g]=e[_g]||{},e[_g][t]=!0},_T=(e,t,i)=>{let n=(i?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},_S=(e,t)=>(t.prototype.name=e,function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];_T(this,{name:e,plugin:t,instance:null},!0);let s=new t(...[this,...n]);return this[e]=()=>s,_T(this,s.getEventHash()),s});class _w{version(){return this.constructor.VERSION}getEventHash(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return mN(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){let{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[_g][e]=!1,this.player=this.state=null,t[e]=_S(e,_y[e])}static isBasic(e){let t="string"==typeof e?_v(e):e;return"function"==typeof t&&!_w.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if("string"!=typeof e)throw Error('Illegal plugin name, "'.concat(e,'", must be a string, was ').concat(typeof e,"."));if(__(e))fp.warn('A plugin named "'.concat(e,'" already exists. You may want to avoid re-registering plugins!'));else if(_p.prototype.hasOwnProperty(e))throw Error('Illegal plugin name, "'.concat(e,'", cannot share a name with an existing player method!'));if("function"!=typeof t)throw Error('Illegal plugin for "'.concat(e,'", must be a function, was ').concat(typeof t,"."));return _y[e]=t,e!==_m&&(_w.isBasic(t)?_p.prototype[e]=function(e,t){let i=function(){_T(this,{name:e,plugin:t,instance:null},!0);let i=t.apply(this,arguments);return _b(this,e),_T(this,{name:e,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i}(e,t):_p.prototype[e]=_S(e,t)),t}static deregisterPlugin(e){if(e===_m)throw Error("Cannot de-register base plugin.");__(e)&&(delete _y[e],delete _p.prototype[e])}static getPlugins(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(_y);return t.forEach(t=>{let i=_v(t);i&&((e=e||{})[t]=i)}),e}static getPluginVersion(e){let t=_v(e);return t&&t.VERSION||""}constructor(e){if(this.constructor===_w)throw Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),mJ(this),delete this.trigger,m0(this,this.constructor.defaultState),_b(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}}function _E(e,t,i,n){var r;let s;return r="".concat(t," is deprecated and will be removed in ").concat(e,".0; please use ").concat(i," instead."),s=!1,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return s||fp.warn(r),s=!0,n.apply(this,t)}}_w.getPlugin=_v,_w.BASE_PLUGIN_NAME=_m,_w.registerPlugin(_m,_w),_p.prototype.usingPlugin=function(e){return!!this[_g]&&!0===this[_g][e]},_p.prototype.hasPlugin=function(e){return!!__(e)};let _C=e=>0===e.indexOf("#")?e.slice(1):e;function _k(e,t,i){let n=_k.getPlayer(e);if(n)return t&&fp.warn('Player "'.concat(e,'" is already initialised. Options will not be applied.')),i&&n.ready(i),n;let r="string"==typeof e?mp("#"+_C(e)):e;if(!f$(r))throw TypeError("The element or ID supplied is not valid. (videojs)");let s="getRootNode"in r&&r.getRootNode()instanceof um.ShadowRoot?r.getRootNode():r.ownerDocument.body;return r.ownerDocument.defaultView&&s.contains(r)||fp.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),fo("beforesetup").forEach(e=>{let i=e(r,fT(t));fv(i)&&!Array.isArray(i)?t=fT(t,i):fp.error("please return an object in beforesetup hooks")}),n=new(m3.getComponent("Player"))(r,t,i),fo("setup").forEach(e=>e(n)),n}if(_k.hooks_=fa,_k.hooks=fo,_k.hook=function(e,t){fo(e,t)},_k.hookOnce=function(e,t){fo(e,[].concat(t).map(t=>{let i=function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];return fl(e,i),t(...r)};return i}))},_k.removeHook=fl,!0!==um.VIDEOJS_NO_DYNAMIC_STYLE&&fQ()){let e=mp(".vjs-styles-defaults");if(!e){e=mw("vjs-styles-defaults");let t=mp("head");t&&t.insertBefore(e,t.firstChild),mE(e,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}mT(1,_k),_k.VERSION=fs,_k.options=_p.prototype.options_,_k.getPlayers=()=>_p.players,_k.getPlayer=e=>{let t;let i=_p.players;if("string"==typeof e){let n=_C(e),r=i[n];if(r)return r;t=mp("#"+n)}else t=e;if(f$(t)){let{player:e,playerId:n}=t;if(e||i[n])return e||i[n]}},_k.getAllPlayers=()=>Object.keys(_p.players).map(e=>_p.players[e]).filter(Boolean),_k.players=_p.players,_k.getComponent=m3.getComponent,_k.registerComponent=(e,t)=>(gF.isTech(t)&&fp.warn("The ".concat(e," tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")),m3.registerComponent.call(m3,e,t)),_k.getTech=gF.getTech,_k.registerTech=gF.registerTech,_k.use=function(e,t){gB[e]=gB[e]||[],gB[e].push(t)},Object.defineProperty(_k,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(_k.middleware,"TERMINATOR",{value:gj,writeable:!1,enumerable:!0}),_k.browser=fK,_k.obj=fE,_k.mergeOptions=_E(9,"videojs.mergeOptions","videojs.obj.merge",fT),_k.defineLazyProperty=_E(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",fw),_k.bind=_E(9,"videojs.bind","native Function.prototype.bind",mB),_k.registerPlugin=_w.registerPlugin,_k.deregisterPlugin=_w.deregisterPlugin,_k.plugin=(e,t)=>(fp.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),_w.registerPlugin(e,t)),_k.getPlugins=_w.getPlugins,_k.getPlugin=_w.getPlugin,_k.getPluginVersion=_w.getPluginVersion,_k.addLanguage=function(e,t){return e=(""+e).toLowerCase(),_k.options.languages=fT(_k.options.languages,{[e]:t}),_k.options.languages[e]},_k.log=fp,_k.createLogger=ff,_k.time=gr,_k.createTimeRange=_E(9,"videojs.createTimeRange","videojs.time.createTimeRanges",m7),_k.createTimeRanges=_E(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",m7),_k.formatTime=_E(9,"videojs.formatTime","videojs.time.formatTime",gn),_k.setFormatTime=_E(9,"videojs.setFormatTime","videojs.time.setFormatTime",gt),_k.resetFormatTime=_E(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",gi),_k.parseUrl=_E(9,"videojs.parseUrl","videojs.url.parseUrl",gw),_k.isCrossOrigin=_E(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",gk),_k.EventTarget=mH,_k.any=mR,_k.on=mP,_k.one=mM,_k.off=mD,_k.trigger=mN,_k.xhr=uz,_k.TextTrack=gL,_k.AudioTrack=gO,_k.VideoTrack=gP,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(e=>{_k[e]=function(){return fp.warn("videojs.".concat(e,"() is deprecated; use videojs.dom.").concat(e,"() instead")),my[e].apply(null,arguments)}}),_k.computedStyle=_E(9,"videojs.computedStyle","videojs.dom.computedStyle",mm),_k.dom=my,_k.fn=mq,_k.num=ya,_k.str=m5,_k.url=gx,_k.Error={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};class _x{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get:()=>t.enabled_(),set(e){t.enabled_(e)}}),t}}class _I extends _k.EventTarget{addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;let i=this.levels_.length;return t=new _x(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){t=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,i=this.length;t<i;t++){let i=this[t];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get:()=>e.selectedIndex_}),Object.defineProperty(e,"length",{get:()=>e.levels_.length}),e[Symbol.iterator]=()=>e.levels_.values(),e}}for(let e in _I.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},_I.prototype.allowedEvents_)_I.prototype["on"+e]=null;var _A="4.1.0";let _L=function(e){return function(e){let t=e.qualityLevels,i=new _I,n=function(){i.dispose(),e.qualityLevels=t,e.off("dispose",n)};return e.on("dispose",n),e.qualityLevels=()=>i,e.qualityLevels.VERSION=_A,i}(this,_k.obj.merge({},e))};_k.registerPlugin("qualityLevels",_L),_L.VERSION=_A;let _O=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,_P=e=>_k.log.debug?_k.log.debug.bind(_k,"VHS:","".concat(e," >")):function(){};function _D(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let n=_k.obj||_k;return(n.merge||n.mergeOptions).apply(n,t)}function _N(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let n=_k.time||_k;return(n.createTimeRanges||n.createTimeRanges).apply(n,t)}let _M=1/30,_R=function(e,t){let i;let n=[];if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return _N(n)},_F=function(e,t){return _R(e,function(e,i){return e-.1<=t&&i+.1>=t})},_B=function(e,t){return _R(e,function(e){return e-_M>=t})},_U=e=>{let t=[];if(!e||!e.length)return"";for(let i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},_j=e=>{let t=[];for(let i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t},_q=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},_H=function(e,t){let i=0;if(!e||!e.length)return i;for(let n=0;n<e.length;n++){let r=e.start(n),s=e.end(n);t>s||(i+=t>r&&t<=s?s-t:s-r)}return i},_V=(e,t)=>{if(!t.preload)return t.duration;let i=0;return(t.parts||[]).forEach(function(e){i+=e.duration}),(t.preloadHints||[]).forEach(function(t){"PART"===t.type&&(i+=e.partTargetDuration)}),i},_z=e=>(e.segments||[]).reduce((e,t,i)=>(t.parts?t.parts.forEach(function(n,r){e.push({duration:n.duration,segmentIndex:i,partIndex:r,part:n,segment:t})}):e.push({duration:t.duration,segmentIndex:i,partIndex:null,segment:t,part:null}),e),[]),_W=e=>{let t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},_G=e=>{let{preloadSegment:t}=e;if(!t)return;let{parts:i,preloadHints:n}=t;return(n||[]).reduce((e,t)=>e+("PART"===t.type?1:0),0)+(i&&i.length?i.length:0)},_X=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;let i=_W(t).length>0;return i&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:i&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},_K=function(e,t,i){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;let n=function(e,t){let i=0,n=t-e.mediaSequence,r=e.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(void 0!==(r=e.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=_V(e,r),void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(e,t);if(n.precise)return n.result;let r=function(e,t){let i,n=0,r=t-e.mediaSequence;for(;r<e.segments.length;r++){if(void 0!==(i=e.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=_V(e,i),void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:n.result+i},_Y=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return um.Infinity}return _K(e,t,i)},_Q=function(e){let{defaultDuration:t,durationList:i,startIndex:n,endIndex:r}=e,s=0;if(n>r&&([n,r]=[r,n]),n<0){for(let e=n;e<Math.min(0,r);e++)s+=t;n=0}for(let e=n;e<r;e++)s+=i[e].duration;return s},_$=function(e,t,i,n){if(!e||!e.segments)return null;if(e.endList)return _Y(e);if(null===t)return null;t=t||0;let r=_K(e,e.mediaSequence+e.segments.length,t);return i&&(r-=n="number"==typeof n?n:_X(null,e)),Math.max(0,r)},_J=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},_Z=function(e){return e.excludeUntil&&e.excludeUntil===1/0},_0=function(e){let t=_J(e);return!e.disabled&&!t},_1=function(e,t){return t.attributes&&t.attributes[e]},_2=(e,t)=>{if(1===e.playlists.length)return!0;let i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(e=>!!_0(e)&&(e.attributes.BANDWIDTH||0)<i).length},_4=(e,t)=>!(!e&&!t||!e&&t||e&&!t)&&(e===t||!(!e.id||!t.id||e.id!==t.id)||!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri)),_5=function(e,t){let i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},n=!1;for(let e in i){for(let r in i[e])if(n=t(i[e][r]))break;if(n)break}return!!n},_3=e=>{if(!e||!e.playlists||!e.playlists.length)return _5(e,e=>e.playlists&&e.playlists.length||e.uri);for(let t=0;t<e.playlists.length;t++){let i=e.playlists[t],n=i.attributes&&i.attributes.CODECS;if(!(n&&n.split(",").every(e=>hk(e)))&&!_5(e,e=>_4(i,e)))return!1}return!0};var _8={liveEdgeDelay:_X,duration:_Y,seekable:function(e,t,i){let n=t||0,r=_$(e,t,!0,i);return null===r?_N():(r<n&&(r=n),_N(n,r))},getMediaInfoForTime:function(e){let{playlist:t,currentTime:i,startingSegmentIndex:n,startingPartIndex:r,startTime:s,exactManifestTimings:a}=e,o=i-s,l=_z(t),c=0;for(let e=0;e<l.length;e++){let t=l[e];if(n===t.segmentIndex&&("number"!=typeof r||"number"!=typeof t.partIndex||r===t.partIndex)){c=e;break}}if(o<0){if(c>0)for(let e=c-1;e>=0;e--){let i=l[e];if(o+=i.duration,a){if(o<0)continue}else if(o+_M<=0)continue;return{partIndex:i.partIndex,segmentIndex:i.segmentIndex,startTime:s-_Q({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:e})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(c<0){for(let e=c;e<0;e++)if((o-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};c=0}for(let e=c;e<l.length;e++){let i=l[e];o-=i.duration;let n=i.duration>_M;if(0!==o&&!(n&&o+_M>=0)||e===l.length-1){if(a){if(o>0)continue}else if(o-_M>=0)continue;return{partIndex:i.partIndex,segmentIndex:i.segmentIndex,startTime:s+_Q({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:e})}}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},isEnabled:_0,isDisabled:function(e){return e.disabled},isExcluded:_J,isIncompatible:_Z,playlistEnd:_$,isAes:function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:_1,estimateSegmentRequestTime:function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return _1("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*n)/t:NaN},isLowestEnabledRendition:_2,isAudioOnly:_3,playlistMatch:_4,segmentDurationWithParts:_V};let{log:_6}=_k,_7=(e,t)=>"".concat(e,"-").concat(t),_9=(e,t,i)=>"placeholder-uri-".concat(e,"-").concat(t,"-").concat(i),ve=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(e.mediaGroups[i])for(let n in e.mediaGroups[i])for(let r in e.mediaGroups[i][n])t(e.mediaGroups[i][n][r],i,n,r)})},vt=e=>{let{playlist:t,uri:i,id:n}=e;t.id=n,t.playlistErrors_=0,i&&(t.uri=i),t.attributes=t.attributes||{}},vi=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_9;e.uri=t;for(let t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){let i="placeholder-uri-".concat(t);e.playlists[t].uri=i}let n=_3(e);ve(e,(t,r,s,a)=>{if(!t.playlists||!t.playlists.length){if(n&&"AUDIO"===r&&!t.uri)for(let t=0;t<e.playlists.length;t++){let i=e.playlists[t];if(i.attributes&&i.attributes.AUDIO&&i.attributes.AUDIO===s)return}t.playlists=[uR({},t)]}t.playlists.forEach(function(t,n){let o=i(r,s,a,t),l=_7(n,o);t.uri?t.resolvedUri=t.resolvedUri||hl(e.uri,t.uri):(t.uri=0===n?o:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t})}),(e=>{let t=e.playlists.length;for(;t--;){let i=e.playlists[t];vt({playlist:i,id:_7(t,i.uri)}),i.resolvedUri=hl(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||_6.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}})(e),ve(e,t=>{t.uri&&(t.resolvedUri=hl(e.uri,t.uri))})};class vn{setOffset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null!==this.offset_||!e.length)return;let[t]=e;void 0!==t.programDateTime&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return;let[t]=e,i=t.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((e,t)=>(e.set(t.id,t),e),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(null===this.offset_)return[];let e={},t=[];for(let i of(this.pendingDateRanges_.forEach((i,n)=>{if(!this.processedDateRanges_.has(n)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),t.push(i),i.class)){if(e[i.class]){let t=e[i.class].push(i);i.classListIndex=t-1}else e[i.class]=[i],i.classListIndex=0}}),t)){let t=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&t[i.classListIndex+1]?i.endTime=t[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((t,i)=>{t.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}}let vr=e=>{let{requestType:t,request:i,error:n,parseFailure:r}=e,s=i.status<200||i.status>299,a=i.status>=400&&i.status<=499,o={uri:i.uri,requestType:t};if(n&&a)o.error=uR({},n),o.errorType=_k.Error.NetworkRequestFailed;else if(i.aborted)o.errorType=_k.Error.NetworkRequestAborted;else if(i.timedout)o.erroType=_k.Error.NetworkRequestTimeout;else if(s&&!a||r){let e=r?_k.Error.NetworkBodyParserFailed:_k.Error.NetworkBadStatus;o.errorType=e,o.status=i.status,o.headers=i.headers}return o},{EventTarget:vs}=_k,va=(e,t)=>{if(!e)return t;let i=_D(e,t);if(e.preloadHints&&!t.preloadHints&&delete i.preloadHints,e.parts&&!t.parts)delete i.parts;else if(e.parts&&t.parts)for(let n=0;n<t.parts.length;n++)e.parts&&e.parts[n]&&(i.parts[n]=_D(e.parts[n],t.parts[n]));return!e.skipped&&t.skipped&&(i.skipped=!1),e.preload&&!t.preload&&(i.preload=!1),i},vo=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=hl(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=hl(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=hl(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=hl(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(e=>{e.resolvedUri||(e.resolvedUri=hl(t,e.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(e=>{e.resolvedUri||(e.resolvedUri=hl(t,e.uri))})},vl=function(e){let t=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let e=0;e<i.preloadHints.length;e++)if("MAP"===i.preloadHints[e].type)return t}i.duration=e.targetDuration,i.preload=!0,t.push(i)}return t},vc=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,vu=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vc,n=_D(e,{}),r=n.playlists[t.id];if(!r||i(r,t))return null;t.segments=vl(t);let s=_D(r,t);if(s.preloadSegment&&!t.preloadSegment&&delete s.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(let e=0;e<t.skip.skippedSegments;e++)t.segments.unshift({skipped:!0})}s.segments=((e,t,i)=>{let n;let r=e.slice(),s=t.slice();i=i||0;let a=[];for(let e=0;e<s.length;e++){let t=r[e+i],o=s[e];t?(n=t.map||n,a.push(va(t,o))):(n&&!o.map&&(o.map=n),a.push(o))}return a})(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}s.segments.forEach(e=>{vo(e,s.resolvedUri)});for(let e=0;e<n.playlists.length;e++)n.playlists[e].id===t.id&&(n.playlists[e]=s);return n.playlists[t.id]=s,n.playlists[t.uri]=s,ve(e,(e,i,n,r)=>{if(e.playlists)for(let i=0;i<e.playlists.length;i++)t.id===e.playlists[i].id&&(e.playlists[i]=s)}),n},vh=(e,t)=>{let i=e.segments||[],n=i[i.length-1],r=n&&n.parts&&n.parts[n.parts.length-1],s=r&&r.duration||n&&n.duration;return t&&s?1e3*s:500*(e.partTargetDuration||e.targetDuration||10)},vd=(e,t,i)=>{if(!e)return;let n=[];return e.forEach(e=>{if(!e.attributes)return;let{BANDWIDTH:t,RESOLUTION:i,CODECS:r}=e.attributes;n.push({id:e.id,bandwidth:t,resolution:i,codecs:r})}),{type:t,isLive:i,renditions:n}};class vp extends vs{handleLoadedPlaylist_(){let e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);let t=this.dateRangesStorage_.getDateRangesToProcess();t.length&&this.addDateRangesToTextTrack_&&this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;let e=this.media(),t=hl(this.main.uri,e.uri);this.llhls&&(t=((e,t)=>{if(t.endList||!t.serverControl)return e;let i={};if(t.serverControl.canBlockReload){let{preloadSegment:e}=t,n=t.mediaSequence+t.segments.length;if(e){let r=e.parts||[],s=_G(t)-1;s>-1&&s!==r.length-1&&(i._HLS_part=s),(s>-1||r.length)&&n--}i._HLS_msn=n}if(t.serverControl&&t.serverControl.canSkipUntil&&(i._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){let t=new um.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(e){i.hasOwnProperty(e)&&t.searchParams.set(e,i[e])}),e=t.toString()}return e})(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},(e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})})}playlistRequestError(e,t,i){let{uri:n,id:r}=t;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[r],status:e.status,message:"HLS playlist request error at URL: ".concat(n,"."),responseText:e.responseText,code:e.status>=500?4:2,metadata:vr({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_(e){let{url:t,manifestString:i}=e;try{return(e=>{let{onwarn:t,oninfo:i,manifestString:n,customTagParsers:r=[],customTagMappers:s=[],llhls:a}=e,o=new h_;t&&o.on("warn",t),i&&o.on("info",i),r.forEach(e=>o.addParser(e)),s.forEach(e=>o.addTagMapper(e)),o.push(n),o.end();let l=o.manifest;if(a||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(e){l.hasOwnProperty(e)&&delete l[e]}),l.segments&&l.segments.forEach(function(e){["parts","preloadHints"].forEach(function(t){e.hasOwnProperty(t)&&delete e[t]})})),!l.targetDuration){let e=10;l.segments&&l.segments.length&&(e=l.segments.reduce((e,t)=>Math.max(e,t.duration),0)),t&&t({message:"manifest has no targetDuration defaulting to ".concat(e)}),l.targetDuration=e}let c=_W(l);if(c.length&&!l.partTargetDuration){let e=c.reduce((e,t)=>Math.max(e,t.duration),0);t&&(t({message:"manifest has no partTargetDuration defaulting to ".concat(e)}),_6.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),l.partTargetDuration=e}return l})({onwarn:e=>{let{message:i}=e;return this.logger_("m3u8-parser warn for ".concat(t,": ").concat(i))},oninfo:e=>{let{message:i}=e;return this.logger_("m3u8-parser info for ".concat(t,": ").concat(i))},manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(e){this.error=e,this.error.metadata={errorType:_k.Error.StreamingHlsPlaylistParserError,error:e}}}haveMetadata(e){let{playlistString:t,playlistObject:i,url:n,id:r}=e;this.request=null,this.state="HAVE_METADATA";let s={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:s});let a=i||this.parseManifest_({url:n,manifestString:t});a.lastRequest=Date.now(),vt({playlist:a,uri:n,id:r});let o=vu(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(vh(this.media(),!!o)),s.parsedPlaylist=vd(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),um.clearTimeout(this.mediaUpdateTimeout),um.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new vn,this.off()}stopRequest(){if(this.request){let e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.main.playlists[e])throw Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(um.clearTimeout(this.finalRenditionTimeout),t){let t=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=um.setTimeout(this.media.bind(this,e,!1),t))}let i=this.state,n=!this.media_||e.id!==this.media_.id,r=this.main.playlists[e.id];if(r&&r.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(vh(e,!0)),!n)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;let s={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:s}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(t,n)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=_O(e.resolvedUri,n),t)return this.playlistRequestError(this.request,e,i);this.trigger({type:"playlistrequestcomplete",metadata:s}),this.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),"HAVE_MAIN_MANIFEST"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(um.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(um.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);let t=this.media();if(e){let e=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=um.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},e)}else this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(um.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=um.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=um.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);let e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(t,i)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:i.status,message:"HLS playlist request error at URL: ".concat(this.src,"."),responseText:i.responseText,code:2,metadata:vr({requestType:i.requestType,request:i,error:t})},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=_O(this.src,i),this.trigger({type:"playlistparsestart",metadata:e});let n=this.parseManifest_({manifestString:i.responseText,url:this.src});e.parsedPlaylist=vd(n.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(n)})}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,vi(this.main,this.srcUri()),e.playlists.forEach(e=>{e.segments=vl(e),e.segments.forEach(t=>{vo(t,e.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));let t=this.srcUri()||um.location.href;this.main=((e,t)=>{let i=_7(0,t),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:um.location.href,resolvedUri:um.location.href,playlists:[{uri:t,id:i,resolvedUri:t,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[t]=n.playlists[0],n})(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){let i=this.main,n=e.ID,r=i.playlists.length;for(;r--;){let s=i.playlists[r];if(s.attributes["PATHWAY-ID"]===n){let a=s.resolvedUri,o=s.id;if(t){let t=this.createCloneURI_(s.resolvedUri,e),a=_7(n,t),o=this.createCloneAttributes_(n,s.attributes),l=this.createClonePlaylist_(s,a,e,o);i.playlists[r]=l,i.playlists[a]=l,i.playlists[t]=l}else i.playlists.splice(r,1);delete i.playlists[o],delete i.playlists[a]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){let i=this.main,n=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{if(i.mediaGroups[e]&&i.mediaGroups[e][n]){for(let t in i.mediaGroups[e])if(t===n){for(let n in i.mediaGroups[e][t])i.mediaGroups[e][t][n].playlists.forEach((e,t)=>{let n=i.playlists[e.id],r=n.id,s=n.resolvedUri;delete i.playlists[r],delete i.playlists[s]});delete i.mediaGroups[e][t]}}}),t&&this.createClonedMediaGroups_(e)}addClonePathway(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.main,n=i.playlists.length,r=this.createCloneURI_(t.resolvedUri,e),s=_7(e.ID,r),a=this.createCloneAttributes_(e.ID,t.attributes),o=this.createClonePlaylist_(t,s,e,a);i.playlists[n]=o,i.playlists[s]=o,i.playlists[r]=o,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){let t=e.ID,i=e["BASE-ID"],n=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{if(n.mediaGroups[r]&&!n.mediaGroups[r][t]){for(let s in n.mediaGroups[r])if(s===i)for(let i in n.mediaGroups[r][t]={},n.mediaGroups[r][s]){let a=n.mediaGroups[r][s][i];n.mediaGroups[r][t][i]=uR({},a);let o=n.mediaGroups[r][t][i],l=this.createCloneURI_(a.resolvedUri,e);o.resolvedUri=l,o.uri=l,o.playlists=[],a.playlists.forEach((s,a)=>{let l=n.playlists[s.id],c=_9(r,t,i),u=_7(t,c);if(l&&!n.playlists[u]){let t=this.createClonePlaylist_(l,u,e),i=t.resolvedUri;n.playlists[u]=t,n.playlists[i]=t}o.playlists[a]=this.createClonePlaylist_(s,u,e)})}}})}createClonePlaylist_(e,t,i,n){let r=this.createCloneURI_(e.resolvedUri,i),s={resolvedUri:r,uri:r,id:t};return e.segments&&(s.segments=[]),n&&(s.attributes=n),_D(e,s)}createCloneURI_(e,t){let i=new URL(e);i.hostname=t["URI-REPLACEMENT"].HOST;let n=t["URI-REPLACEMENT"].PARAMS;for(let e of Object.keys(n))i.searchParams.set(e,n[e]);return i.href}createCloneAttributes_(e,t){let i={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{t[n]&&(i[n]=e)}),i}getKeyIdSet(e){if(e.contentProtection){let t=new Set;for(let i in e.contentProtection){let n=e.contentProtection[i].attributes.keyId;n&&t.add(n.toLowerCase())}return t}}constructor(e,t,i={}){if(super(),!e)throw Error("A non-empty playlist URL or object is required");this.logger_=_P("PlaylistLoader");let{withCredentials:n=!1}=i;this.src=e,this.vhs_=t,this.withCredentials=n,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;let r=t.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new vn,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}}let vf=function(e,t,i,n){let r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode||(t=Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),n(t,e)},vm=function(){let e=function e(t,i){t=_D({timeout:45e3},t);let n=e.beforeRequest||_k.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||_k.Vhs.xhr._requestCallbackSet||new Set,s=e._responseCallbackSet||_k.Vhs.xhr._responseCallbackSet;n&&"function"==typeof n&&(_k.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(n));let a=!0===_k.Vhs.xhr.original?_k.xhr:_k.Vhs.xhr,o=((e,t)=>{if(!e||!e.size)return;let i=t;return e.forEach(e=>{i=e(i)}),i})(r,t);r.delete(n);let l=a(o||t,function(e,t){return s&&s.size&&s.forEach(i=>{i(l,e,t)}),vf(l,e,t,i)}),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=t.uri,l.requestType=t.requestType,l.requestTime=Date.now(),l};return e.original=!0,e},vg=function(e){var t;let i={};return e.byterange&&(i.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"==typeof t.offset||"bigint"==typeof t.length?um.BigInt(t.offset)+um.BigInt(t.length)-um.BigInt(1):t.offset+t.length-1)),i},vy=function(e,t){let i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},v_=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},vv=function(e){let t={};return Object.keys(e).forEach(i=>{let n=e[i];hN(n)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n}),t},vb=function(e){let t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},vT=function(e){return e.resolvedUri},vS=e=>{let t=Array.prototype.slice.call(e),i="";for(let e=0;e<t.length/16;e++)i+=t.slice(16*e,16*e+16).map(vy).join("")+" "+t.slice(16*e,16*e+16).map(v_).join("")+"\n";return i};var vw=Object.freeze({__proto__:null,createTransferableMessage:vv,initSegmentId:vb,segmentKeyId:vT,hexDump:vS,tagDump:e=>{let{bytes:t}=e;return vS(t)},textRanges:e=>{let t,i="";for(t=0;t<e.length;t++){var n;i+=(n=t,e.start(n)+"-"+e.end(n)+" ")}return i}});let vE=e=>{let{playlist:t,time:i,callback:n}=e;if(!n)throw Error("getProgramTime: callback must be provided");if(!t||void 0===i)return n({message:"getProgramTime: playlist and time must be provided"});let r=((e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let i,n=0;for(let r=0;r<t.segments.length&&!(e<=(n=(i=t.segments[r]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));r++);let r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*r.duration)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}})(i,t);if(!r)return n({message:"valid programTime was not found"});if("estimate"===r.type)return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});let s={mediaSeconds:i},a=((e,t)=>{if(!t.dateTimeObject)return null;let i=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*n)})(i,r.segment);return a&&(s.programDateTime=a.toISOString()),n(null,s)},vC=e=>{let{programTime:t,playlist:i,retryCount:n=2,seekTo:r,pauseAfterSeek:s=!0,tech:a,callback:o}=e;if(!o)throw Error("seekToProgramTime: callback must be provided");if(void 0===t||!i||!r)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!a.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!(e=>{if(!e.segments||0===e.segments.length)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0})(i))return o({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});let l=((e,t)=>{var i;let n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;let r=t.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let e=0;e<t.segments.length-1&&(r=t.segments[e],!(n<new Date(t.segments[e+1].dateTimeObject)));e++);let s=t.segments[t.segments.length-1],a=s.dateTimeObject,o=s.videoTimingInfo?(i=s.videoTimingInfo).transmuxedPresentationEnd-i.transmuxedPresentationStart-i.transmuxerPrependedSeconds:s.duration+.25*s.duration;return n>new Date(a.getTime()+1e3*o)?null:(n>new Date(a)&&(r=s),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:_8.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})})(t,i);if(!l)return o({message:"".concat(t," was not found in the stream")});let c=l.segment,u=((e,t)=>{let i,n;try{i=new Date(e),n=new Date(t)}catch(e){}let r=i.getTime();return(n.getTime()-r)/1e3})(c.dateTimeObject,t);if("estimate"===l.type)return 0===n?o({message:"".concat(t," is not buffered yet. Try again")}):(r(l.estimatedStart+u),void a.one("seeked",()=>{vC({programTime:t,playlist:i,retryCount:n-1,seekTo:r,pauseAfterSeek:s,tech:a,callback:o})}));let h=c.start+u;a.one("seeked",()=>o(null,a.currentTime())),s&&a.pause(),r(h)},vk=(e,t)=>{if(4===e.readyState)return t()},vx=(e,t,i,n)=>{let r,s=[],a=!1,o=function(e,t,n,r){return t.abort(),a=!0,i(e,t,n,r)},l=function(e,t){if(a)return;if(e)return e.metadata=vr({requestType:n,request:t,error:e}),o(e,t,"",s);let i=t.responseText.substring(s&&s.byteLength||0,t.responseText.length);if(s=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if((t=t.filter(function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})).length<=1)return hM(t[0]);var n=new Uint8Array(t.reduce(function(e,t,i){return e+(t.byteLength||t.length)},0)),r=0;return t.forEach(function(e){e=hM(e),n.set(e,r),r+=e.byteLength}),n}(s,hj(i,!0)),r=r||p$(s),s.length<10||r&&s.length<r+2)return vk(t,()=>o(e,t,"",s));let l=fr(s);return"ts"===l&&s.length<188||!l&&s.length<376?vk(t,()=>o(e,t,"",s)):o(null,t,l,s)},c=t({uri:e,beforeSend(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",function(t){let{total:i,loaded:n}=t;return vf(e,null,{statusCode:e.status},l)})}},function(e,t){return vf(c,e,t,l)});return c},{EventTarget:vI}=_k,vA=function(e,t){if(!vc(e,t)||e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length)||!e.sidx&&t.sidx||e.sidx&&!t.sidx||e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let i=0;i<e.segments.length;i++){let n=e.segments[i],r=t.segments[i];if(n.uri!==r.uri)return!1;if(!n.byterange&&!r.byterange)continue;let s=n.byterange,a=r.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},vL=(e,t,i,n)=>"placeholder-uri-".concat(e,"-").concat(t,"-").concat(n.attributes.NAME||i),vO=(e,t,i)=>{var n;let r=!0,s=_D(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let e=0;e<t.playlists.length;e++){let n=t.playlists[e];if(n.sidx){let e=pg(n.sidx);i&&i[e]&&i[e].sidx&&pc(n,i[e].sidx,n.sidx.resolvedUri)}let a=vu(s,n,vA);a&&(s=a,r=!1)}return ve(t,(e,t,i,n)=>{if(e.playlists&&e.playlists.length){let a=e.playlists[0].id,o=vu(s,e.playlists[0],vA);o&&(n in(s=o).mediaGroups[t][i]||(s.mediaGroups[t][i][n]=e),s.mediaGroups[t][i][n].playlists[0]=s.playlists[a],r=!1)}}),ve(n=s,(e,i,r,s)=>{t.mediaGroups[i][r]&&s in t.mediaGroups[i][r]||delete n.mediaGroups[i][r][s]}),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:s},vP=(e,t)=>(!!(!e.map&&!t.map)||!!(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,vD=(e,t)=>{let i={};for(let n in e){let r=e[n].sidx;if(r){let e=pg(r);if(!t[e])break;vP(t[e].sidxInfo,r)&&(i[e]=t[e])}}return i};class vN extends vI{requestErrored_(e,t,i){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata}:e,i&&(this.state=i),this.trigger("error"),!0):void 0)}addSidxSegments_(e,t,i){let n=e.sidx&&pg(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n])return void(this.mediaRequest_=um.setTimeout(()=>i(!1),0));let r=_O(e.sidx.resolvedUri),s=(r,s)=>{let a;if(this.requestErrored_(r,s,t))return;let o=this.mainPlaylistLoader_.sidxMapping_,{requestType:l}=s;try{a=pY(hM(s.response).subarray(8))}catch(e){return e.metadata=vr({requestType:l,request:s,parseFailure:!0}),void this.requestErrored_(e,s,t)}return o[n]={sidxInfo:e.sidx,sidx:a},pc(e,a,e.sidx.resolvedUri),i(!0)};this.request=vx(r,this.vhs_.xhr,(t,i,n,a)=>{if(t)return s(t,i);if(!n||"mp4"!==n)return s({status:i.status,message:"Unsupported ".concat(n||"unknown"," container type for sidx segment at URL: ").concat(r),response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},i);let{offset:o,length:l}=e.sidx.byterange;if(a.length>=l+o)return s(t,{response:a.subarray(o,o+l),status:i.status,uri:i.uri});this.request=this.vhs_.xhr({uri:r,responseType:"arraybuffer",requestType:"dash-sidx",headers:vg({byterange:e.sidx.byterange})},s)},"dash-sidx")}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},um.clearTimeout(this.minimumUpdatePeriodTimeout_),um.clearTimeout(this.mediaRequest_),um.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){let e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw Error("Cannot switch media playlist from "+this.state);let t=this.state;if("string"==typeof e){if(!this.mainPlaylistLoader_.main.playlists[e])throw Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}let i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,i=>{this.haveMetadata({startingState:t,playlist:e})}))}haveMetadata(e){let{startingState:t,playlist:i}=e;this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),"HAVE_MAIN_MANIFEST"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),um.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(um.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(e){um.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;let t=this.media();if(e){let e=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=um.setTimeout(()=>this.load(),e)}else this.started?t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){this.started=!0,this.isMain_?this.requestMain_((e,t)=>{this.haveMain_(),this.hasPendingRequest()||this.media_||this.media(this.mainPlaylistLoader_.main.playlists[0])}):this.mediaRequest_=um.setTimeout(()=>this.haveMain_(),0)}requestMain_(e){let t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(i,n)=>{if(i){let{requestType:e}=n;i.metadata=vr({requestType:e,request:n,error:i})}if(this.requestErrored_(i,n))return void("HAVE_NOTHING"===this.state&&(this.started=!1));this.trigger({type:"manifestrequestcomplete",metadata:t});let r=n.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=_O(this.mainPlaylistLoader_.srcUrl,n),r?(this.handleMain_(),void this.syncClientServerClock_(()=>e(n,r))):e(n,r)})}syncClientServerClock_(e){let t=pX(this.mainPlaylistLoader_.mainXml_);return null===t?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()):"DIRECT"===t.method?(this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:hl(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(i,n)=>{let r;if(this.request){if(i){let{requestType:t}=n;return this.error.metadata=vr({requestType:t,request:n,error:i}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}r="HEAD"===t.method?n.responseHeaders&&n.responseHeaders.date?Date.parse(n.responseHeaders.date):this.mainLoaded_:Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()}}))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){let e;this.mediaRequest_=null;let t=this.mainPlaylistLoader_.main,i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:i});try{e=(e=>{let{mainXml:t,srcUrl:i,clientOffset:n,sidxMapping:r,previousManifest:s}=e,a=pG(t,{manifestUri:i,clientOffset:n,sidxMapping:r,previousManifest:s});return vi(a,i,vL),a})({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:t})}catch(e){this.error=e,this.error.metadata={errorType:_k.Error.StreamingDashManifestParserError,error:e},this.trigger("error")}t&&(e=vO(t,e,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=e||t;let n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!t||e&&e.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(e),e){let{duration:t,endList:n}=e,r=[];e.playlists.forEach(e=>{r.push({id:e.id,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS})}),i.parsedManifest={duration:t,isLive:!n,renditions:r},this.trigger({type:"manifestparsecomplete",metadata:i})}return!!e}updateMinimumUpdatePeriodTimeout_(){let e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(um.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of ".concat(t,", not setting a timeout")):this.createMUPTimeout_(t)}createMUPTimeout_(e){let t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=um.setTimeout(()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,t)=>{var i,n;let r;t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=(i=this.mainPlaylistLoader_.main,n=this.mainPlaylistLoader_.sidxMapping_,r=vD(i.playlists,n),ve(i,(e,t,i,s)=>{if(e.playlists&&e.playlists.length){let t=e.playlists;r=_D(r,vD(t,n))}}),r),this.addSidxSegments_(this.media(),this.state,e=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();let t=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==t[e];if(i?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){let e=()=>{this.media().endList||(this.mediaUpdateTimeout=um.setTimeout(()=>{this.trigger("mediaupdatetimeout"),e()},vh(this.media(),!!i)))};e()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){let e=this.mainPlaylistLoader_.main.eventStream.map(e=>({cueTime:e.start,frames:[{data:e.messageData}]}));this.addMetadataToTextTrack("EventStream",e,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){let t=new Set;for(let i in e.contentProtection){let n=e.contentProtection[i].attributes["cenc:default_KID"];n&&t.add(n.replace(/-/g,"").toLowerCase())}return t}}constructor(e,t,i={},n){super(),this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);let{withCredentials:r=!1}=i;if(this.vhs_=t,this.withCredentials=r,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=_P("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}}var vM={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};let vR=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},vF=function(e){return function(){let t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(i){let t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),i=vR(new Worker(t));i.objURL=t;let n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(t),n.call(this)},i}},vB=function(e){return"var browserWorkerPolyFill = ".concat(vR.toString(),";\nbrowserWorkerPolyFill(self);\n")+e},vU=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)};var vj=vF(vB(vU(function(){"undefined"!=typeof globalThis?globalThis:window;var e=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var n;return!!e[t]&&(n=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var i,n,r,s;if(i=e[t]){if(2==arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(s=[],n=arguments.length,n=1;n<arguments.length;++n)s.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,s)}}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,i,n,r,s,a,o,l,c,u,h,d,p,f,m,g,y,_,v,b,T,S,w,E,C,k,x,I,A,L,O,P,D,N,M,R,F,B,U=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(t=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:0x100000000*i.getUint32(0)+i.getUint32(4)};(function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);w=new Uint8Array([105,115,111,109]),C=new Uint8Array([97,118,99,49]),E=new Uint8Array([0,0,0,1]),k={video:new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),audio:new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])},A=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),O=L=new Uint8Array([0,0,0,0,0,0,0,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),D=L,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),t=function(e){var t,i,n=[],r=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)r+=n[t].byteLength;for(new DataView((i=new Uint8Array(r+8)).buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,r=8;t<n.length;t++)i.set(n[t],r),r+=n[t].byteLength;return i},i=function(){return t(S.dinf,t(S.dref,A))},n=function(e){return t(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},m=function(e){return t(S.hdlr,k[e])},f=function(e){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(i[12]=e.samplerate>>>24&255,i[13]=e.samplerate>>>16&255,i[14]=e.samplerate>>>8&255,i[15]=255&e.samplerate),t(S.mdhd,i)},p=function(e){return t(S.mdia,f(e),m(e.type),a(e))},s=function(e){return t(S.mfhd,new Uint8Array([0,0,0,0,(0xff000000&e)>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e]))},a=function(e){return t(S.minf,"video"===e.type?t(S.vmhd,x):t(S.smhd,I),i(),y(e))},o=function(e,i){for(var n=[],r=i.length;r--;)n[r]=v(i[r]);return t.apply(null,[S.moof,s(e)].concat(n))},l=function(e){for(var i=e.length,n=[];i--;)n[i]=h(e[i]);return t.apply(null,[S.moov,u(0xffffffff)].concat(n).concat(c(e)))},c=function(e){for(var i=e.length,n=[];i--;)n[i]=b(e[i]);return t.apply(null,[S.mvex].concat(n))},u=function(e){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(0xff000000&e)>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(S.mvhd,i)},g=function(e){var i,n,r=e.samples||[],s=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,s[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t(S.sdtp,s)},y=function(e){return t(S.stbl,_(e),t(S.stts,D),t(S.stsc,O),t(S.stsz,P),t(S.stco,L))},_=function(e){return t(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?N(e):M(e))},N=function(e){var i,n,r=e.sps||[],s=e.pps||[],a=[],o=[];for(i=0;i<r.length;i++)a.push((65280&r[i].byteLength)>>>8),a.push(255&r[i].byteLength),a=a.concat(Array.prototype.slice.call(r[i]));for(i=0;i<s.length;i++)o.push((65280&s[i].byteLength)>>>8),o.push(255&s[i].byteLength),o=o.concat(Array.prototype.slice.call(s[i]));if(n=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],a,[s.length],o))),t(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];n.push(t(S.pasp,new Uint8Array([(0xff000000&l)>>24,(0xff0000&l)>>16,(65280&l)>>8,255&l,(0xff000000&c)>>24,(0xff0000&c)>>16,(65280&c)>>8,255&c])))}return t.apply(null,n)},M=function(e){return t(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),n(e))},d=function(e){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(0xff000000&e.id)>>24,(0xff0000&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(0xff000000&e.duration)>>24,(0xff0000&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(S.tkhd,i)},v=function(e){var i,n,r,s,a,o;return i=t(S.tfhd,new Uint8Array([0,0,0,58,(0xff000000&e.id)>>24,(0xff0000&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/0x100000000),o=Math.floor(e.baseMediaDecodeTime%0x100000000),n=t(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),"audio"===e.type?(r=T(e,92),t(S.traf,i,n,r)):(s=g(e),r=T(e,s.length+92),t(S.traf,i,n,r,s))},h=function(e){return e.duration=e.duration||0xffffffff,t(S.trak,d(e),p(e))},b=function(e){var i=new Uint8Array([0,0,0,0,(0xff000000&e.id)>>24,(0xff0000&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(i[i.length-1]=0),t(S.trex,i)},B=function(e,t){var i=0,n=0,r=0,s=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(s=8)),[0,0,i|n|r|s,1,(0xff000000&e.length)>>>24,(0xff0000&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(0xff000000&t)>>>24,(0xff0000&t)>>>16,(65280&t)>>>8,255&t]},F=function(e,i){var n,r,s,a,o,l;for(i+=20+16*(a=e.samples||[]).length,(r=new Uint8Array((s=B(a,i)).length+16*a.length)).set(s),n=s.length,l=0;l<a.length;l++)o=a[l],r[n++]=(0xff000000&o.duration)>>>24,r[n++]=(0xff0000&o.duration)>>>16,r[n++]=(65280&o.duration)>>>8,r[n++]=255&o.duration,r[n++]=(0xff000000&o.size)>>>24,r[n++]=(0xff0000&o.size)>>>16,r[n++]=(65280&o.size)>>>8,r[n++]=255&o.size,r[n++]=o.flags.isLeading<<2|o.flags.dependsOn,r[n++]=o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,r[n++]=61440&o.flags.degradationPriority,r[n++]=15&o.flags.degradationPriority,r[n++]=(0xff000000&o.compositionTimeOffset)>>>24,r[n++]=(0xff0000&o.compositionTimeOffset)>>>16,r[n++]=(65280&o.compositionTimeOffset)>>>8,r[n++]=255&o.compositionTimeOffset;return t(S.trun,r)},R=function(e,i){var n,r,s,a,o,l;for(i+=20+8*(a=e.samples||[]).length,(n=new Uint8Array((s=B(a,i)).length+8*a.length)).set(s),r=s.length,l=0;l<a.length;l++)o=a[l],n[r++]=(0xff000000&o.duration)>>>24,n[r++]=(0xff0000&o.duration)>>>16,n[r++]=(65280&o.duration)>>>8,n[r++]=255&o.duration,n[r++]=(0xff000000&o.size)>>>24,n[r++]=(0xff0000&o.size)>>>16,n[r++]=(65280&o.size)>>>8,n[r++]=255&o.size;return t(S.trun,n)},T=function(e,t){return"audio"===e.type?R(e,t):F(e,t)};var j,q,H,V,z,W,G,X,K={ftyp:r=function(){return t(S.ftyp,w,E,w,C)},mdat:function(e){return t(S.mdat,e)},moof:o,moov:l,initSegment:function(e){var t,i=r(),n=l(e);return(t=new Uint8Array(i.byteLength+n.byteLength)).set(i),t.set(n,i.byteLength),t}},Y=function(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},Q=[33,16,5,32,164,27],$=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],J=function(e){for(var t=[];e--;)t.push(0);return t};W=function(e,t){return q(z(e,t))},G=function(e,t){return H(V(e),t)},X=function(e,t,i){return V(i?e:e-t)};var Z={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:q=function(e){return 9e4*e},secondsToAudioTs:H=function(e,t){return e*t},videoTsToSeconds:V=function(e){return e/9e4},audioTsToSeconds:z=function(e,t){return e/t},audioTsToVideoTs:W,videoTsToAudioTs:G,metadataTsToSeconds:X},ee=function(){if(!j){var e={96e3:[Q,[227,64],J(154),[56]],88200:[Q,[231],J(170),[56]],64e3:[Q,[248,192],J(240),[56]],48e3:[Q,[255,192],J(268),[55,148,128],J(54),[112]],44100:[Q,[255,192],J(268),[55,163,128],J(84),[112]],32e3:[Q,[255,192],J(268),[55,234],J(226),[112]],24e3:[Q,[255,192],J(268),[55,255,128],J(268),[111,112],J(126),[224]],16e3:[Q,[255,192],J(268),[55,255,128],J(268),[111,255],J(269),[223,108],J(195),[1,192]],12e3:[$,J(268),[3,127,248],J(268),[6,255,240],J(268),[13,255,224],J(268),[27,253,128],J(259),[56]],11025:[$,J(268),[3,127,248],J(268),[6,255,240],J(268),[13,255,224],J(268),[27,255,192],J(268),[55,175,128],J(108),[112]],8e3:[$,J(268),[3,121,16],J(47),[7]]};j=Object.keys(e).reduce(function(t,i){return t[i]=new Uint8Array(e[i].reduce(function(e,t){return e.concat(t)},[])),t},{})}return j},et=Z.ONE_SECOND_IN_TS,ei={parseSei:function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}i.payload=void 0}t+=r,n=0,r=0}return i},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var i,n,r,s,a=[];if(!(64&t[0]))return a;for(n=31&t[0],i=0;i<n;i++)s={type:3&t[(r=3*i)+2],pts:e},4&t[r+2]&&(s.ccData=t[r+3]<<8|t[r+4],a.push(s));return a},discardEmulationPreventionBytes:function(e){for(var t,i,n=e.byteLength,r=[],s=1;s<n-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;i=new Uint8Array(t=n-r.length);var a=0;for(s=0;s<t;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=e[a];return i},USER_DATA_REGISTERED_ITU_T_T35:4},en=function(e){e=e||{},en.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new ep(0,0),new ep(0,1),new ep(1,0),new ep(1,1)],this.parse708captions_&&(this.cc708Stream_=new el({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};en.prototype=new e,en.prototype.push=function(e){var t,i,n;if("sei_rbsp"===e.nalUnitType&&(t=ei.parseSei(e.escapedRBSP)).payload&&t.payloadType===ei.USER_DATA_REGISTERED_ITU_T_T35&&(i=ei.parseUserData(t))){if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=ei.parseCaptionPackets(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}}},en.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return"flush"===e?t.flush():t.partialFlush()},this)},en.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},en.prototype.flush=function(){return this.flushStream("flush")},en.prototype.partialFlush=function(){return this.flushStream("partialFlush")},en.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},en.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},en.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},en.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},en.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},en.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var er={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},es=function(e){return 32<=e&&e<=127||160<=e&&e<=255},ea=function(e){this.windowNum=e,this.reset()};ea.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ea.prototype.getText=function(){return this.rows.join("\n")},ea.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ea.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ea.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},ea.prototype.addText=function(e){this.rows[this.rowIdx]+=e},ea.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var eo=function(e,t,i){this.serviceNum=e,this.text="",this.currentWindow=new ea(-1),this.windows=[],this.stream=i,"string"==typeof t&&this.createTextDecoder(t)};eo.prototype.init=function(e,t){this.startPts=e;for(var i=0;i<8;i++)this.windows[i]=new ea(i),"function"==typeof t&&(this.windows[i].beforeRowOverflow=t)},eo.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},eo.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var el=function(e){e=e||{},el.prototype.init.call(this);var t,i=this,n=e.captionServices||{},r={};Object.keys(n).forEach(e=>{t=n[e],/^SERVICE/.test(e)&&(r[e]=t.encoding)}),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?i.new708Packet():null===i.current708Packet&&i.new708Packet(),i.add708Bytes(e)}};el.prototype=new e,el.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},el.prototype.add708Bytes=function(e){var t=e.ccData;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(t>>>8),this.current708Packet.data.push(255&t)},el.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,i=null,n=null,r=0,s=t[r++];for(e.seq=s>>6,e.sizeCode=63&s;r<t.length;r++)n=31&(s=t[r++]),7==(i=s>>5)&&n>0&&(i=s=t[r++]),this.pushServiceBlock(i,r,n),n>0&&(r+=n-1)},el.prototype.pushServiceBlock=function(e,t,i){var n,r=t,s=this.current708Packet.data,a=this.services[e];for(a||(a=this.initService(e,r));r<t+i&&r<s.length;r++)es(n=s[r])?r=this.handleText(r,a):24===n?r=this.multiByteCharacter(r,a):16===n?r=this.extendedCommands(r,a):128<=n&&n<=135?r=this.setCurrentWindow(r,a):152<=n&&n<=159?r=this.defineWindow(r,a):136===n?r=this.clearWindows(r,a):140===n?r=this.deleteWindows(r,a):137===n?r=this.displayWindows(r,a):138===n?r=this.hideWindows(r,a):139===n?r=this.toggleWindows(r,a):151===n?r=this.setWindowAttributes(r,a):144===n?r=this.setPenAttributes(r,a):145===n?r=this.setPenColor(r,a):146===n?r=this.setPenLocation(r,a):143===n?a=this.reset(r,a):8===n?a.currentWindow.backspace():12===n?a.currentWindow.clearText():13===n?a.currentWindow.pendingNewLine=!0:14===n?a.currentWindow.clearText():141===n&&r++},el.prototype.extendedCommands=function(e,t){return es(this.current708Packet.data[++e])&&(e=this.handleText(e,t,{isExtended:!0})),e},el.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},el.prototype.initService=function(e,t){var i,n,r=this;return(i="SERVICE"+e)in this.serviceEncodings&&(n=this.serviceEncodings[i]),this.services[e]=new eo(e,n,r),this.services[e].init(this.getPts(t),function(t){r.flushDisplayed(t,r.services[e])}),this.services[e]},el.prototype.handleText=function(e,t,i){var n,r,s,a,o=i&&i.isExtended,l=i&&i.isMultiByte,c=this.current708Packet.data,u=c[e],h=c[e+1],d=t.currentWindow;return(l?(r=[u,h],e++):r=[u],t.textDecoder_&&!o)?n=t.textDecoder_.decode(new Uint8Array(r)):l?n=String.fromCharCode(parseInt(r.map(e=>("0"+(255&e).toString(16)).slice(-2)).join(""),16)):(a=er[s=(o?4096:0)|u]||s,n=4096&s&&s===a?"":String.fromCharCode(a)),d.pendingNewLine&&!d.isEmpty()&&d.newLine(this.getPts(e)),d.pendingNewLine=!1,d.addText(n),e},el.prototype.multiByteCharacter=function(e,t){var i=this.current708Packet.data,n=i[e+1],r=i[e+2];return es(n)&&es(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},el.prototype.setCurrentWindow=function(e,t){var i=7&this.current708Packet.data[e];return t.setCurrentWindow(i),e},el.prototype.defineWindow=function(e,t){var i=this.current708Packet.data,n=i[e],r=7&n;t.setCurrentWindow(r);var s=t.currentWindow;return n=i[++e],s.visible=(32&n)>>5,s.rowLock=(16&n)>>4,s.columnLock=(8&n)>>3,s.priority=7&n,n=i[++e],s.relativePositioning=(128&n)>>7,s.anchorVertical=127&n,n=i[++e],s.anchorHorizontal=n,n=i[++e],s.anchorPoint=(240&n)>>4,s.rowCount=15&n,n=i[++e],s.columnCount=63&n,n=i[++e],s.windowStyle=(56&n)>>3,s.penStyle=7&n,s.virtualRowCount=s.rowCount+1,e},el.prototype.setWindowAttributes=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.winAttr;return n=i[++e],r.fillOpacity=(192&n)>>6,r.fillRed=(48&n)>>4,r.fillGreen=(12&n)>>2,r.fillBlue=3&n,n=i[++e],r.borderType=(192&n)>>6,r.borderRed=(48&n)>>4,r.borderGreen=(12&n)>>2,r.borderBlue=3&n,n=i[++e],r.borderType+=(128&n)>>5,r.wordWrap=(64&n)>>6,r.printDirection=(48&n)>>4,r.scrollDirection=(12&n)>>2,r.justify=3&n,n=i[++e],r.effectSpeed=(240&n)>>4,r.effectDirection=(12&n)>>2,r.displayEffect=3&n,e},el.prototype.flushDisplayed=function(e,t){for(var i=[],n=0;n<8;n++)t.windows[n].visible&&!t.windows[n].isEmpty()&&i.push(t.windows[n].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},el.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},el.prototype.displayWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible=1);return e},el.prototype.hideWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible=0);return e},el.prototype.toggleWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible^=1);return e},el.prototype.clearWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&t.windows[r].clearText();return e},el.prototype.deleteWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&t.windows[r].reset();return e},el.prototype.setPenAttributes=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penAttr;return n=i[++e],r.textTag=(240&n)>>4,r.offset=(12&n)>>2,r.penSize=3&n,n=i[++e],r.italics=(128&n)>>7,r.underline=(64&n)>>6,r.edgeType=(56&n)>>3,r.fontStyle=7&n,e},el.prototype.setPenColor=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penColor;return n=i[++e],r.fgOpacity=(192&n)>>6,r.fgRed=(48&n)>>4,r.fgGreen=(12&n)>>2,r.fgBlue=3&n,n=i[++e],r.bgOpacity=(192&n)>>6,r.bgRed=(48&n)>>4,r.bgGreen=(12&n)>>2,r.bgBlue=3&n,n=i[++e],r.edgeRed=(48&n)>>4,r.edgeGreen=(12&n)>>2,r.edgeBlue=3&n,e},el.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,n=i[++e],r.row=15&n,n=i[++e],r.column=63&n,e},el.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)};var ec={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},eu=function(e){return null===e?"":String.fromCharCode(e=ec[e]||e)},eh=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ed=function(){for(var e=[],t=15;t--;)e.push({text:"",indent:0,offset:0});return e},ep=function(e,t){ep.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,s;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_){if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=ed();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ed();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=ed()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))s=eu((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),s=eu((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14&~r||this.addFormatting(e.pts,["i"]),1&~r||this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r)){let e=3&r;this.nonDisplayed_[this.row_].offset=e,this.column_+=e}else if(this.isPAC(n,r)){var a=eh.indexOf(7968&t);if("rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&a>=0&&a<=14&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),!(16&~t)){let e=(14&t)>>1;this.column_=4*e,this.nonDisplayed_[this.row_].indent+=e}this.isColorPAC(r)&&(14&~r||this.addFormatting(e.pts,["i"]))}else this.isNormalChar(n)&&(0===r&&(r=null),s=eu(n)+eu(r),this[this.mode_](e.pts,s),this.column_+=s.length)}}else this.lastControlCode_=null}};ep.prototype=new e,ep.prototype.flushDisplayed=function(e){let t=e=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+e+"."})},i=[];this.displayed_.forEach((e,n)=>{if(e&&e.text&&e.text.length){try{e.text=e.text.trim()}catch(e){t(n)}e.text.length&&i.push({text:e.text,line:n+1,position:10+Math.min(70,10*e.indent)+2.5*e.offset})}else null==e&&t(n)}),i.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,content:i,stream:this.name_})},ep.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ed(),this.nonDisplayed_=ed(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},ep.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},ep.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},ep.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},ep.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},ep.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},ep.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},ep.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},ep.prototype.isNormalChar=function(e){return e>=32&&e<=127},ep.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=ed(),this.displayed_=ed()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]={text:"",indent:0,offset:0};void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},ep.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},ep.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},ep.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_].text;i+=t,this.nonDisplayed_[this.row_].text=i},ep.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_].text;i+=t,this.displayed_[this.row_].text=i},ep.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.row_+1;e<15;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},ep.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_].text;i+=t,this.displayed_[this.row_].text=i};var ef={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},em="shared",eg=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>0x100000000;)e+=0x200000000*i;return e},ey=function(e){var t,i;ey.prototype.init.call(this),this.type_=e||em,this.push=function(e){"metadata"!==e.type?this.type_!==em&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=eg(e.dts,i),e.pts=eg(e.pts,i),t=e.dts,this.trigger("data",e)):this.trigger("data",e)},this.flush=function(){i=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};ey.prototype=new e;var e_,ev=(e,t,i)=>{if(!e)return -1;for(var n=i;n<e.length;n++)if(e[n]===t)return n;return -1},eb=function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r},eT=function(e,t,i){return decodeURIComponent(eb(e,t,i))},eS=function(e,t,i){return unescape(eb(e,t,i))},ew=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},eE={APIC:function(e){var t,i,n=1;3===e.data[0]&&((t=ev(e.data,0,n))<0||(e.mimeType=eS(e.data,n,t),n=t+1,e.pictureType=e.data[n],n++,(i=ev(e.data,0,n))<0||(e.description=eT(e.data,n,i),n=i+1,"--\x3e"===e.mimeType?e.url=eS(e.data,n,e.data.length):e.pictureData=e.data.subarray(n,e.data.length))))},"T*":function(e){3===e.data[0]&&(e.value=eT(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;3===e.data[0]&&-1!==(t=ev(e.data,0,1))&&(e.description=eT(e.data,1,t),e.value=eT(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=eS(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;3===e.data[0]&&-1!==(t=ev(e.data,0,1))&&(e.description=eT(e.data,1,t),e.url=eS(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=eS(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},eC={parseId3Frames:function(e){var t,i=10,n=0,r=[];if(!(e.length<10||73!==e[0]||68!==e[1]||51!==e[2])){n=ew(e.subarray(6,10))+10,64&e[5]&&(i+=4,i+=ew(e.subarray(10,14)),n-=ew(e.subarray(16,20)));do{if((t=ew(e.subarray(i+4,i+8)))<1)break;var s={id:String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]),data:e.subarray(i+10,i+t+10)};s.key=s.id,eE[s.id]?eE[s.id](s):"T"===s.id[0]?eE["T*"](s):"W"===s.id[0]&&eE["W*"](s),r.push(s),i+=10,i+=t}while(i<n);return r}},parseSyncSafeInteger:ew,frameParsers:eE};(e_=function(e){var t,i={descriptor:e&&e.descriptor},n=0,r=[],s=0;if(e_.prototype.init.call(this),this.dispatchType=ef.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,a,o,l;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(s=0,r.length=0),0===r.length&&(e.data.length<10||73!==e.data[0]||68!==e.data[1]||51!==e.data[2]))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),s+=e.data.byteLength,1===r.length&&(n=eC.parseSyncSafeInteger(e.data.subarray(6,10))+10),!(s<n)){for(t={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<n;)t.data.set(r[0].data.subarray(0,n-l),l),l+=r[0].data.byteLength,s-=r[0].data.byteLength,r.shift();i=10,64&t.data[5]&&(i+=4,i+=eC.parseSyncSafeInteger(t.data.subarray(10,14)),n-=eC.parseSyncSafeInteger(t.data.subarray(16,20)));do{if((a=eC.parseSyncSafeInteger(t.data.subarray(i+4,i+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((o={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+a+10)}).key=o.id,eC.frameParsers[o.id]?eC.frameParsers[o.id](o):"T"===o.id[0]?eC.frameParsers["T*"](o):"W"===o.id[0]&&eC.frameParsers["W*"](o),"com.apple.streaming.transportStreamTimestamp"===o.owner){var c=o.data,u=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;u*=4,u+=3&c[7],o.timeStamp=u,void 0===t.pts&&void 0===t.dts&&(t.pts=o.timeStamp,t.dts=o.timeStamp),this.trigger("timestamp",o)}t.frames.push(o),i+=10,i+=a}while(i<n);this.trigger("data",t)}}}}).prototype=new e;var ek,ex,eI,eA=e_;(ek=function(){var e=new Uint8Array(188),t=0;ek.prototype.init.call(this),this.push=function(i){var n,r=0,s=188;for(t?((n=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),n.set(i,t),t=0):n=i;s<n.byteLength;)71!==n[r]||71!==n[s]?(r++,s++):(this.trigger("data",n.subarray(r,s)),r+=188,s+=188);r<n.byteLength&&(e.set(n.subarray(r),0),t=n.byteLength-r)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new e,(ex=function(){var e,t,i,n;ex.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var r=0;n.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===n.type?t(e.subarray(r),n):i(e.subarray(r),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},i=function(e,t){var i,r;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<i;){var s=e[r],a=(31&e[r+1])<<8|e[r+2];s===ef.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=a:s===ef.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=a:s===ef.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][a]=s),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===i.pid)i.type="pat",e(t.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",e(t.subarray(n),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,i]):this.processPes_(t,n,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=ef.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=ef.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new e,ex.STREAM_TYPES={h264:27,adts:15},(eI=function(){var e,t=this,i=!1,n={data:[],size:0},r={data:[],size:0},s={data:[],size:0},a=function(e,i,n){var r,s,a=new Uint8Array(e.size),o={type:i},l=0,c=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,l=0;l<e.data.length;l++)s=e.data[l],a.set(s.data,c),c+=s.data.byteLength;(function(e,t){var i;let n=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===n&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=!!(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))})(a,o),r="video"===i||o.packetLength<=e.size,(n||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",o)}};eI.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,t;switch(o.streamType){case ef.H264_STREAM_TYPE:e=n,t="video";break;case ef.ADTS_STREAM_TYPE:e=r,t="audio";break;case ef.METADATA_STREAM_TYPE:e=s,t="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&a(e,t,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(e=o.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),i=!0,t.trigger("data",n)}})[o.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){a(n,"video"),a(r,"audio"),a(s,"timed-metadata")},this.flush=function(){if(!i&&e){var n={type:"metadata",tracks:[]};null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}i=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new e;var eL={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:ek,TransportParseStream:ex,ElementaryStream:eI,TimestampRolloverStream:ey,CaptionStream:en,Cea608Stream:ep,Cea708Stream:el,MetadataStream:eA};for(var eO in ef)ef.hasOwnProperty(eO)&&(eL[eO]=ef[eO]);var eP,eD=Z.ONE_SECOND_IN_TS,eN=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(eP=function(e){var t,i=0;eP.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes ".concat(e," to ").concat(t," in frame ").concat(i," outside syncword")})},this.push=function(n){var r,s,a,o,l,c,u=0;if(e||(i=0),"audio"===n.type){for(t&&t.length?((t=new Uint8Array((o=t).byteLength+n.data.byteLength)).set(o),t.set(n.data,o.byteLength)):t=n.data;u+7<t.length;)if(255===t[u]&&240==(246&t[u+1])){if("number"==typeof r&&(this.skipWarn_(r,u),r=null),a=2*(1&~t[u+1]),s=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,c=(l=1024*(1+(3&t[u+6])))*eD/eN[(60&t[u+2])>>>2],t.byteLength-u<s)break;this.trigger("data",{pts:n.pts+i*c,dts:n.dts+i*c,sampleCount:l,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:eN[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+a,u+s)}),i++,u+=s}else"number"!=typeof r&&(r=u),u++;"number"==typeof r&&(this.skipWarn_(r,u),r=null),t=t.subarray(u)}},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new e;var eM,eR=eP;eM=function(e){var t=e.byteLength,i=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var r=e.byteLength-t,s=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw Error("no bytes available");s.set(e.subarray(r,r+a)),i=new DataView(s.buffer).getUint32(0),n=8*a,t-=a},this.skipBits=function(e){var r;n>e||(e-=n,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord()),i<<=e,n-=e},this.readBits=function(e){var r=Math.min(n,e),s=i>>>32-r;return(n-=r)>0?i<<=r:t>0&&this.loadWord(),(r=e-r)>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(i&0x80000000>>>e)return i<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},(eB=function(){var e,t,i=0;eB.prototype.init.call(this),this.push=function(n){var r;t?((r=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),r.set(n.data,t.byteLength),t=r):t=n.data;for(var s=t.byteLength;i<s-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<s;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do e++;while(1!==t[e]&&e<s);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.reset=function(){t=null,i=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(i+3)),t=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new e,eU={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(eF=function(){var e,t,i,n,r,s,a,o=new eB;eF.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,i=e.pts,n=e.dts,o.push(e))},o.on("data",function(a){var o={trackId:t,pts:i,dts:n,data:a,nalUnitTypeCode:31&a[0]};switch(o.nalUnitTypeCode){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=r(a.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=r(a.subarray(1)),o.config=s(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",o)}),o.on("done",function(){e.trigger("done")}),o.on("partialdone",function(){e.trigger("partialdone")}),o.on("reset",function(){e.trigger("reset")}),o.on("endedtimeline",function(){e.trigger("endedtimeline")}),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},a=function(e,t){var i,n=8,r=8;for(i=0;i<e;i++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},r=function(e){for(var t,i,n=e.byteLength,r=[],s=1;s<n-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;i=new Uint8Array(t=n-r.length);var a=0;for(s=0;s<t;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=e[a];return i},s=function(e){var t,i,n,r,s,o,l,c,u,h,d,p,f=0,m=0,g=0,y=0,_=[1,1];if(i=(t=new eM(e)).readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),eU[i]&&(3===(s=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==s?8:12,p=0;p<d;p++)t.readBoolean()&&a(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(h=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}_&&(_[0],_[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:16*(c+1)-2*f-2*m,height:(2-h)*(u+1)*16-2*g-2*y,sarRatio:_}}}).prototype=new e;var eF,eB,eU,ej,eq=eF,eH=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],eV=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return i=i>=0?i:0,(16&e[t+5])>>4?i+20:i+10},ez=function(e,t){return e.length-t<10||73!==e[t]||68!==e[t+1]||51!==e[t+2]?t:(t+=eV(e,t),ez(e,t))},eW=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},eG={isLikelyAacData:function(e){var t=ez(e,0);return e.length>=t+2&&!(255&~e[t])&&!(240&~e[t+1])&&16==(22&e[t+1])},parseId3TagSize:eV,parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},parseType:function(e,t){return 73===e[t]&&68===e[t+1]&&51===e[t+2]?"timed-metadata":!0&e[t]&&!(240&~e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return eH[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,n;t=10,64&e[5]&&(t+=4,t+=eW(e.subarray(10,14)));do{if((i=eW(e.subarray(t+4,t+8)))<1)break;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+i+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,i){var n,r="";for(n=0;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}(n,0,r))){var s=n.subarray(r+1),a=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return a*=4,a+=3&s[7]}break}}t+=10,t+=i}while(t<e.byteLength);return null}};(ej=function(){var e=new Uint8Array,t=0;ej.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(i){var n,r,s,a=0,o=0;for(e.length?(s=e.length,(e=new Uint8Array(i.byteLength+s)).set(e.subarray(0,s)),e.set(i,s)):e=i;e.length-o>=3;)if(e[o]!=="I".charCodeAt(0)||e[o+1]!=="D".charCodeAt(0)||e[o+2]!=="3".charCodeAt(0)){if(255&~e[o]||240&~e[o+1])o++;else{if(e.length-o<7||o+(a=eG.parseAdtsSize(e,o))>e.length)break;r={type:"audio",data:e.subarray(o,o+a),pts:t,dts:t},this.trigger("data",r),o+=a}}else{if(e.length-o<10||o+(a=eG.parseId3TagSize(e,o))>e.length)break;n={type:"timed-metadata",data:e.subarray(o,o+a)},this.trigger("data",n),o+=a}e=e.length-o>0?e.subarray(o):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new e;var eX,eK,eY,eQ,e$={groupNalsIntoFrames:function(e){var t,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},groupFramesIntoGops:function(e){var t,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var i,n,r,s,a,o=t||0,l=[];for(i=0;i<e.length;i++)for(s=e[i],n=0;n<s.length;n++)a=s[n],o+=(r=Y(a,o)).size,l.push(r);return l},concatenateNalData:function(e){var t,i,n,r,s,a,o=0,l=new Uint8Array(e.byteLength+4*e.nalCount),c=new DataView(l.buffer);for(t=0;t<e.length;t++)for(r=e[t],i=0;i<r.length;i++)for(s=r[i],n=0;n<s.length;n++)a=s[n],c.setUint32(o,a.data.byteLength),o+=4,l.set(a.data,o),o+=a.data.byteLength;return l}},eJ={prefixWithSilence:function(e,t,i,n){var r,s,a,o,l,c=0,u=0;if(t.length&&(r=Z.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(Z.ONE_SECOND_IN_TS/(e.samplerate/1024)),i&&n&&(u=(c=Math.floor((r-Math.max(i,n))/s))*s),!(c<1||u>Z.ONE_SECOND_IN_TS/2))){for((a=ee()[e.samplerate])||(a=t[0].data),o=0;o<c;o++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-s,pts:l.pts-s});return e.baseMediaDecodeTime-=Math.floor(Z.videoTsToAudioTs(u,e.samplerate)),u}},trimAdtsFramesByEarliestDts:function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},generateSampleTable:function(e){var t,i=[];for(t=0;t<e.length;t++)i.push({size:e[t].data.byteLength,duration:1024});return i},concatenateFrameData:function(e){var t,i,n=0,r=new Uint8Array(function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i}(e));for(t=0;t<e.length;t++)i=e[t],r.set(i.data,n),n+=i.data.byteLength;return r}},eZ={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var i,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),i=Math.max(0,i=e.timelineStartInfo.baseMediaDecodeTime+n),"audio"===e.type&&(i*=e.samplerate/et,i=Math.floor(i)),i},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},e0=ej,e1=eG.isLikelyAacData,e2=Z.ONE_SECOND_IN_TS,e4=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],e5=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],e3=function(e,t){t.stream=e,this.trigger("log",t)},e8=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++){var r=i[n];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",e3.bind(e,r))}},e6=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},e7=function(e,t,i,n,r,s){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(n-t),pts:e+(r-i)},prependedContentDuration:s,baseMediaDecodeTime:e}};(eK=function(e,t){var i,n=[],r=0,s=0,a=1/0;i=(t=t||{}).firstSequenceNumber||0,eK.prototype.init.call(this),this.push=function(t){eZ.collectDtsInfo(e,t),e&&e4.forEach(function(i){e[i]=t[i]}),n.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){s=e},this.flush=function(){var o,l,c,u,h,d,p;0!==n.length&&(o=eJ.trimAdtsFramesByEarliestDts(n,e,r),e.baseMediaDecodeTime=eZ.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),p=eJ.prefixWithSilence(e,o,s,a),e.samples=eJ.generateSampleTable(o),c=K.mdat(eJ.concatenateFrameData(o)),n=[],u=new Uint8Array((l=K.moof(i,[e])).byteLength+c.byteLength),i++,u.set(l),u.set(c,l.byteLength),eZ.clearDtsInfo(e),h=Math.ceil(1024*e2/e.samplerate),o.length&&(d=o.length*h,this.trigger("segmentTimingInfo",e7(Z.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),o[0].dts,o[0].pts,o[0].dts+d,o[0].pts+d,p||0)),this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+d})),this.trigger("data",{track:e,boxes:u})),this.trigger("done","AudioSegmentStream")},this.reset=function(){eZ.clearDtsInfo(e),n=[],this.trigger("reset")}}).prototype=new e,(eX=function(e,t){var i,n,r,s=[],a=[];i=(t=t||{}).firstSequenceNumber||0,eX.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){eZ.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],e5.forEach(function(t){e[t]=n[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),s.push(t)},this.flush=function(){for(var n,r,o,l,c,u,h,d,p,f=0;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=e$.groupNalsIntoFrames(s),(l=e$.groupFramesIntoGops(r))[0][0].keyFrame||((o=this.getGopForFusion_(s[0],e))?(f=o.duration,l.unshift(o),l.byteLength+=o.byteLength,l.nalCount+=o.nalCount,l.pts=o.pts,l.dts=o.dts,l.duration+=o.duration):l=e$.extendFirstKeyFrame(l)),a.length){if(!(n=t.alignGopsAtEnd?this.alignGopsAtEnd_(l):this.alignGopsAtStart_(l)))return this.gopCache_.unshift({gop:l.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");eZ.clearDtsInfo(e),l=n}eZ.collectDtsInfo(e,l),e.samples=e$.generateSampleTable(l),u=K.mdat(e$.concatenateNalData(l)),e.baseMediaDecodeTime=eZ.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",l.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),d=l[0],p=l[l.length-1],this.trigger("segmentTimingInfo",e7(e.baseMediaDecodeTime,d.dts,d.pts,p.dts+p.duration,p.pts+p.duration,f)),this.trigger("timingInfo",{start:l[0].pts,end:l[l.length-1].pts+l[l.length-1].duration}),this.gopCache_.unshift({gop:l.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),h=new Uint8Array((c=K.moof(i,[e])).byteLength+u.byteLength),i++,h.set(c),h.set(u,c.byteLength),this.trigger("data",{track:e,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),s=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){eZ.clearDtsInfo(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var i,n,r,s,a,o=1/0;for(a=0;a<this.gopCache_.length;a++)r=(s=this.gopCache_[a]).gop,e.pps&&e6(e.pps[0],s.pps[0])&&e.sps&&e6(e.sps[0],s.sps[0])&&(r.dts<e.timelineStartInfo.dts||(i=t.dts-r.dts-r.duration)>=-1e4&&i<=45e3&&(!n||o>i)&&(n=s,o=i));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,i,n,r,s,o,l,c;for(s=e.byteLength,o=e.nalCount,l=e.duration,t=i=0;t<a.length&&i<e.length&&(n=a[t],r=e[i],n.pts!==r.pts);)r.pts>n.pts?t++:(i++,s-=r.byteLength,o-=r.nalCount,l-=r.duration);return 0===i?e:i===e.length?null:((c=e.slice(i)).byteLength=s,c.duration=l,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){for(t=a.length-1,i=e.length-1,s=null,o=!1;t>=0&&i>=0;){if(n=a[t],r=e[i],n.pts===r.pts){o=!0;break}n.pts>r.pts?t--:(t===a.length-1&&(s=i),i--)}if(!o&&null===s)return null;if(0===(l=o?i:s))return e;var t,i,n,r,s,o,l,c=e.slice(l),u=c.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){a=e}}).prototype=new e,(eQ=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,eQ.prototype.init.call(this),this.push=function(e){return e.content||e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new e,eQ.prototype.flush=function(e){var t,i,n,r,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e||this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,e5.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,e4.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=K.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=Z.metadataTsToSeconds(t.startPts,o,this.keepOriginalTimestamps),t.endTime=Z.metadataTsToSeconds(t.endPts,o,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=Z.metadataTsToSeconds(i.pts,o,this.keepOriginalTimestamps),a.metadata.push(i);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)t=a.captions[r],this.trigger("caption",t);for(r=0;r<a.metadata.length;r++)i=a.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},eQ.prototype.setRemux=function(e){this.remuxTracks=e},(eY=function(e){var t,i,n=this,r=!0;eY.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new eL.MetadataStream,r.aacStream=new e0,r.audioTimestampRolloverStream=new eL.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new eL.TimestampRolloverStream("timed-metadata"),r.adtsStream=new eR,r.coalesceStream=new eQ(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",function(e){r.aacStream.setTimestamp(e.timeStamp)}),r.aacStream.on("data",function(s){"timed-metadata"!==s.type&&"audio"!==s.type||r.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new eK(i,e),r.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t}))}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),e8(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new eL.MetadataStream,r.packetStream=new eL.TransportPacketStream,r.parseStream=new eL.TransportParseStream,r.elementaryStream=new eL.ElementaryStream,r.timestampRolloverStream=new eL.TimestampRolloverStream,r.adtsStream=new eR,r.h264Stream=new eq,r.captionStream=new eL.CaptionStream(e),r.coalesceStream=new eQ(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(s){var a;if("metadata"===s.type){for(a=s.tracks.length;a--;)t||"video"!==s.tracks[a].type?i||"audio"!==s.tracks[a].type||((i=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(t=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new eX(t,e),r.videoSegmentStream.on("log",n.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",function(t){i&&!e.keepOriginalTimestamps&&(i.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-n.baseMediaDecodeTime))}),r.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),r.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new eK(i,e),r.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t})}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",function(e){e.dispatchType=r.metadataStream.dispatchType,n.trigger("id3Frame",e)}),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),e8(this,r)},this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,eZ.clearDtsInfo(i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,eZ.clearDtsInfo(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var i=this.transmuxPipeline_;e.remux=t,i&&i.coalesceStream&&i.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(i){i.stream=e,t.trigger("log",i)}},this.push=function(e){if(r){var t=e1(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new e;var e9,te,tt,ti,tn,tr=eY,ts=function(e){return e>>>0},ta=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},to=function(e,t){var i,n,r,s,a,o=[];if(!t.length)return null;for(i=0;i<e.byteLength;)n=ts(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),r=ta(e.subarray(i+4,i+8)),s=n>1?i+n:e.byteLength,r===t[0]&&(1===t.length?o.push(e.subarray(i+8,s)):(a=to(e.subarray(i+8,s),t.slice(1))).length&&(o=o.concat(a))),i=s;return o},tl=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},tc=(e9=window,ei.discardEmulationPreventionBytes),tu=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=U(e.subarray(4)):t.baseMediaDecodeTime=ts(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},th=function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&i.flags[2],s=4&i.flags[2],a=1&i.flags[1],o=2&i.flags[1],l=4&i.flags[1],c=8&i.flags[1],u=n.getUint32(4),h=8;for(r&&(i.dataOffset=n.getInt32(h),h+=4),s&&u&&(t={flags:tl(e.subarray(h,h+4))},h+=4,a&&(t.duration=n.getUint32(h),h+=4),o&&(t.size=n.getUint32(h),h+=4),c&&(1===i.version?t.compositionTimeOffset=n.getInt32(h):t.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(t),u--);u--;)t={},a&&(t.duration=n.getUint32(h),h+=4),o&&(t.size=n.getUint32(h),h+=4),l&&(t.flags=tl(e.subarray(h,h+4)),h+=4),c&&(1===i.version?t.compositionTimeOffset=n.getInt32(h):t.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(t);return i},td=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],s=2&n.flags[2],a=8&n.flags[2],o=16&n.flags[2],l=32&n.flags[2],c=65536&n.flags[0],u=131072&n.flags[0];return t=8,r&&(t+=4,n.baseDataOffset=i.getUint32(12),t+=4),s&&(n.sampleDescriptionIndex=i.getUint32(t),t+=4),a&&(n.defaultSampleDuration=i.getUint32(t),t+=4),o&&(n.defaultSampleSize=i.getUint32(t),t+=4),l&&(n.defaultSampleFlags=i.getUint32(t)),c&&(n.durationIsEmpty=!0),!r&&u&&(n.baseDataOffsetIsMoof=!0),n},tp=function(e,t){for(var i=e,n=0;n<t.length;n++){var r=t[n];if(i<r.size)return r;i-=r.size}return null},tf=function(e,t){var i=to(e,["moof","traf"]),n=to(e,["mdat"]),r={},s=[];return n.forEach(function(e,t){var n=i[t];s.push({mdat:e,traf:n})}),s.forEach(function(e){var i,n,s,a,o,l,c=e.mdat,u=e.traf,h=td(to(u,["tfhd"])[0]),d=h.trackId,p=to(u,["tfdt"]),f=p.length>0?tu(p[0]).baseMediaDecodeTime:0,m=to(u,["trun"]);t===d&&m.length>0&&(i=f,n=h.defaultSampleDuration||0,s=h.defaultSampleSize||0,a=h.trackId,o=[],m.forEach(function(e){var t=th(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=n),void 0===e.size&&(e.size=s),e.trackId=a,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+e9.BigInt(e.compositionTimeOffset),i+=e9.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)}),o=o.concat(t)}),l=function(e,t,i){var n,r,s,a,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=s)if(s=o.getUint32(r),r+=4,!(s<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+s),u=tp(r,t);if(n={nalUnitType:"sei_rbsp",size:s,data:c,escapedRBSP:tc(c),trackId:i},u)n.pts=u.pts,n.dts=u.dts,a=u;else{if(!a){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+i+". See mux.js#223."});break}n.pts=a.pts,n.dts=a.dts}l.seiNals.push(n)}return l}(c,o,d),r[d]||(r[d]={seiNals:[],logs:[]}),r[d].seiNals=r[d].seiNals.concat(l.seiNals),r[d].logs=r[d].logs.concat(l.logs))}),r},tm=function(){var e,t,i,n,r,s,a=!1;this.isInitialized=function(){return a},this.init=function(t){e=new en,a=!0,s=!!t&&t.isPartial,e.on("data",function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,r.captions.push(e),r.captionStreams[e.stream]=!0}),e.on("log",function(e){r.logs.push(e)})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(i!==e[0]||n!==t[i])},this.parse=function(e,s,a){var o;if(!this.isInitialized()||!s||!a)return null;if(this.isNewInit(s,a))n=a[i=s[0]];else if(null===i||!n)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,s,a)}return(o=function(e,t,i){if(null===t)return null;var n=tf(e,t)[t]||{};return{seiNals:n.seiNals,logs:n.logs,timescale:i}}(e,i,n))&&o.logs&&(r.logs=r.logs.concat(o.logs)),null!==o&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;s?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],i=null,n=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},tg=function(e){for(var t=0,i=String.fromCharCode(e[t]),n="";"\0"!==i;)n+=i,i=String.fromCharCode(e[++t]);return n+i},ty=function(e,t){var i="\0"!==t.scheme_id_uri,n=0===e&&t_(t.presentation_time_delta)&&i,r=1===e&&t_(t.presentation_time)&&i;return!(e>1)&&n||r},t_=function(e){return void 0!==e||null!==e},tv=function(e){return("00"+e.toString(16)).slice(-2)},tb=function(e){var t,i,n,r,s,a,o,l,c=4,u=e[0];0===u?(c+=(i=tg(e.subarray(c))).length,c+=(n=tg(e.subarray(c))).length,r=(t=new DataView(e.buffer)).getUint32(c),c+=4,a=t.getUint32(c),c+=4,o=t.getUint32(c),c+=4,l=t.getUint32(c),c+=4):1===u&&(r=(t=new DataView(e.buffer)).getUint32(c),c+=4,s=U(e.subarray(c)),c+=8,o=t.getUint32(c),c+=4,l=t.getUint32(c),c+=4,c+=(i=tg(e.subarray(c))).length,c+=(n=tg(e.subarray(c))).length);var h={scheme_id_uri:i,value:n,timescale:r||1,presentation_time:s,presentation_time_delta:a,event_duration:o,id:l,message_data:new Uint8Array(e.subarray(c,e.byteLength))};return ty(u,h)?h:void 0},tT=function(e,t,i,n){return e||0===e?e/t:n+i/t},tS=eC.parseId3Frames;te=function(e,t){var i=to(t,["moof","traf"]).reduce(function(t,i){let n;var r,s=to(i,["tfhd"])[0],a=e[ts(s[4]<<24|s[5]<<16|s[6]<<8|s[7])]||9e4,o=to(i,["tfdt"])[0],l=new DataView(o.buffer,o.byteOffset,o.byteLength);return"bigint"==typeof(r=1===o[0]?U(o.subarray(4,12)):l.getUint32(4))?n=r/e9.BigInt(a):"number"!=typeof r||isNaN(r)||(n=r/a),n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n<t&&(t=n),t},1/0);return"bigint"==typeof i||isFinite(i)?i:0},ti=function(e){var t=0===e[0]?12:20;return ts(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},tt=function(e){var t=to(e,["moov","trak"]),i=[];return t.forEach(function(e){var t,n,r={},s=to(e,["tkhd"])[0];s&&(n=(t=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0),r.id=0===n?t.getUint32(12):t.getUint32(20));var a=to(e,["mdia","hdlr"])[0];if(a){var o=ta(a.subarray(8,12));r.type="vide"===o?"video":"soun"===o?"audio":o}var l=to(e,["mdia","minf","stbl","stsd"])[0];if(l){var c=l.subarray(8);r.codec=ta(c.subarray(4,8));var u,h=to(c,[r.codec])[0];h&&(/^[asm]vc[1-9]$/i.test(r.codec)?"avcC"===ta((u=h.subarray(78)).subarray(4,8))&&u.length>11?(r.codec+=".",r.codec+=tv(u[9]),r.codec+=tv(u[10]),r.codec+=tv(u[11])):r.codec="avc1.4d400d":/^mp4[a,v]$/i.test(r.codec)?"esds"===ta((u=h.subarray(28)).subarray(4,8))&&u.length>20&&0!==u[19]?(r.codec+="."+tv(u[19]),r.codec+="."+tv(u[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2":r.codec=r.codec.toLowerCase())}var d=to(e,["mdia","mdhd"])[0];d&&(r.timescale=ti(d)),i.push(r)}),i},tn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return to(e,["emsg"]).map(e=>{var i=tb(new Uint8Array(e)),n=tS(i.message_data);return{cueTime:tT(i.presentation_time,i.timescale,i.presentation_time_delta,t),duration:tT(i.event_duration,i.timescale),frames:n}})};var tw=function(e){var t=31&e[1];return t<<=8,t|=e[2]},tE=function(e){return!!(64&e[1])},tC=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},tk=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},tx={};tx.ts={parseType:function(e,t){var i=tw(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=tE(e),i=4+tC(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t,i={},n=tE(e),r=4+tC(e);if(n&&(r+=e[r]+1),1&e[r+5]){t=3+((15&e[r+1])<<8|e[r+2])-4;for(var s=12+((15&e[r+10])<<8|e[r+11]);s<t;){var a=r+s;i[(31&e[a+1])<<8|e[a+2]]=e[a],s+=5+((15&e[a+3])<<8|e[a+4])}return i}},parsePayloadUnitStartIndicator:tE,parsePesType:function(e,t){switch(t[tw(e)]){case ef.H264_STREAM_TYPE:return"video";case ef.ADTS_STREAM_TYPE:return"audio";case ef.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!tE(e))return null;var t=4+tC(e);if(t>=e.byteLength)return null;var i,n=null;return 192&(i=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+tC(e),i=e.subarray(t),n=0,r=0,s=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===tk(31&i[r+3])&&(s=!0);do n++;while(1!==i[n]&&n<i.length);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===tk(31&i[r+3])&&(s=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===tk(31&i[r+3])&&(s=!0),s}},tx.aac=eG;var tI=Z.ONE_SECOND_IN_TS,tA=function(e,t,i){for(var n,r,s,a,o=0,l=188,c=!1;l<=e.byteLength;)if(71!==e[o]||71!==e[l]&&l!==e.byteLength)o++,l++;else{if(n=e.subarray(o,l),"pes"===tx.ts.parseType(n,t.pid)&&(r=tx.ts.parsePesType(n,t.table),s=tx.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(a=tx.ts.parsePesTime(n))&&(a.type="audio",i.audio.push(a),c=!0)),c)break;o+=188,l+=188}for(o=(l=e.byteLength)-188,c=!1;o>=0;)if(71!==e[o]||71!==e[l]&&l!==e.byteLength)o--,l--;else{if(n=e.subarray(o,l),"pes"===tx.ts.parseType(n,t.pid)&&(r=tx.ts.parsePesType(n,t.table),s=tx.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(a=tx.ts.parsePesTime(n))&&(a.type="audio",i.audio.push(a),c=!0)),c)break;o-=188,l-=188}},tL=function(e,t,i){for(var n,r,s,a,o,l,c,u=0,h=188,d=!1,p={data:[],size:0};h<e.byteLength;)if(71!==e[u]||71!==e[h])u++,h++;else{if(n=e.subarray(u,h),"pes"===tx.ts.parseType(n,t.pid)&&(r=tx.ts.parsePesType(n,t.table),s=tx.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(s&&!d&&(a=tx.ts.parsePesTime(n))&&(a.type="video",i.video.push(a),d=!0),!i.firstKeyFrame))){if(s&&0!==p.size){for(o=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),o.set(c,l),l+=c.byteLength;if(tx.ts.videoPacketContainsKeyFrame(o)){var f=tx.ts.parsePesTime(o);f?(i.firstKeyFrame=f,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(n),p.size+=n.byteLength}if(d&&i.firstKeyFrame)break;u+=188,h+=188}for(u=(h=e.byteLength)-188,d=!1;u>=0;)if(71!==e[u]||71!==e[h])u--,h--;else{if(n=e.subarray(u,h),"pes"===tx.ts.parseType(n,t.pid)&&(r=tx.ts.parsePesType(n,t.table),s=tx.ts.parsePayloadUnitStartIndicator(n),"video"===r&&s&&(a=tx.ts.parsePesTime(n))&&(a.type="video",i.video.push(a),d=!0)),d)break;u-=188,h-=188}},tO=function(e){var t={pid:null,table:null},i={};for(var n in function(e,t){for(var i,n=0,r=188;r<e.byteLength;)if(71!==e[n]||71!==e[r])n++,r++;else{switch(i=e.subarray(n,r),tx.ts.parseType(i,t.pid)){case"pat":t.pid=tx.ts.parsePat(i);break;case"pmt":var s=tx.ts.parsePmt(i);t.table=t.table||{},Object.keys(s).forEach(function(e){t.table[e]=s[e]})}n+=188,r+=188}}(e,t),t.table)if(t.table.hasOwnProperty(n))switch(t.table[n]){case ef.H264_STREAM_TYPE:i.video=[],tL(e,t,i),0===i.video.length&&delete i.video;break;case ef.ADTS_STREAM_TYPE:i.audio=[],tA(e,t,i),0===i.audio.length&&delete i.audio}return i},tP=function(e,t){var i;return(i=tx.aac.isLikelyAacData(e)?function(e){for(var t,i=!1,n=0,r=null,s=null,a=0,o=0;e.length-o>=3;){switch(tx.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10||(a=tx.aac.parseId3TagSize(e,o))>e.length){i=!0;break}null===s&&(t=e.subarray(o,o+a),s=tx.aac.parseAacTimestamp(t)),o+=a;break;case"audio":if(e.length-o<7||(a=tx.aac.parseAdtsSize(e,o))>e.length){i=!0;break}null===r&&(t=e.subarray(o,o+a),r=tx.aac.parseSampleRate(t)),n++,o+=a;break;default:o++}if(i)return null}if(null===r||null===s)return null;var l=tI/r;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*n*l,pts:s+1024*n*l}]}}(e):tO(e))&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;(void 0===i||isNaN(i))&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=eg(e.dts,i),e.pts=eg(e.pts,i),e.dtsTime=e.dts/tI,e.ptsTime=e.pts/tI})}if(e.video&&e.video.length){var n=t;if((void 0===n||isNaN(n))&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=eg(e.dts,n),e.pts=eg(e.pts,n),e.dtsTime=e.dts/tI,e.ptsTime=e.pts/tI}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=eg(r.dts,n),r.pts=eg(r.pts,n),r.dtsTime=r.dts/tI,r.ptsTime=r.pts/tI}}}(i,t),i):null};class tD{init(){var e,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new tr(this.options),e=this.self,(t=this.transmuxer).on("data",function(t){let i=t.initSegment;t.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};let n=t.data;t.data=n.buffer,e.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.on("done",function(t){e.postMessage({action:"done"})}),t.on("gopInfo",function(t){e.postMessage({action:"gopInfo",gopInfo:t})}),t.on("videoSegmentTimingInfo",function(t){let i={start:{decode:Z.videoTsToSeconds(t.start.dts),presentation:Z.videoTsToSeconds(t.start.pts)},end:{decode:Z.videoTsToSeconds(t.end.dts),presentation:Z.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:Z.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=Z.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:i})}),t.on("audioSegmentTimingInfo",function(t){let i={start:{decode:Z.videoTsToSeconds(t.start.dts),presentation:Z.videoTsToSeconds(t.start.pts)},end:{decode:Z.videoTsToSeconds(t.end.dts),presentation:Z.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:Z.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=Z.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:i})}),t.on("id3Frame",function(t){e.postMessage({action:"id3Frame",id3Frame:t})}),t.on("caption",function(t){e.postMessage({action:"caption",caption:t})}),t.on("trackinfo",function(t){e.postMessage({action:"trackinfo",trackInfo:t})}),t.on("audioTimingInfo",function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Z.videoTsToSeconds(t.start),end:Z.videoTsToSeconds(t.end)}})}),t.on("videoTimingInfo",function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Z.videoTsToSeconds(t.start),end:Z.videoTsToSeconds(t.end)}})}),t.on("log",function(t){e.postMessage({action:"log",log:t})})}pushMp4Captions(e){this.captionParser||(this.captionParser=new tm,this.captionParser.init());let t=new Uint8Array(e.data,e.byteOffset,e.byteLength),i=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:i&&i.captions||[],logs:i&&i.logs||[],data:t.buffer},[t.buffer])}probeMp4StartTime(e){let{timescales:t,data:i}=e,n=te(t,i);this.self.postMessage({action:"probeMp4StartTime",startTime:n,data:i},[i.buffer])}probeMp4Tracks(e){let{data:t}=e,i=tt(t);this.self.postMessage({action:"probeMp4Tracks",tracks:i,data:t},[t.buffer])}probeEmsgID3(e){let{data:t,offset:i}=e,n=tn(t,i);this.self.postMessage({action:"probeEmsgID3",id3Frames:n,emsgData:t},[t.buffer])}probeTs(e){let{data:t,baseStartTime:i}=e,n=tP(t,"number"!=typeof i||isNaN(i)?void 0:i*Z.ONE_SECOND_IN_TS),r=null;n&&((r={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1}).hasVideo&&(r.videoStart=n.video[0].ptsTime),r.hasAudio&&(r.audioStart=n.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:r,data:t},[t.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(e){let t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}reset(){this.transmuxer.reset()}setTimestampOffset(e){let t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Z.secondsToVideoTs(t)))}setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(Z.secondsToVideoTs(e.appendStart)))}setRemux(e){this.transmuxer.setRemux(e.remux)}flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}constructor(e,t){this.options=t||{},this.self=e,this.init()}}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new tD(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new tD(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})));let vq=e=>{let{transmuxer:t,bytes:i,audioAppendStart:n,gopsToAlignWith:r,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:u,onAudioSegmentTimingInfo:h,onId3:d,onCaptions:p,onDone:f,onEndedTimeline:m,onTransmuxerLog:g,isEndOfTimeline:y,segment:_,triggerSegmentEventFn:v}=e,b={buffer:[]},T=y;if(t.onmessage=i=>{t.currentTransmux===e&&("data"===i.data.action&&((e,t,i)=>{let{type:n,initSegment:r,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:c}=e.data.segment;t.buffer.push({captions:s,captionStreams:a,metadata:o});let u=e.data.segment.boxes||{data:e.data.segment.data},h={type:n,data:new Uint8Array(u.data,u.data.byteOffset,u.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};void 0!==l&&(h.videoFrameDtsTime=l),void 0!==c&&(h.videoFramePtsTime=c),i(h)})(i,b,a),"trackinfo"===i.data.action&&o(i.data.trackInfo),"gopInfo"===i.data.action&&(b.gopInfo=i.data.gopInfo),"audioTimingInfo"===i.data.action&&l(i.data.audioTimingInfo),"videoTimingInfo"===i.data.action&&c(i.data.videoTimingInfo),"videoSegmentTimingInfo"===i.data.action&&u(i.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===i.data.action&&h(i.data.audioSegmentTimingInfo),"id3Frame"===i.data.action&&d([i.data.id3Frame],i.data.id3Frame.dispatchType),"caption"===i.data.action&&p(i.data.caption),"endedtimeline"===i.data.action&&(T=!1,m()),"log"===i.data.action&&g(i.data.log),"transmuxed"===i.data.type&&(T||(t.onmessage=null,(e=>{let{transmuxedData:t,callback:i}=e;t.buffer=[],i(t)})({transmuxedData:b,callback:f}),vH(t))))},t.onerror=()=>{f(null,{message:"Received an error message from the transmuxer worker",metadata:{errorType:_k.Error.StreamingFailedToTransmuxSegment,segmentInfo:bS({segment:_})}})},n&&t.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==s&&t.postMessage({action:"setRemux",remux:s}),i.byteLength){let e=i instanceof ArrayBuffer?i:i.buffer,n=i instanceof ArrayBuffer?0:i.byteOffset;v({type:"segmenttransmuxingstart",segment:_}),t.postMessage({action:"push",data:e,byteOffset:n,byteLength:i.byteLength},[e])}y&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},vH=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():vq(e.currentTransmux))},vV=(e,t)=>{e.postMessage({action:t}),vH(e)},vz=(e,t)=>{if(!t.currentTransmux)return t.currentTransmux=e,void vV(t,e);t.transmuxQueue.push(vV.bind(null,t,e))},vW=e=>{if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void vq(e);e.transmuxer.transmuxQueue.push(e)};var vG=e=>{vz("reset",e)},vX=e=>{let t=new vj;t.currentTransmux=null,t.transmuxQueue=[];let i=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,i.call(t)),t.postMessage({action:"init",options:e}),t};let vK=function(e){let t=e.transmuxer,i=e.endAction||e.action,n=e.callback,r=uR({},e,{endAction:null,transmuxer:null,callback:null}),s=r=>{r.data.action===i&&(t.removeEventListener("message",s),r.data.data&&(r.data.data=new Uint8Array(r.data.data,e.byteOffset||0,e.byteLength||r.data.data.byteLength),e.data&&(e.data=r.data.data)),n(r.data))};if(t.addEventListener("message",s),e.data){let i=e.data instanceof ArrayBuffer;r.byteOffset=i?0:e.data.byteOffset,r.byteLength=e.data.byteLength;let n=[i?e.data:e.data.buffer];t.postMessage(r,n)}else t.postMessage(r)},vY=e=>{e.forEach(e=>{e.abort()})},vQ=(e,t)=>{let{requestType:i}=t,n=vr({requestType:i,request:t,error:e});return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:-101,xhr:t,metadata:n}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:-102,xhr:t,metadata:n}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t,metadata:n}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:2,xhr:t,metadata:n}:null},v$=(e,t,i,n)=>(r,s)=>{let a=s.response,o=vQ(r,s);if(o)return i(o,e);if(16!==a.byteLength)return i({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:2,xhr:s},e);let l=new DataView(a),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let e=0;e<t.length;e++)t[e].bytes=c;return n({type:"segmentkeyloadcomplete",segment:e,keyInfo:{uri:s.uri}}),i(null,e)},vJ=(e,t)=>{let i=fr(e.map.bytes);if("mp4"!==i){let n=e.map.resolvedUri||e.map.uri,r=i||"unknown";return t({internal:!0,message:"Found unsupported ".concat(r," container for initialization segment at URL: ").concat(n),code:2,metadata:{mediaType:r}})}vK({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:i=>{let{tracks:n,data:r}=i;return e.map.bytes=r,n.forEach(function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))}),t(null)}})},vZ=e=>{let{segment:t,finishProcessingFn:i,responseType:n,triggerSegmentEventFn:r}=e;return(e,s)=>{let a=vQ(e,s);if(a)return i(a,t);r({type:"segmentloaded",segment:t});let o="arraybuffer"!==n&&s.responseText?(e=>{let t=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer})(s.responseText.substring(t.lastReachedChar||0)):s.response;return t.stats={bandwidth:s.bandwidth,bytesReceived:s.bytesReceived||0,roundTripTime:s.roundTripTime||0},t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),i(null,t)}},v0=e=>{let{segment:t,bytes:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p,triggerSegmentEventFn:f}=e,m=t.map&&t.map.tracks||{},g=!!(m.audio&&m.video),y=r.bind(null,t,"audio","start"),_=r.bind(null,t,"audio","end"),v=r.bind(null,t,"video","start"),b=r.bind(null,t,"video","end");vK({action:"probeTs",transmuxer:t.transmuxer,data:i,baseStartTime:t.baseStartTime,callback:e=>{t.bytes=i=e.data;let r=e.result;r&&(n(t,{hasAudio:r.hasAudio,hasVideo:r.hasVideo,isMuxed:g}),n=null),vW({bytes:i,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:g,onData:e=>{e.type="combined"===e.type?"video":e.type,h(t,e)},onTrackInfo:e=>{n&&(g&&(e.isMuxed=!0),n(t,e))},onAudioTimingInfo:e=>{y&&void 0!==e.start&&(y(e.start),y=null),_&&void 0!==e.end&&_(e.end)},onVideoTimingInfo:e=>{v&&void 0!==e.start&&(v(e.start),v=null),b&&void 0!==e.end&&b(e.end)},onVideoSegmentTimingInfo:e=>{f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:{pts:{start:e.start.presentation,end:e.end.presentation},dts:{start:e.start.decode,end:e.end.decode}}}),s(e)},onAudioSegmentTimingInfo:e=>{f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:{pts:{start:e.start.pts,end:e.end.pts},dts:{start:e.start.dts,end:e.end.dts}}}),a(e)},onId3:(e,i)=>{o(t,e,i)},onCaptions:e=>{l(t,[e])},isEndOfTimeline:c,onEndedTimeline:()=>{u()},onTransmuxerLog:p,onDone:(e,i)=>{d&&(e.type="combined"===e.type?"video":e.type,f({type:"segmenttransmuxingcomplete",segment:t}),d(i,t,e))},segment:t,triggerSegmentEventFn:f})}})},v1=e=>{let{segment:t,bytes:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p,triggerSegmentEventFn:f}=e,m=new Uint8Array(i);if(pZ(m,["moof"]).length>0){t.isFmp4=!0;let{tracks:e}=t.map,s={isFmp4:!0,hasVideo:!!e.video,hasAudio:!!e.audio};e.audio&&e.audio.codec&&"enca"!==e.audio.codec&&(s.audioCodec=e.audio.codec),e.video&&e.video.codec&&"encv"!==e.video.codec&&(s.videoCodec=e.video.codec),e.video&&e.audio&&(s.isMuxed=!0),n(t,s);let a=(e,i)=>{h(t,{data:m,type:s.hasAudio&&!s.isMuxed?"audio":"video"}),i&&i.length&&o(t,i),e&&e.length&&l(t,e),d(null,t,{})};vK({action:"probeMp4StartTime",timescales:t.map.timescales,data:m,transmuxer:t.transmuxer,callback:n=>{let{data:o,startTime:l}=n;i=o.buffer,t.bytes=m=o,s.hasAudio&&!s.isMuxed&&r(t,"audio","start",l),s.hasVideo&&r(t,"video","start",l),vK({action:"probeEmsgID3",data:m,transmuxer:t.transmuxer,offset:l,callback:n=>{let{emsgData:r,id3Frames:s}=n;i=r.buffer,t.bytes=m=r,e.video&&r.byteLength&&t.transmuxer?vK({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:m,timescales:t.map.timescales,trackIds:[e.video.id],callback:e=>{i=e.data.buffer,t.bytes=m=e.data,e.logs.forEach(function(e){p(_D(e,{stream:"mp4CaptionParser"}))}),a(e.captions,s)}}):a(void 0,s)}})}})}else if(t.transmuxer){if(void 0===t.container&&(t.container=fr(m)),"ts"!==t.container&&"aac"!==t.container)return n(t,{hasAudio:!1,hasVideo:!1}),void d(null,t,{});v0({segment:t,bytes:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p,triggerSegmentEventFn:f})}else d(null,t,{})},v2=function(e,t){let i,{id:n,key:r,encryptedBytes:s,decryptionWorker:a,segment:o,doneFn:l}=e,c=e=>{if(e.data.source===n){a.removeEventListener("message",c);let i=e.data.decrypted;t(new Uint8Array(i.bytes,i.byteOffset,i.byteLength))}};a.onerror=()=>{let e="An error occurred in the decryption worker",t=bS({segment:o});l({message:e,metadata:{error:Error(e),errorType:_k.Error.StreamingFailedToDecryptSegment,segmentInfo:t,keyInfo:{uri:o.key.resolvedUri||o.map.key.resolvedUri}}},o)},a.addEventListener("message",c),i=r.bytes.slice?r.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.bytes)),a.postMessage(vv({source:n,encrypted:s,key:i,iv:r.iv}),[s.buffer,i.buffer])},v4=e=>{let{activeXhrs:t,decryptionWorker:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p,triggerSegmentEventFn:f}=e,m=0,g=!1;return(e,y)=>{if(!g){if(e)return g=!0,vY(t),d(e,y);if((m+=1)===t.length){let e=function(){if(y.encryptedBytes)return(e=>{let{decryptionWorker:t,segment:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p,triggerSegmentEventFn:f}=e;f({type:"segmentdecryptionstart"}),v2({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:t,segment:i,doneFn:d},e=>{i.bytes=e,f({type:"segmentdecryptioncomplete",segment:i}),v1({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p,triggerSegmentEventFn:f})})})({decryptionWorker:i,segment:y,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p,triggerSegmentEventFn:f});v1({segment:y,bytes:y.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:d,onTransmuxerLog:p,triggerSegmentEventFn:f})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return f({type:"segmentdecryptionstart",segment:y}),v2({decryptionWorker:i,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key,segment:y,doneFn:d},i=>{y.map.bytes=i,f({type:"segmentdecryptioncomplete",segment:y}),vJ(y,i=>{if(i)return vY(t),d(i,y);e()})});e()}}}},v5=e=>{let{segment:t,progressFn:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h}=e;return e=>{if(!e.target.aborted)return t.stats=_D(t.stats,(e=>{let t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8e3),i})(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),i(e,t)}},v3=e=>{let{xhr:t,xhrOptions:i,decryptionWorker:n,segment:r,abortFn:s,progressFn:a,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:d,isEndOfTimeline:p,endedTimelineFn:f,dataFn:m,doneFn:g,onTransmuxerLog:y,triggerSegmentEventFn:_}=e,v=[],b=v4({activeXhrs:v,decryptionWorker:n,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:d,isEndOfTimeline:p,endedTimelineFn:f,dataFn:m,doneFn:g,onTransmuxerLog:y,triggerSegmentEventFn:_});if(r.key&&!r.key.bytes){let e=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&e.push(r.map.key);let n=_D(i,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),s=v$(r,e,b,_);_({type:"segmentkeyloadstart",segment:r,keyInfo:{uri:r.key.resolvedUri}});let a=t(n,s);v.push(a)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){let e=_D(i,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),n=v$(r,[r.map.key],b,_);_({type:"segmentkeyloadstart",segment:r,keyInfo:{uri:r.map.key.resolvedUri}});let s=t(e,n);v.push(s)}let e=_D(i,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:vg(r.map),requestType:"segment-media-initialization"}),n=(e=>{let{segment:t,finishProcessingFn:i,triggerSegmentEventFn:n}=e;return(e,r)=>{let s=vQ(e,r);if(s)return i(s,t);let a=new Uint8Array(r.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,i(null,t);t.map.bytes=a,vJ(t,function(e){if(e)return e.xhr=r,e.status=r.status,i(e,t);i(null,t)})}})({segment:r,finishProcessingFn:b,triggerSegmentEventFn:_});_({type:"segmentloadstart",segment:r});let s=t(e,n);v.push(s)}let T=_D(i,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:vg(r),requestType:"segment"}),S=vZ({segment:r,finishProcessingFn:b,responseType:T.responseType,triggerSegmentEventFn:_});_({type:"segmentloadstart",segment:r});let w=t(T,S);w.addEventListener("progress",v5({segment:r,progressFn:a,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:d,isEndOfTimeline:p,endedTimelineFn:f,dataFn:m})),v.push(w);let E={};return v.forEach(e=>{e.addEventListener("loadend",(e=>{let{loadendState:t,abortFn:i}=e;return e=>{e.target.aborted&&i&&!t.calledAbortFn&&(i(),t.calledAbortFn=!0)}})({loadendState:E,abortFn:s}))}),()=>vY(v)},v8=_P("CodecUtils"),v6=(e,t)=>{let i=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},v7=function(e){let t={};return e.forEach(e=>{let{mediaType:i,type:n,details:r}=e;t[i]=t[i]||[],t[i].push(hE("".concat(n).concat(r)))}),Object.keys(t).forEach(function(e){if(t[e].length>1)return v8("multiple ".concat(e," codecs found as attributes: ").concat(t[e].join(", "),". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.")),void(t[e]=null);t[e]=t[e][0]}),t},v9=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},be=function(e,t){let i=t.attributes||{},n=v7(function(e){let t=e.attributes||{};if(t.CODECS)return hC(t.CODECS)}(t)||[]);if(v6(e,t)&&!n.audio&&!((e,t)=>{if(!v6(e,t))return!0;let i=t.attributes||{},n=e.mediaGroups.AUDIO[i.AUDIO];for(let e in n)if(!n[e].uri&&!n[e].playlists)return!0;return!1})(e,t)){let t=v7(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var n in i){var r=i[n];if(r.default&&r.playlists)return hC(r.playlists[0].attributes.CODECS)}return null}(e,i.AUDIO)||[]);t.audio&&(n.audio=t.audio)}return n},bt=_P("PlaylistSelector"),bi=function(e){if(!e||!e.playlist)return;let t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},bn=function(e,t){if(!e)return"";let i=um.getComputedStyle(e);return i?i[t]:""},br=function(e,t){let i=e.slice();e.sort(function(e,n){let r=t(e,n);return 0===r?i.indexOf(e)-i.indexOf(n):r})},bs=function(e,t){let i,n;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||um.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),i-(n=n||um.Number.MAX_VALUE)},ba=function(e,t,i,n,r,s){let a,o,l,c;if(!e)return;let u={bandwidth:t,width:i,height:n,limitRenditionByPlayerDimensions:r},h=e.playlists;_8.isAudioOnly(e)&&(h=s.getAudioTrackPlaylists_(),u.audioOnly=!0);let d=h.map(e=>{let t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||um.Number.MAX_VALUE,width:t,height:i,playlist:e}});br(d,(e,t)=>e.bandwidth-t.bandwidth);let p=(d=d.filter(e=>!_8.isIncompatible(e.playlist))).filter(e=>_8.isEnabled(e.playlist));p.length||(p=d.filter(e=>!_8.isDisabled(e.playlist)));let f=p.filter(e=>e.bandwidth*vM.BANDWIDTH_VARIANCE<t),m=f[f.length-1],g=f.filter(e=>e.bandwidth===m.bandwidth)[0];if(!1===r){let e=g||p[0]||d[0];if(e&&e.playlist){let t="sortedPlaylistReps";return g&&(t="bandwidthBestRep"),p[0]&&(t="enabledPlaylistReps"),bt("choosing ".concat(bi(e)," using ").concat(t," with options"),u),e.playlist}return bt("could not choose a playlist with options",u),null}let y=f.filter(e=>e.width&&e.height);br(y,(e,t)=>e.width-t.width);let _=y.filter(e=>e.width===i&&e.height===n);m=_[_.length-1];let v=_.filter(e=>e.bandwidth===m.bandwidth)[0];if(v||(m=(o=(a=y.filter(e=>e.width>i||e.height>n)).filter(e=>e.width===a[0].width&&e.height===a[0].height))[o.length-1],l=o.filter(e=>e.bandwidth===m.bandwidth)[0]),s.leastPixelDiffSelector){let e=y.map(e=>(e.pixelDiff=Math.abs(e.width-i)+Math.abs(e.height-n),e));br(e,(e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff),c=e[0]}let b=c||l||v||g||p[0]||d[0];if(b&&b.playlist){let e="sortedPlaylistReps";return c?e="leastPixelDiffRep":l?e="resolutionPlusOneRep":v?e="resolutionBestRep":g?e="bandwidthBestRep":p[0]&&(e="enabledPlaylistReps"),bt("choosing ".concat(bi(b)," using ").concat(e," with options"),u),b.playlist}return bt("could not choose a playlist with options",u),null},bo=function(){let e=this.useDevicePixelRatio&&um.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(e=this.customPixelRatio),ba(this.playlists.main,this.systemBandwidth,parseInt(bn(this.tech_.el(),"width"),10)*e,parseInt(bn(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)};function bl(e){try{return new URL(e).pathname.split("/").slice(-2).join("/")}catch(e){return""}}let bc=e=>{let{inbandTextTracks:t,metadataArray:i,timestampOffset:n,videoDuration:r}=e;if(!i)return;let s=um.WebKitDataCue||um.VTTCue,a=t.metadataTrack_;if(!a||(i.forEach(e=>{let t=e.cueTime+n;!("number"!=typeof t||um.isNaN(t)||t<0)&&t<1/0&&e.frames&&e.frames.length&&e.frames.forEach(e=>{let i=new s(t,t,e.value||e.url||e.data||"");i.frame=e,i.value=e,Object.defineProperties(i.frame,{id:{get:()=>(_k.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),i.value.key)},value:{get:()=>(_k.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),i.value.data)},privateData:{get:()=>(_k.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),i.value.data)}}),a.addCue(i)})}),!a.cues||!a.cues.length))return;let o=a.cues,l=[];for(let e=0;e<o.length;e++)o[e]&&l.push(o[e]);let c=l.reduce((e,t)=>{let i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),u=Object.keys(c).sort((e,t)=>Number(e)-Number(t));u.forEach((e,t)=>{let i=c[e],n=isFinite(r)?r:e,s=Number(u[t+1])||n;i.forEach(e=>{e.endTime=s})})},bu={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},bh=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),bd=(e,t,i)=>{e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,_k.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},bp=function(e,t,i){let n,r;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime>=e&&r.endTime<=t&&i.removeCue(r)},bf=e=>"number"==typeof e&&isFinite(e),bm=1/60,bg=e=>{let{startOfSegment:t,duration:i,segment:n,part:r,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:c,timeline:u}=e,h=o.length-1,d="mediaIndex/partIndex increment";e.getMediaInfoForTime?d="getMediaInfoForTime (".concat(e.getMediaInfoForTime,")"):e.isSyncRequest&&(d="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(d+=" with independent ".concat(e.independent));let p="number"==typeof c,f=e.segment.uri?"segment":"pre-segment",m=p?_G({preloadSegment:n})-1:0;return"".concat(f," [").concat(s+l,"/").concat(s+h,"]")+(p?" part [".concat(c,"/").concat(m,"]"):"")+" segment start/end [".concat(n.start," => ").concat(n.end,"]")+(p?" part start/end [".concat(r.start," => ").concat(r.end,"]"):"")+" startOfSegment [".concat(t,"]")+" duration [".concat(i,"]")+" timeline [".concat(u,"]")+" selected by [".concat(d,"]")+" playlist [".concat(a,"]")},by=e=>"".concat(e,"TimingInfo"),b_=e=>{let{timelineChangeController:t,currentTimeline:i,segmentTimeline:n,loaderType:r,audioDisabled:s}=e;if(i===n)return!1;if("audio"===r){let e=t.lastTimelineChange({type:"main"});return!e||e.to!==n}if("main"===r&&s){let e=t.pendingTimelineChange({type:"audio"});return!e||e.to!==n}return!1},bv=e=>{let t=e.pendingSegment_;if(t&&b_({timelineChangeController:e.timelineChangeController_,currentTimeline:e.currentTimeline_,segmentTimeline:t.timeline,loaderType:e.loaderType_,audioDisabled:e.audioDisabled_})&&(e=>{if(!e)return!1;let t=e.pendingTimelineChange({type:"audio"}),i=e.pendingTimelineChange({type:"main"}),n=t&&i,r=n&&t.to!==i.to;return!(!n||-1===t.from||-1===i.from||!r)})(e.timelineChangeController_)){if((e=>{let t=e.timelineChangeController_.pendingTimelineChange({type:"audio"}),i=e.timelineChangeController_.pendingTimelineChange({type:"main"});return t&&i&&t.to<i.to})(e))return void e.timelineChangeController_.trigger("audioTimelineBehind");e&&(e.pause(),e.resetEverything(),e.load())}},bb=e=>{let{segmentDuration:t,maxDuration:i}=e;return!!t&&Math.round(t)>i+_M},bT=(e,t)=>{var i;let n;if("hls"!==t)return null;let r=(i={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},n=0,["video","audio"].forEach(function(e){let t;let r=i["".concat(e,"TimingInfo")];if(!r)return;let{start:s,end:a}=r;"bigint"==typeof s||"bigint"==typeof a?t=um.BigInt(a)-um.BigInt(s):"number"==typeof s&&"number"==typeof a&&(t=a-s),void 0!==t&&t>n&&(n=t)}),"bigint"==typeof n&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n);if(!r)return null;let s=e.playlist.targetDuration,a=bb({segmentDuration:r,maxDuration:2*s}),o=bb({segmentDuration:r,maxDuration:s}),l="Segment with index ".concat(e.mediaIndex," from playlist ").concat(e.playlist.id," has a duration of ").concat(r," when the reported duration is ").concat(e.duration," and the target duration is ").concat(s,". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1");return a||o?{severity:a?"warn":"info",message:l}:null},bS=e=>{let{type:t,segment:i}=e;if(!i)return;let n=!!(i.key||i.map&&i.map.ke),r=!!(i.map&&!i.map.bytes),s=void 0===i.startOfSegment?i.start:i.startOfSegment;return{type:t||i.type,uri:i.resolvedUri||i.uri,start:s,duration:i.duration,isEncrypted:n,isMediaInitialization:r}};class bw extends _k.EventTarget{get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return vX({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&um.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,um.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}error(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&vG(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){let e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return _N();if("main"===this.loaderType_){let{hasAudio:t,hasVideo:i,isMuxed:n}=e;if(i&&t&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;let i=vb(e),n=this.initSegments_[i];return t&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;let i=vT(e),n=this.keyCache_[i];this.cacheEncryptionKeys_&&t&&!n&&e.bytes&&(this.keyCache_[i]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});let r={resolvedUri:(n||e).resolvedUri};return n&&(r.bytes=n.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(this.couldBeginLoading_()&&("READY"===this.state||"INIT"===this.state)&&(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let i=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_("playlist update [".concat(r," => ").concat(e.id||e.uri,"]")),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_("Playlist update:\ncurrentTime: ".concat(this.currentTime_(),"\nbufferedEnd: ").concat(_q(this.buffered_()),"\n"),this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri)return null!==this.mediaIndex&&(e.endList||"number"!=typeof e.partTargetDuration?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");let s=e.mediaSequence-i.mediaSequence;if(this.logger_("live window shift [".concat(s,"]")),null!==this.mediaIndex){if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{let e=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!e.parts||!e.parts.length||!e.parts[this.partIndex])){let e=this.mediaIndex;this.logger_("currently processing part (index ".concat(this.partIndex,") no longer exists.")),this.resetLoader(),this.mediaIndex=e}}}n&&(n.mediaIndex-=s,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(um.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&vG(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;let e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;"hls"!==this.sourceType_||e||(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let r=1,s=()=>{0==--r&&i()};for(let i in!n&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,s)),(n||"main"===this.loaderType_)&&(this.gopBuffer_=((e,t,i,n)=>{let r=Math.ceil((t-n)*9e4),s=Math.ceil((i-n)*9e4),a=e.slice(),o=e.length;for(;o--&&!(e[o].pts<=s););if(-1===o)return a;let l=o+1;for(;l--&&!(e[l].pts<=r););return l=Math.max(l,0),a.splice(l,o-l+1),a})(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,s)),this.inbandTextTracks_)bp(e,t,this.inbandTextTracks_[i]);bp(e,t,this.segmentMetadataTrack_),s()}monitorBuffer_(){this.checkBufferTimeout_&&um.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=um.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&um.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=um.setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){if(this.sourceUpdater_.updating())return;let e=this.chooseNextRequest_();if(!e)return;let t={segmentInfo:bS({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),"number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mediaIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.partIndex;if(!t||!this.mediaSource_)return!1;let n="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,s=!n||!n.parts||i+1===n.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&s}chooseNextRequest_(){let e=this.buffered_(),t=_q(e)||0,i=_H(e,this.currentTime_()),n=!this.hasPlayed_()&&i>=1,r=i>=this.goalBufferLength_(),s=this.playlist_.segments;if(!s.length||n||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);let a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=function(e,t,i){t=t||[];let n=[],r=0;for(let s=0;s<t.length;s++){let a=t[s];if(e===a.timeline&&(n.push(s),(r+=a.duration)>i))return s}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,s,t),this.logger_("choose next request. Can not find sync point. Fallback to media Index: ".concat(a.mediaIndex));else if(null!==this.mediaIndex){let e=s[this.mediaIndex],i="number"==typeof this.partIndex?this.partIndex:-1;a.startOfSegment=e.end?e.end:t,e.parts&&e.parts[i+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=i+1):a.mediaIndex=this.mediaIndex+1}else{let e,i,n;let r=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_("chooseNextRequest_ request after Quality Switch:\nFor TargetTime: ".concat(r,".\nCurrentTime: ").concat(this.currentTime_(),"\nBufferedEnd: ").concat(t,"\nFetch At Buffer: ").concat(this.fetchAtBuffer_,"\n"),this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){let t=this.getSyncInfoFromMediaSequenceSync_(r);if(!t){let e="No sync info found while using media sequence sync";return this.error({message:e,metadata:{errorType:_k.Error.StreamingFailedToSelectNextSegment,error:Error(e)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_("chooseNextRequest_ mediaSequence syncInfo (".concat(t.start," --\x3e ").concat(t.end,")")),e=t.segmentIndex,i=t.partIndex,n=t.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");let t=_8.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:r,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});e=t.segmentIndex,i=t.partIndex,n=t.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd ".concat(r):"currentTime ".concat(r),a.mediaIndex=e,a.startOfSegment=n,a.partIndex=i,this.logger_("choose next request. Playlist switched and we have a sync point. Media Index: ".concat(a.mediaIndex," "))}let o=s[a.mediaIndex],l=o&&"number"==typeof a.partIndex&&o.parts&&o.parts[a.partIndex];if(!o||"number"==typeof a.partIndex&&!l)return null;"number"!=typeof a.partIndex&&o.parts&&(a.partIndex=0,l=o.parts[0]);let c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&l&&!c&&!l.independent){if(0===a.partIndex){let e=s[a.mediaIndex-1],t=e.parts&&e.parts.length&&e.parts[e.parts.length-1];t&&t.independent&&(a.mediaIndex-=1,a.partIndex=e.parts.length-1,a.independent="previous segment")}else o.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part")}let u=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return a.mediaIndex>=s.length-1&&u&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;let t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_("getSyncInfoFromMediaSequenceSync_. Pulled target time from ".concat(e," to ").concat(t));let i=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!i)return null;if(!i.isAppended)return i;let n=this.mediaSequenceSync_.getSyncInfoForTime(i.end);return n?(n.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),n):null}generateSegmentInfo_(e){let{independent:t,playlist:i,mediaIndex:n,startOfSegment:r,isSyncRequest:s,partIndex:a,forceTimestampOffset:o,getMediaInfoForTime:l}=e,c=i.segments[n],u="number"==typeof a&&c.parts[a],h={requestId:"segment-loader-"+Math.random(),uri:u&&u.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:u?a:null,isSyncRequest:s,startOfSegment:r,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:u&&u.duration||c.duration,segment:c,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},d=void 0!==o?o:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:d});let p=_q(this.sourceUpdater_.audioBuffered());return"number"==typeof p&&(h.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=((e,t,i)=>{let n;if(null==t||!e.length)return[];let r=Math.ceil((t-i+3)*9e4);for(n=0;n<e.length&&!(e[n].pts>r);n++);return e.slice(n)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return(e=>{let{segmentTimeline:t,currentTimeline:i,startOfSegment:n,buffered:r,overrideCheck:s}=e;return s||t!==i?t<i?n:r.length?r.end(r.length-1):n:null})(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;let t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,r=_8.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),s=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((e.length?e.end(e.length-1):0)-t)/i}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(r<=s)return;let a=function(e){let{main:t,currentTime:i,bandwidth:n,duration:r,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=e,c=t.playlists.filter(e=>!_8.isIncompatible(e)),u=c.filter(_8.isEnabled);u.length||(u=c.filter(e=>!_8.isDisabled(e)));let h=u.filter(_8.hasAttribute.bind(null,"BANDWIDTH")).map(e=>{let t=l.getSyncPoint(e,r,o,i)?1:2;return{playlist:e,rebufferingImpact:_8.estimateSegmentRequestTime(s,n,e)*t-a}}),d=h.filter(e=>e.rebufferingImpact<=0);return br(d,(e,t)=>bs(t.playlist,e.playlist)),d.length?d[0]:(br(h,(e,t)=>e.rebufferingImpact-t.rebufferingImpact),h[0]||null)}({main:this.vhs_.playlists.main,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;let o=r-s-a.rebufferingImpact,l=.5;s<=_M&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||o<l||(this.bandwidth=a.playlist.attributes.BANDWIDTH*vM.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_("Aborting ".concat(bg(e))),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}handleTrackInfo_(e,t){let{hasAudio:i,hasVideo:n}=t,r={segmentInfo:bS({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:i,hasVideo:n}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:r}),this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;let i=Object.keys(e).sort(),n=Object.keys(t).sort();if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++){let s=i[r];if(s!==n[r]||e[s]!==t[s])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()?this.processCallQueue_():bv(this)))}handleTimingInfo_(e,t,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;let r=this.pendingSegment_,s=by(t);r[s]=r[s]||{},r[s][i]=n,this.logger_("timinginfo: ".concat(t," - ").concat(i," - ").concat(n)),this.hasEnoughInfoToAppend_()?this.processCallQueue_():bv(this)}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(0===t.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));let i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),n={};t.forEach(e=>{n[e.stream]=n[e.stream]||{startTime:1/0,captions:[],endTime:0};let t=n[e.stream];t.startTime=Math.min(t.startTime,e.startTime+i),t.endTime=Math.max(t.endTime,e.endTime+i),t.captions.push(e)}),Object.keys(n).forEach(e=>{let{startTime:t,endTime:r,captions:s}=n[e],a=this.inbandTextTracks_;this.logger_("adding cues from ".concat(t," -> ").concat(r," for ").concat(e)),function(e,t,i){if(!e[i]){t.trigger({type:"usage",name:"vhs-608"});let n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);let r=t.textTracks().getTrackById(n);if(r)e[i]=r;else{let r=i,s=i,a=!1,o=(t.options_.vhs&&t.options_.vhs.captionServices||{})[n];o&&(r=o.label,s=o.language,a=o.default),e[i]=t.addRemoteTextTrack({kind:"captions",id:n,default:a,label:r,language:s},!1).track}}}(a,this.vhs_.tech_,e),bp(t,r,a[e]),function(e){let{inbandTextTracks:t,captionArray:i,timestampOffset:n}=e;if(!i)return;let r=um.WebKitDataCue||um.VTTCue;i.forEach(e=>{let i=e.stream;e.content?e.content.forEach(s=>{let a=new r(e.startTime+n,e.endTime+n,s.text);a.line=s.line,a.align="left",a.position=s.position,a.positionAlign="line-left",t[i].addCue(a)}):t[i].addCue(new r(e.startTime+n,e.endTime+n,e.text))})}({captionArray:s,inbandTextTracks:a,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,i){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?this.addMetadataToTextTrack(i,t,this.duration_()):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i)))}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){let e=this.callQueue_;this.callQueue_=[],e.forEach(e=>e())}processLoadQueue_(){let e=this.loadQueue_;this.loadQueue_=[],e.forEach(e=>e())}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;let e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!b_({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pendingSegment_;return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pendingSegment_;return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;let e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;let{hasAudio:i,hasVideo:n,isMuxed:r}=t;return!(n&&!e.videoTimingInfo)&&!(i&&!this.audioDisabled_&&!r&&!e.audioTimingInfo)&&!b_({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return bv(this),void this.callQueue_.push(this.handleData_.bind(this,e,t));let i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[by(t.type)].start;else{let e;let t=this.getCurrentMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo;n&&(e=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:n,firstVideoFrameTimeForData:e,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,t.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:"main"===this.loaderType_});let e=this.chooseNextRequest_();if(e.mediaIndex!==i.mediaIndex||e.partIndex!==i.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,t)}}updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_(e){let{type:t,initSegment:i,map:n,playlist:r}=e;if(n){let e=vb(n);if(this.activeInitSegmentId_===e)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=e}return i&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=r,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_(e,t){let{segmentInfo:i,type:n,bytes:r}=e,s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+_j(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+_j(a).join(", "));let o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,c=a.length?a.start(0):0,u=a.length?a.end(a.length-1):0;if(l-o<=1&&u-c<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ".concat(r.byteLength,", audio buffer: ").concat(_j(s).join(", "),", video buffer: ").concat(_j(a).join(", "),", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:i,type:n,bytes:r}));let h=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ".concat(h)),this.remove(0,h,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=um.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},1e3)},!0)}handleAppendError_(e,t){let{segmentInfo:i,type:n,bytes:r}=e;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error({message:"".concat(n," append of ").concat(r.length,"b failed for segment #").concat(i.mediaIndex," in playlist ").concat(i.playlist.id),metadata:{errorType:_k.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:i,type:n,bytes:r}))}appendToSourceBuffer_(e){let{segmentInfo:t,type:i,initSegment:n,data:r,bytes:s}=e;if(!s){var a;let e,t;let i=[r],o=r.byteLength;n&&(i.unshift(n),o+=n.byteLength),t=0,(a={bytes:o,segments:i}).bytes&&(e=new Uint8Array(a.bytes),a.segments.forEach(i=>{e.set(i,t),t+=i.byteLength})),s=e}let o={segmentInfo:bS({type:this.loaderType_,segment:t})};this.trigger({type:"segmentappendstart",metadata:o}),this.sourceUpdater_.appendBuffer({segmentInfo:t,type:i,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:t,type:i,bytes:s}))}handleSegmentTimingInfo_(e,t,i){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;let n=this.pendingSegment_.segment,r="".concat(e,"TimingInfo");n[r]||(n[r]={}),n[r].transmuxerPrependedSeconds=i.prependedContentDuration||0,n[r].transmuxedPresentationStart=i.start.presentation,n[r].transmuxedDecodeStart=i.start.decode,n[r].transmuxedPresentationEnd=i.end.presentation,n[r].transmuxedDecodeEnd=i.end.decode,n[r].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,t){let{type:i,data:n}=t;if(!n||!n.byteLength||"audio"===i&&this.audioDisabled_)return;let r=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:r,data:n})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_())return bv(this),void this.loadQueue_.push(()=>{let t=uR({},e,{forceTimestampOffset:!0});uR(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));let t=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=null!==this.mediaIndex,r=e.timeline!==this.currentTimeline_&&e.timeline>0;this.logger_("Requesting\n".concat(bl(e.uri),"\n").concat(bg(e))),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=v3({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:i||n&&r,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:t=>{let{message:i,level:n,stream:r}=t;this.logger_("".concat(bg(e)," logged from transmuxer stream ").concat(r," as a ").concat(n,": ").concat(i))},triggerSegmentEventFn:e=>{let{type:t,segment:i,keyInfo:n,trackInfo:r,timingInfo:s}=e,a={segmentInfo:bS({segment:i})};n&&(a.keyInfo=n),r&&(a.trackInfo=r),s&&(a.timingInfo=s),this.trigger({type:t,metadata:a})}})}trimBackBuffer_(e){var t,i,n;let r;let s=(t=this.seekable_(),i=this.currentTime_(),n=this.playlist_.targetDuration||10,r=i-vM.BACK_BUFFER_LENGTH,t.length&&(r=Math.max(r,t.start(0))),Math.min(i-n,r));s>0&&this.remove(0,s)}createSimplifiedSegmentObj_(e){let t=e.segment,i=e.part,n=e.segment.key||e.segment.map&&e.segment.map.key,r=e.segment.map&&!e.segment.map.bytes,s={resolvedUri:i?i.resolvedUri:t.resolvedUri,byterange:i?i.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:n,isMediaInitialization:r},a=e.playlist.segments[e.mediaIndex-1];if(a&&a.timeline===t.timeline&&(a.videoTimingInfo?s.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(s.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),t.key){let i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);s.key=this.segmentKey(t.key),s.key.iv=i}return t.map&&(s.map=this.initSegmentForMap(t.map)),s}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<bm)return void this.logger_("Ignoring segment's bandwidth because its duration of ".concat(e," is less than the min to record 0.016666666666666666"));let i={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:i}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,i){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));if(this.saveTransferStats_(t.stats),!this.pendingSegment_||t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",-102===e.code)return;return this.pause(),-101===e.code?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}let n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),n.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=((e,t,i)=>{if(!t.length)return e;if(i)return t.slice();let n=t[0].pts,r=0;for(;r<e.length&&!(e[r].pts>=n);r++);return e.slice(0,r).concat(t)})(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){let t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_(e){let{currentStart:t,playlist:i,mediaIndex:n,firstVideoFrameTimeForData:r,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}=e;if(void 0!==t)return t;if(!a)return l.start;let c=i.segments[n-1];return 0!==n&&c&&void 0!==c.start&&c.end===r+s?o.start:r}waitForAppendsToComplete_(e){let t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");let{hasAudio:i,hasVideo:n,isMuxed:r}=t,s="main"===this.loaderType_&&n,a=!this.audioDisabled_&&i&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);s&&e.waitingOnAppends++,a&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){let t,i;let n=(t=this.loaderType_,i=this.getCurrentMediaInfo_(),"main"===t&&i&&e?e.hasAudio||e.hasVideo?i.hasVideo&&!e.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&e.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);return!!n&&(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(e){if(null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_)return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_(e){let{videoTimingInfo:t,audioTimingInfo:i,timingInfo:n}=e;return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:i&&"number"==typeof i.transmuxedDecodeStart?i.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};let t=this.getMediaInfo_(),i="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end="number"==typeof i.end?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){let e={segmentInfo:bS({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:e})}if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());let e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});let t=bT(e,this.sourceType_);if(t&&("warn"===t.severity?_k.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_("Throwing away un-appended sync request ".concat(bg(e)));this.logger_("Appended ".concat(bg(e))),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");let i=e.segment,n=e.part,r=i.end&&this.currentTime_()-i.end>3*e.playlist.targetDuration,s=n&&n.end&&this.currentTime_()-n.end>3*e.playlist.partTargetDuration;if(r||s)return this.logger_("bad ".concat(r?"segment":"part"," ").concat(bg(e))),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<bm)return void this.logger_("Ignoring segment's throughput because its duration of ".concat(e.duration," is less than the min to record 0.016666666666666666"));let t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8e3);this.throughput.rate+=(n-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;let t=e.segment,i=t.start,n=t.end;if(!bf(i)||!bf(n))return;bp(i,n,this.segmentMetadataTrack_);let r=um.WebKitDataCue||um.VTTCue,s={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:n},a=new r(i,n,JSON.stringify(s));a.value=s,this.segmentMetadataTrack_.addCue(a)}constructor(e,t={}){if(super(),!e)throw TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw TypeError("No currentTime getter specified");if(!e.mediaSource)throw TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=_P("SegmentLoader[".concat(this.loaderType_,"]")),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_("".concat(this.state_," -> ").concat(e)),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():bv(this)}),this.sourceUpdater_.on("codecschange",e=>{this.trigger(uR({type:"codecschange"},e))}),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():bv(this)}),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",e=>{this.trigger(uR({type:"timelinechange"},e)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():bv(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():bv(this)})}}function bE(){}let bC=function(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toUpperCase())},bk=["video","audio"],bx=(e,t)=>{let i=t["".concat(e,"Buffer")];return i&&i.updating||t.queuePending[e]},bI=(e,t)=>{if(0===t.queue.length)return;let i=0,n=t.queue[i];if("mediaSource"!==n.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!bx(e,t)){if(n.type!==e){if(null===(i=((e,t)=>{for(let i=0;i<t.length;i++){let n=t[i];if("mediaSource"===n.type)break;if(n.type===e)return i}return null})(e,t.queue)))return;n=t.queue[i]}return t.queue.splice(i,1),t.queuePending[e]=n,n.action(e,t),n.doneFn?void 0:(t.queuePending[e]=null,void bI(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),n.action(t),n.doneFn&&n.doneFn(),bI("audio",t),bI("video",t))},bA=(e,t)=>{let i=t["".concat(e,"Buffer")],n=bC(e);i&&(i.removeEventListener("updateend",t["on".concat(n,"UpdateEnd_")]),i.removeEventListener("error",t["on".concat(n,"Error_")]),t.codecs[e]=null,t["".concat(e,"Buffer")]=null)},bL=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),bO=(e,t,i)=>(n,r)=>{let s=r["".concat(n,"Buffer")];if(bL(r.mediaSource,s)){r.logger_("Appending segment ".concat(t.mediaIndex,"'s ").concat(e.length," bytes to ").concat(n,"Buffer"));try{s.appendBuffer(e)}catch(e){r.logger_("Error with code ".concat(e.code," ")+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment ".concat(t.mediaIndex," to ").concat(n,"Buffer")),r.queuePending[n]=null,i(e)}}},bP=(e,t)=>(i,n)=>{let r=n["".concat(i,"Buffer")];if(bL(n.mediaSource,r)){n.logger_("Removing ".concat(e," to ").concat(t," from ").concat(i,"Buffer"));try{r.remove(e,t)}catch(r){n.logger_("Remove ".concat(e," to ").concat(t," from ").concat(i,"Buffer failed"))}}},bD=e=>(t,i)=>{let n=i["".concat(t,"Buffer")];bL(i.mediaSource,n)&&(i.logger_("Setting ".concat(t,"timestampOffset to ").concat(e)),n.timestampOffset=e)},bN=e=>(t,i)=>{e()},bM=e=>t=>{if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream(".concat(e||"",")"));try{t.mediaSource.endOfStream(e)}catch(e){_k.log.warn("Failed to call media source endOfStream",e)}}},bR=e=>t=>{t.logger_("Setting mediaSource duration to ".concat(e));try{t.mediaSource.duration=e}catch(e){_k.log.warn("Failed to set media source duration",e)}},bF=()=>(e,t)=>{if("open"!==t.mediaSource.readyState)return;let i=t["".concat(e,"Buffer")];if(bL(t.mediaSource,i)){t.logger_("calling abort on ".concat(e,"Buffer"));try{i.abort()}catch(t){_k.log.warn("Failed to abort on ".concat(e,"Buffer"),t)}}},bB=(e,t)=>i=>{let n=bC(e),r=hx(t);i.logger_("Adding ".concat(e,"Buffer with codec ").concat(t," to mediaSource"));let s=i.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",i["on".concat(n,"UpdateEnd_")]),s.addEventListener("error",i["on".concat(n,"Error_")]),i.codecs[e]=t,i["".concat(e,"Buffer")]=s},bU=e=>t=>{let i=t["".concat(e,"Buffer")];if(bA(e,t),bL(t.mediaSource,i)){t.logger_("Removing ".concat(e,"Buffer with codec ").concat(t.codecs[e]," from mediaSource"));try{t.mediaSource.removeSourceBuffer(i)}catch(t){_k.log.warn("Failed to removeSourceBuffer ".concat(e,"Buffer"),t)}}},bj=e=>(t,i)=>{let n=i["".concat(t,"Buffer")],r=hx(e);if(!bL(i.mediaSource,n))return;let s=e.substring(0,e.indexOf(".")),a=i.codecs[t];if(a.substring(0,a.indexOf("."))===s)return;let o={codecsChangeInfo:{from:a,to:e}};i.trigger({type:"codecschange",metadata:o}),i.logger_("changing ".concat(t,"Buffer codec from ").concat(a," to ").concat(e));try{n.changeType(r),i.codecs[t]=e}catch(e){o.errorType=_k.Error.StreamingCodecsChangeError,o.error=e,e.metadata=o,i.error_=e,i.trigger("error"),_k.log.warn("Failed to changeType on ".concat(t,"Buffer"),e)}},bq=e=>{let{type:t,sourceUpdater:i,action:n,doneFn:r,name:s}=e;i.queue.push({type:t,action:n,doneFn:r,name:s}),bI(t,i)},bH=(e,t)=>i=>{let n=function(e){if(0===e.length)return"Buffered Ranges are empty";let t="Buffered Ranges: \n";for(let i=0;i<e.length;i++){let n=e.start(i),r=e.end(i);t+="".concat(n," --\x3e ").concat(r,". Duration (").concat(r-n,")\n")}return t}(t["".concat(e,"Buffered")]());if(t.logger_('received "updateend" event for '.concat(e," Source Buffer: "),n),t.queuePending[e]){let i=t.queuePending[e].doneFn;t.queuePending[e]=null,i&&i(t["".concat(e,"Error_")])}bI(e,t)};class bV extends _k.EventTarget{initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){bq({type:"mediaSource",sourceUpdater:this,action:bB(e,t),name:"addSourceBuffer"})}abort(e){bq({type:e,sourceUpdater:this,action:bF(e),name:"abort"})}removeSourceBuffer(e){this.canRemoveSourceBuffer()?bq({type:"mediaSource",sourceUpdater:this,action:bU(e),name:"removeSourceBuffer"}):_k.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!_k.browser.IS_FIREFOX&&um.MediaSource&&um.MediaSource.prototype&&"function"==typeof um.MediaSource.prototype.removeSourceBuffer}static canChangeType(){return um.SourceBuffer&&um.SourceBuffer.prototype&&"function"==typeof um.SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){this.canChangeType()?bq({type:e,sourceUpdater:this,action:bj(t),name:"changeType"}):_k.log.error("changeType is not supported!")}addOrChangeSourceBuffers(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)throw Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(t=>{let i=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,i);this.canChangeType()&&this.changeType(t,i)})}appendBuffer(e,t){let{segmentInfo:i,type:n,bytes:r}=e;if(this.processedAppend_=!0,"audio"===n&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of ".concat(r.length," until video append"));if(bq({type:n,sourceUpdater:this,action:bO(r,i||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===n){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;let e=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio ".concat(e.length," appendBuffers")),this.delayedAudioAppendQueue_.length=0,e.forEach(e=>{this.appendBuffer.apply(this,e)})}}audioBuffered(){return bL(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:_N()}videoBuffered(){return bL(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:_N()}buffered(){let e=bL(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=bL(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){let i=null,n=null,r=0,s=[],a=[];if(!(e&&e.length&&t&&t.length))return _N();let o=e.length;for(;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(o=t.length;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(s.sort(function(e,t){return e.time-t.time}),o=0;o<s.length;o++)"start"===s[o].type?2==++r&&(i=s[o].time):"end"===s[o].type&&1==--r&&(n=s[o].time),null!==i&&null!==n&&(a.push([i,n]),i=null,n=null);return _N(a)}(this.audioBuffered(),this.videoBuffered())}setDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bE;bq({type:"mediaSource",sourceUpdater:this,action:bR(e),name:"duration",doneFn:t})}endOfStream(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bE;"string"!=typeof e&&(e=void 0),bq({type:"mediaSource",sourceUpdater:this,action:bM(e),name:"endOfStream",doneFn:t})}removeAudio(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bE;this.audioBuffered().length&&0!==this.audioBuffered().end(0)?bq({type:"audio",sourceUpdater:this,action:bP(e,t),doneFn:i,name:"remove"}):i()}removeVideo(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bE;this.videoBuffered().length&&0!==this.videoBuffered().end(0)?bq({type:"video",sourceUpdater:this,action:bP(e,t),doneFn:i,name:"remove"}):i()}updating(){return!(!bx("audio",this)&&!bx("video",this))}audioTimestampOffset(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(bq({type:"audio",sourceUpdater:this,action:bD(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(bq({type:"video",sourceUpdater:this,action:bD(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&bq({type:"audio",sourceUpdater:this,action:bN(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&bq({type:"video",sourceUpdater:this,action:bN(e),name:"callback"})}dispose(){this.trigger("dispose"),bk.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this["".concat(e,"QueueCallback")](()=>bA(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>bI("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=_P("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=bH("video",this),this.onAudioUpdateEnd_=bH("audio",this),this.onVideoError_=e=>{this.videoError_=e},this.onAudioError_=e=>{this.audioError_=e},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}}let bz=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),bW=new Uint8Array("\n\n".split("").map(e=>e.charCodeAt(0)));class bG extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class bX extends bw{createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return _N();let e=this.subtitlesTrack_.cues;return _N([[e[0].startTime,e[e.length-1].startTime]])}initSegmentForMap(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;let i=vb(e),n=this.initSegments_[i];if(t&&!n&&e.bytes){let t=new Uint8Array(bW.byteLength+e.bytes.byteLength);t.set(e.bytes),t.set(bW,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:t}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(e,t){bp(e,t,this.subtitlesTrack_)}fillBuffer_(){let e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",()=>{this.state="READY",this.paused()||this.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,i){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return -101===e.code&&this.handleTimeout_(),-102===e.code?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);let n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");let r=n.segment;if(r.map&&(r.map.bytes=t.map.bytes),n.bytes=t.bytes,"function"!=typeof um.WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then(()=>this.segmentRequestFinished_(e,t,i),()=>this.stopForError({message:"Error loading vtt.js"}));r.requested=!0;try{this.parseVTTCues_(n)}catch(e){return void this.stopForError({message:e.message,metadata:{errorType:_k.Error.StreamingVttParserError,error:e}})}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,n.cues.forEach(e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new um.VTTCue(e.startTime,e.endTime,e.text):e)}),function(e){let t=e.cues;if(!t)return;let i={};for(let n=t.length-1;n>=0;n--){let r=t[n],s="".concat(r.startTime,"-").concat(r.endTime,"-").concat(r.text);i[s]?e.removeCue(r):i[s]=r}}(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let t,i=!1;if("function"!=typeof um.WebVTT)throw new bG;"function"==typeof um.TextDecoder?t=new um.TextDecoder("utf8"):(t=um.WebVTT.StringDecoder(),i=!0);let n=new um.WebVTT.Parser(um,um.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=t=>{e.timestampmap=t},n.onparsingerror=e=>{_k.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){let t=e.segment.map.bytes;i&&(t=bz(t)),n.parse(t)}let r=e.bytes;i&&(r=bz(r)),n.parse(r),n.flush()}updateTimeMapping_(e,t,i){let n=e.segment;if(!t)return;if(!e.cues.length)return void(n.empty=!0);let{MPEGTS:r,LOCAL:s}=e.timestampmap,a=r/9e4-s+t.mapping;if(e.cues.forEach(e=>{let i=e.endTime-e.startTime,n=this.handleRollover_(e.startTime+a,t.time);e.startTime=Math.max(n,0),e.endTime=Math.max(n+i,0)}),!i.syncInfo){let t=e.cues[0].startTime,r=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(t,r-n.duration)}}}handleRollover_(e,t){let i;if(null===t)return e;let n=9e4*e,r=9e4*t;for(i=r<n?-0x200000000:0x200000000;Math.abs(n-r)>0x100000000;)n+=i;return n/9e4}constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}}let bK=function(e,t){let i=e.cues;for(let e=0;e<i.length;e++){let n=i[e];if(t>=n.adStartTime&&t<=n.adEndTime)return n}return null};class bY{isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}constructor({start:e,end:t,segmentIndex:i,partIndex:n=null,appended:r=!1}){this.start_=e,this.end_=t,this.segmentIndex_=i,this.partIndex_=n,this.appended_=r}}class bQ{get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}}class b${get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,t){let{mediaSequence:i,segments:n}=e;if(this.isReliable_=this.isReliablePlaylist_(i,n),this.isReliable_)return this.updateStorage_(n,i,this.calculateBaseTime_(i,t))}getSyncInfoForTime(e){for(let{segmentSyncInfo:t,partsSyncInfo:i}of this.storage_.values())if(i.length){for(let t of i)if(t.isInRange(e))return t}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,i){let n=new Map,r="\n",s=i,a=t;this.start_=s,e.forEach((e,t)=>{let i=this.storage_.get(a),o=s,l=o+e.duration,c=!!(i&&i.segmentSyncInfo&&i.segmentSyncInfo.isAppended),u=new bY({start:o,end:l,appended:c,segmentIndex:t});e.syncInfo=u;let h=s,d=(e.parts||[]).map((e,n)=>{let s=h,o=h+e.duration,l=!!(i&&i.partsSyncInfo&&i.partsSyncInfo[n]&&i.partsSyncInfo[n].isAppended),c=new bY({start:s,end:o,appended:l,segmentIndex:t,partIndex:n});return h=o,r+="Media Sequence: ".concat(a,".").concat(n," | Range: ").concat(s," --\x3e ").concat(o," | Appended: ").concat(l,"\n"),e.syncInfo=c,c});n.set(a,new bQ(u,d)),r+="".concat(bl(e.resolvedUri)," | Media Sequence: ").concat(a," | Range: ").concat(o," --\x3e ").concat(l," | Appended: ").concat(c,"\n"),a++,s=l}),this.end_=s,this.storage_=n,this.diagnostics_=r}calculateBaseTime_(e,t){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:t:0}isReliablePlaylist_(e,t){return null!=e&&Array.isArray(t)&&t.length}constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}}class bJ extends b${calculateBaseTime_(e,t){if(!this.storage_.size){let t=this.parent_.getSyncInfoForMediaSequence(e);return t?t.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t)}constructor(e){super(),this.parent_=e}}let bZ=[{name:"VOD",run:(e,t,i,n,r)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(e,t,i,n,r,s)=>{let a=e.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;let o=a.getSyncInfoForTime(r);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(e,t,i,n,r)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let s=null,a=null,o=_z(t);r=r||0;for(let i=0;i<o.length;i++){let n=o[t.endList||0===r?i:o.length-(i+1)],l=n.segment,c=e.timelineToDatetimeMappings[l.timeline];if(!c||!l.dateTimeObject)continue;let u=l.dateTimeObject.getTime()/1e3+c;if(l.parts&&"number"==typeof n.partIndex)for(let e=0;e<n.partIndex;e++)u+=l.parts[e].duration;let h=Math.abs(r-u);if(null!==a&&(0===h||a<h))break;a=h,s={time:u,segmentIndex:n.segmentIndex,partIndex:n.partIndex}}return s}},{name:"Segment",run:(e,t,i,n,r)=>{let s=null,a=null;r=r||0;let o=_z(t);for(let e=0;e<o.length;e++){let i=o[t.endList||0===r?e:o.length-(e+1)],l=i.segment,c=i.part&&i.part.start||l&&l.start;if(l.timeline===n&&void 0!==c){let e=Math.abs(r-c);if(null!==a&&a<e)break;(!s||null===a||a>=e)&&(a=e,s={time:c,segmentIndex:i.segmentIndex,partIndex:i.partIndex})}}return s}},{name:"Discontinuity",run:(e,t,i,n,r)=>{let s=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length){let i=null;for(let n=0;n<t.discontinuityStarts.length;n++){let a=t.discontinuityStarts[n],o=t.discontinuitySequence+n+1,l=e.discontinuities[o];if(l){let e=Math.abs(r-l.time);if(null!==i&&i<e)break;(!s||null===i||i>=e)&&(i=e,s={time:l.time,segmentIndex:a,partIndex:null})}}}return s}},{name:"Playlist",run:(e,t,i,n,r)=>t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}];class b0 extends _k.EventTarget{getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,i,n,r){if(t!==1/0)return bZ.find(e=>{let{name:t}=e;return"VOD"===t}).run(this,e,t);let s=this.runStrategies_(e,t,i,n,r);if(!s.length)return null;for(let t of s){let{syncPoint:i,strategy:r}=t,{segmentIndex:s,time:a}=i;if(s<0)continue;let o=a+e.segments[s].duration;if(this.logger_("Strategy: ".concat(r,". Current time: ").concat(n,". selected segment: ").concat(s,". Time: [").concat(a," -> ").concat(o,"]}")),n>=a&&n<o)return this.logger_("Found sync point with exact match: ",i),i}return this.selectSyncPoint_(s,{key:"time",value:n})}getExpiredTime(e,t){if(!e||!e.segments)return null;let i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;let n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+_Q({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,t,i,n,r){let s=[];for(let a=0;a<bZ.length;a++){let o=bZ[a],l=o.run(this,e,t,i,n,r);l&&(l.strategy=o.name,s.push({strategy:o.name,syncPoint:l}))}return s}selectSyncPoint_(e,t){let i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy;for(let s=1;s<e.length;s++){let a=Math.abs(e[s].syncPoint[t.key]-t.value);a<n&&(n=a,i=e[s].syncPoint,r=e[s].strategy)}return this.logger_("syncPoint for [".concat(t.key,": ").concat(t.value,"] chosen with strategy [").concat(r,"]: [time:").concat(i.time,", segmentIndex:").concat(i.segmentIndex)+("number"==typeof i.partIndex?",partIndex:".concat(i.partIndex):"")+"]"),i}saveExpiredSegmentInfo(e,t){let i=t.mediaSequence-e.mediaSequence;if(i>86400)_k.log.warn("Not saving expired segment info. Media sequence gap ".concat(i," is too large."));else for(let n=i-1;n>=0;n--){let i=e.segments[n];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:".concat(t.syncInfo.time,", mediaSequence: ").concat(t.syncInfo.mediaSequence,"]")),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){let t=e.segments[0],i=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-i}}saveSegmentTimingInfo(e){let{segmentInfo:t,shouldSaveTimelineMapping:i}=e,n=this.calculateSegmentTimeMapping_(t,t.timingInfo,i),r=t.segment;n&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:r.start}));let s=r.dateTimeObject;r.discontinuity&&i&&s&&(this.timelineToDatetimeMappings[r.timeline]=-s.getTime()/1e3)}timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,i){let n=e.segment,r=e.part,s,a,o=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)o={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_("time mapping for timeline ".concat(e.timeline,": [time: ").concat(o.time,"] [mapping: ").concat(o.mapping,"]"))),s=e.startOfSegment,a=t.end+o.mapping;else{if(!o)return!1;s=t.start+o.mapping,a=t.end+o.mapping}return r&&(r.start=s,r.end=a),(!n.start||s<n.start)&&(n.start=s),n.end=a,!0}saveDiscontinuitySyncInfo_(e){let t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let n=0;n<t.discontinuityStarts.length;n++){let r=t.discontinuityStarts[n],s=t.discontinuitySequence+n+1,a=r-e.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){let n;n=a<0?i.start-_Q({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):i.end+_Q({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[s]={time:n,accuracy:o}}}}dispose(){this.trigger("dispose"),this.off()}constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};let t=new b$,i=new bJ(t),n=new bJ(t);this.mediaSequenceStorage_={main:t,audio:i,vtt:n},this.logger_=_P("SyncController")}}class b1 extends _k.EventTarget{clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange(e){let{type:t,from:i,to:n}=e;return"number"==typeof i&&"number"==typeof n&&(this.pendingTimelineChanges_[t]={type:t,from:i,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]}lastTimelineChange(e){let{type:t,from:i,to:n}=e;return"number"==typeof i&&"number"==typeof n&&(this.lastTimelineChanges_[t]={type:t,from:i,to:n},delete this.pendingTimelineChanges_[t],this.trigger({type:"timelinechange",metadata:{timelineChangeInfo:{from:i,to:n}}})),this.lastTimelineChanges_[t]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}}var b2=vF(vB(vU(function(){var e,t,i=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t){if(2==arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=t.length,a=0;a<s;++a)t[a].apply(this,r)}},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}();let n=null;class r{decrypt(e,t,i,n,r,s){let a=this._key[1],o,l,c,u=e^a[0],h=n^a[1],d=i^a[2],p=t^a[3],f=a.length/4-2,m,g=4,y=this._tables[1],_=y[0],v=y[1],b=y[2],T=y[3],S=y[4];for(m=0;m<f;m++)o=_[u>>>24]^v[h>>16&255]^b[d>>8&255]^T[255&p]^a[g],l=_[h>>>24]^v[d>>16&255]^b[p>>8&255]^T[255&u]^a[g+1],c=_[d>>>24]^v[p>>16&255]^b[u>>8&255]^T[255&h]^a[g+2],p=_[p>>>24]^v[u>>16&255]^b[h>>8&255]^T[255&d]^a[g+3],g+=4,u=o,h=l,d=c;for(m=0;m<4;m++)r[(3&-m)+s]=S[u>>>24]<<24^S[h>>16&255]<<16^S[d>>8&255]<<8^S[255&p]^a[g++],o=u,u=h,h=d,d=p,p=o}constructor(e){let t,i,r;n||(n=function(){let e,t,i,n,r,s,a,o;let l=[[[],[],[],[],[]],[[],[],[],[],[]]],c=l[0],u=l[1],h=c[4],d=u[4],p=[],f=[];for(e=0;e<256;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=i=0;!h[t];t^=n||1,i=f[i]||1)for(s=(s=i^i<<1^i<<2^i<<3^i<<4)>>8^255&s^99,h[t]=s,d[s]=t,o=0x1010101*p[r=p[n=p[t]]]^65537*r^257*n^0x1010100*t,a=257*p[s]^0x1010100*s,e=0;e<4;e++)c[e][t]=a=a<<24^a>>>8,u[e][s]=o=o<<24^o>>>8;for(e=0;e<5;e++)c[e]=c[e].slice(0),u[e]=u[e].slice(0);return l}()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let s=this._tables[0][4],a=this._tables[1],o=e.length,l=1;if(4!==o&&6!==o&&8!==o)throw Error("Invalid aes key size");let c=e.slice(0),u=[];for(this._key=[c,u],t=o;t<4*o+28;t++)r=c[t-1],(t%o==0||8===o&&t%o==4)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],t%o==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),c[t]=c[t-o]^r;for(i=0;t;i++,t--)r=c[3&i?t:t-4],u[i]=t<=4||i<4?r:a[0][s[r>>>24]]^a[1][s[r>>16&255]]^a[2][s[r>>8&255]]^a[3][s[255&r]]}}class s extends i{processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}constructor(){super(i),this.jobs=[],this.delay=1,this.timeout_=null}}let a=function(e){return e<<24|(65280&e)<<8|(0xff0000&e)>>8|e>>>24};class o{static get STEP(){return 32e3}decryptChunk_(e,t,i,n){return function(){let s=function(e,t,i){let n,s,o,l,c,u,h,d,p;let f=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new r(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),y=new Int32Array(g.buffer);for(n=i[0],s=i[1],o=i[2],l=i[3],p=0;p<f.length;p+=4)c=a(f[p]),u=a(f[p+1]),h=a(f[p+2]),d=a(f[p+3]),m.decrypt(c,u,h,d,y,p),y[p]=a(y[p]^n),y[p+1]=a(y[p+1]^s),y[p+2]=a(y[p+2]^o),y[p+3]=a(y[p+3]^l),n=c,s=u,o=h,l=d;return g}(e,t,i);n.set(s,e.byteOffset)}}constructor(e,t,i,n){let r=o.STEP,l=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength),u=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(l.subarray(u,u+r),t,i,c)),u=r;u<l.length;u+=r)i=new Uint32Array([a(l[u-4]),a(l[u-3]),a(l[u-2]),a(l[u-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(u,u+r),t,i,c));this.asyncStream_.push(function(){n(null,c.subarray(0,c.byteLength-c[c.byteLength-1]))})}}"undefined"!=typeof globalThis?globalThis:window;var l=window.BigInt||Number;l("0x1"),l("0x100"),l("0x10000"),l("0x1000000"),l("0x100000000"),l("0x10000000000"),l("0x1000000000000"),l("0x100000000000000"),l("0x10000000000000000"),255===(t=new Uint8Array((e=new Uint16Array([65484])).buffer,e.byteOffset,e.byteLength))[0]||t[0];let c=function(e){let t={};return Object.keys(e).forEach(i=>{let n=e[i];("function"===ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n}),t};self.onmessage=function(e){let t=e.data;new o(new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4),function(e,i){self.postMessage(c({source:t.source,decrypted:i}),[i.buffer])})}})));let b4=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},b5=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},b3=(e,t)=>{t.activePlaylistLoader=e,e.load()},b8={AUDIO:(e,t)=>()=>{let{mediaTypes:{[e]:i},excludePlaylist:n}=t,r=i.activeTrack(),s=i.activeGroup(),a=(s.filter(e=>e.default)[0]||s[0]).id,o=i.tracks[a];if(r!==o){for(let e in _k.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[e].enabled=i.tracks[e]===o;i.onTrackChanged()}else n({error:{message:"Problem encountered loading the default audio track."}})},SUBTITLES:(e,t)=>()=>{let{mediaTypes:{[e]:i}}=t;_k.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");let n=i.activeTrack();n&&(n.mode="disabled"),i.onTrackChanged()}},b6={AUDIO:(e,t,i)=>{if(!t)return;let{tech:n,requestOptions:r,segmentLoaders:{[e]:s}}=i;t.on("loadedmetadata",()=>{let e=t.media();s.playlist(e,r),(!n.paused()||e.endList&&"none"!==n.preload())&&s.load()}),t.on("loadedplaylist",()=>{s.playlist(t.media(),r),n.paused()||s.load()}),t.on("error",b8[e](e,i))},SUBTITLES:(e,t,i)=>{let{tech:n,requestOptions:r,segmentLoaders:{[e]:s},mediaTypes:{[e]:a}}=i;t.on("loadedmetadata",()=>{let e=t.media();s.playlist(e,r),s.track(a.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&s.load()}),t.on("loadedplaylist",()=>{s.playlist(t.media(),r),n.paused()||s.load()}),t.on("error",b8[e](e,i))}},b7={AUDIO:(e,t)=>{let{vhs:i,sourceType:n,segmentLoaders:{[e]:r},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[e]:{groups:o,tracks:l,logger_:c}},mainPlaylistLoader:u}=t,h=_3(u.main);for(let r in a[e]&&0!==Object.keys(a[e]).length||(a[e]={main:{default:{default:!0}}},h&&(a[e].main.default.playlists=u.main.playlists)),a[e])for(let d in o[r]||(o[r]=[]),a[e][r]){let p,f=a[e][r][d];if(h?(c("AUDIO group '".concat(r,"' label '").concat(d,"' is a main playlist")),f.isMainPlaylist=!0,p=null):p="vhs-json"===n&&f.playlists?new vp(f.playlists[0],i,s):f.resolvedUri?new vp(f.resolvedUri,i,s):f.playlists&&"dash"===n?new vN(f.playlists[0],i,s,u):null,f=_D({id:d,playlistLoader:p},f),b6[e](e,f.playlistLoader,t),o[r].push(f),void 0===l[d]){let e=new _k.AudioTrack({id:d,kind:b4(f),enabled:!1,language:f.language,default:f.default,label:d});l[d]=e}}r.on("error",b8[e](e,t))},SUBTITLES:(e,t)=>{let{tech:i,vhs:n,sourceType:r,segmentLoaders:{[e]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[e]:{groups:l,tracks:c}},mainPlaylistLoader:u}=t;for(let s in o[e])for(let h in l[s]||(l[s]=[]),o[e][s]){if(!n.options_.useForcedSubtitles&&o[e][s][h].forced)continue;let d,p=o[e][s][h];if("hls"===r)d=new vp(p.resolvedUri,n,a);else if("dash"===r){if(!p.playlists.filter(e=>e.excludeUntil!==1/0).length)return;d=new vN(p.playlists[0],n,a,u)}else"vhs-json"===r&&(d=new vp(p.playlists?p.playlists[0]:p.resolvedUri,n,a));if(p=_D({id:h,playlistLoader:d},p),b6[e](e,p.playlistLoader,t),l[s].push(p),void 0===c[h]){let e=i.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;c[h]=e}}s.on("error",b8[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{let{tech:i,main:{mediaGroups:n},mediaTypes:{[e]:{groups:r,tracks:s}}}=t;for(let t in n[e])for(let a in r[t]||(r[t]=[]),n[e][t]){let o=n[e][t][a];if(!/^(?:CC|SERVICE)/.test(o.instreamId))continue;let l=i.options_.vhs&&i.options_.vhs.captionServices||{},c={label:a,language:o.language,instreamId:o.instreamId,default:o.default&&o.autoselect};if(l[c.instreamId]&&(c=_D(c,l[c.instreamId])),void 0===c.default&&delete c.default,r[t].push(_D({id:a},o)),void 0===s[a]){let e=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[a]=e}}}},b9=(e,t)=>{for(let i=0;i<e.length;i++)if(_4(t,e[i])||e[i].playlists&&b9(e[i].playlists,t))return!0;return!1},Te={AUDIO:(e,t)=>()=>{let{mediaTypes:{[e]:{tracks:i}}}=t;for(let e in i)if(i[e].enabled)return i[e];return null},SUBTITLES:(e,t)=>()=>{let{mediaTypes:{[e]:{tracks:i}}}=t;for(let e in i)if("showing"===i[e].mode||"hidden"===i[e].mode)return i[e];return null}},Tt=e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{b7[t](t,e)});let{mediaTypes:t,mainPlaylistLoader:i,tech:n,vhs:r,segmentLoaders:{AUDIO:s,main:a}}=e;["AUDIO","SUBTITLES"].forEach(i=>{t[i].activeGroup=t=>{let{mainPlaylistLoader:n,mediaTypes:{[i]:{groups:r}}}=e,s=n.media();if(!s)return null;let a=null;s.attributes[i]&&(a=r[s.attributes[i]]);let o=Object.keys(r);if(!a){if("AUDIO"===i&&o.length>1&&_3(e.main))for(let e=0;e<o.length;e++){let t=r[o[e]];if(b9(t,s)){a=t;break}}else r.main?a=r.main:1===o.length&&(a=r[o[0]])}return void 0===t?a:null!==t&&a&&a.filter(e=>e.id===t.id)[0]||null},t[i].activeTrack=Te[i](i,e),t[i].onGroupChanged=()=>{let{segmentLoaders:{[i]:t,main:n},mediaTypes:{[i]:r}}=e,s=r.activeTrack(),a=r.getActiveGroup(),o=r.activePlaylistLoader,l=r.lastGroup_;a&&l&&a.id===l.id||(r.lastGroup_=a,r.lastTrack_=s,b5(t,r),a&&!a.isMainPlaylist&&(a.playlistLoader?(t.resyncLoader(),b3(a.playlistLoader,r)):o&&n.resetEverything()))},t[i].onGroupChanging=()=>{let{segmentLoaders:{[i]:t},mediaTypes:{[i]:n}}=e;n.lastGroup_=null,t.abort(),t.pause()},t[i].onTrackChanged=()=>{let{mainPlaylistLoader:t,segmentLoaders:{[i]:n,main:r},mediaTypes:{[i]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastTrack_;if((!c||!a||c.id!==a.id)&&(s.lastGroup_=o,s.lastTrack_=a,b5(n,s),o)){if(o.isMainPlaylist){if(!a||!c||a.id===c.id)return;let i=e.vhs.playlistController_,n=i.selectPlaylist();if(i.media()===n)return;return s.logger_("track change. Switching main audio from ".concat(c.id," to ").concat(a.id)),t.pause(),r.resetEverything(),void i.fastQualityChange_(n)}if("AUDIO"===i){if(!o.playlistLoader)return r.setAudio(!0),void r.resetEverything();n.setAudio(!0),r.setAudio(!1)}l!==o.playlistLoader&&(n.track&&n.track(a),n.resetEverything()),b3(o.playlistLoader,s)}},t[i].getActiveGroup=((e,t)=>{let{mediaTypes:i}=t;return()=>{let t=i[e].activeTrack();return t?i[e].activeGroup(t):null}})(i,e)});let o=t.AUDIO.activeGroup();if(o){let e=(o.filter(e=>e.default)[0]||o[0]).id;t.AUDIO.tracks[e].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(e=>t[e].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(e=>t[e].onGroupChanging())});let l=()=>{t.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};for(let e in n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[e])};class Ti{set version(e){1===e&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=hl(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(e=>[e.ID,e])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}constructor(){this.priority_=[],this.pathwayClones_=new Map}}class Tn extends _k.EventTarget{assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";let i=t.serverUri||t.serverURL;if(!i)return this.logger_("steering manifest URL is ".concat(i,", cannot request steering manifest.")),void this.trigger("error");i.startsWith("data:")?this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1)):(this.steeringManifest.reloadUri=hl(e,i),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"))}requestSteeringManifest(e){let t=this.steeringManifest.reloadUri;if(!t)return;let i=e?t:this.getRequestURI(t);if(!i)return this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),void this.dispose();let n={contentSteeringInfo:{uri:i}};this.trigger({type:"contentsteeringloadstart",metadata:n}),this.request_=this.xhr_({uri:i,requestType:"content-steering-manifest"},(e,t)=>{let r;if(e){if(410===t.status)return this.logger_("manifest request 410 ".concat(e,".")),this.logger_("There will be no more content steering requests to ".concat(i," this session.")),void this.excludedSteeringManifestURLs.add(i);if(429===t.status){let i=t.responseHeaders["retry-after"];return this.logger_("manifest request 429 ".concat(e,".")),this.logger_("content steering will retry in ".concat(i," seconds.")),void this.startTTLTimeout_(parseInt(i,10))}return this.logger_("manifest failed to load ".concat(e,".")),void this.startTTLTimeout_()}this.trigger({type:"contentsteeringloadcomplete",metadata:n});try{r=JSON.parse(this.request_.responseText)}catch(t){let e={errorType:_k.Error.StreamingContentSteeringParserError,error:t};this.trigger({type:"error",metadata:e})}this.assignSteeringProperties_(r);let s={contentSteeringInfo:n.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:s}),this.startTTLTimeout_()})}setProxyServerUrl_(e){let t=new um.URL(e),i=new um.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){let t=JSON.parse(um.atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){let t=new um.URL(e),i=this.getPathway(),n=this.getBandwidth_();if(i){let e="_".concat(this.manifestType_,"_pathway");t.searchParams.set(e,i)}if(n){let e="_".concat(this.manifestType_,"_throughput");t.searchParams.set(e,n)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version)return this.logger_("manifest version is ".concat(e.VERSION,", which is not supported.")),void this.trigger("error");this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());let t=(e=>{for(let t of e)if(this.availablePathways_.has(t))return t;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==t&&(this.currentPathway=t,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;let t=e=>this.excludedSteeringManifestURLs.has(e);if(this.proxyServerUrl_){let i=this.setProxyServerUrl_(e);if(!t(i))return i}let i=this.setSteeringParams_(e);return t(i)?null:i}startTTLTimeout_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.steeringManifest.ttl;this.ttlTimeout_=um.setTimeout(()=>{this.requestSteeringManifest()},1e3*e)}clearTTLTimeout_(){um.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new Ti}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(hl(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new Ti,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=_P("Content Steering"),this.xhr_=e,this.getBandwidth_=t}}let Tr=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Ts=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]};class Ta extends _k.EventTarget{mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){let e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return -1===e||-1===t?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"abr",t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,i){let n=this.media(),r=n&&(n.id||n.uri),s=e&&(e.id||e.uri);if(r&&r!==s){this.logger_("switch media ".concat(r," -> ").concat(s," from ").concat(t));let i={renditionInfo:{id:s,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:i}),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-".concat(t)})}this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{let t=this.mediaTypes_[e],i=t?t.activeGroup():null,n=this.contentSteeringController_.getPathway();if(i&&n){let t=(i.length?i[0].playlists:i.playlists).filter(e=>e.attributes.serviceLocation===n);t.length&&this.mediaTypes_[e].activePlaylistLoader.media(t[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=um.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(um.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){let e;let t=this.main(),i=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return i;let n=t.mediaGroups.AUDIO,r=Object.keys(n);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)e=this.mediaTypes_.AUDIO.activeTrack();else{let t=n.main||r.length&&n[r[0]];for(let i in t)if(t[i].default){e={label:i};break}}if(!e)return i;let s=[];for(let i in n)if(n[i][e.label]){let r=n[i][e.label];if(r.playlists&&r.playlists.length)s.push.apply(s,r.playlists);else if(r.uri)s.push(r);else if(t.playlists.length)for(let e=0;e<t.playlists.length;e++){let n=t.playlists[e];n.attributes&&n.attributes.AUDIO&&n.attributes.AUDIO===i&&s.push(n)}}return s.length?s:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{let e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;_2(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,e.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),Tt({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.selectInitialPlaylist()),t||(t=this.selectPlaylist()),!t||!this.shouldSwitchToMedia_(t)||(this.initialMedia_=t,this.switchMedia_(this.initialMedia_,"initial"),!("vhs-json"===this.sourceType_&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{let e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{let e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;_2(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,"dash"===this.sourceType_&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{let e=this.mainPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(e=>{this.mainPlaylistLoader_.on(e,e=>{this.player_.trigger(uR({},e))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){let n=e.mediaGroups||{},r=!0,s=Object.keys(n.AUDIO);for(let e in n.AUDIO)for(let t in n.AUDIO[e])n.AUDIO[e][t].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),i.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(n.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){let t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),n=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function(e){let{currentPlaylist:t,buffered:i,currentTime:n,nextPlaylist:r,bufferLowWaterLine:s,bufferHighWaterLine:a,duration:o,bufferBasedABR:l,log:c}=e;if(!r)return _k.log.warn("We received no playlist to switch to. Please check your stream."),!1;let u="allowing switch ".concat(t&&t.id||"null"," -> ").concat(r.id);if(!t)return c("".concat(u," as current playlist is not set")),!0;if(r.id===t.id)return!1;let h=!!_F(i,n).length;if(!t.endList)return h||"number"!=typeof t.partTargetDuration?(c("".concat(u," as current playlist is live")),!0):(c("not ".concat(u," as current playlist is live llhls, but currentTime isn't in buffered.")),!1);let d=_H(i,n),p=l?vM.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:vM.MAX_BUFFER_LOW_WATER_LINE;if(o<p)return c("".concat(u," as duration < max low water line (").concat(o," < ").concat(p,")")),!0;let f=r.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(f<m&&(!l||d<a)){let e="".concat(u," as next bandwidth < current bandwidth (").concat(f," < ").concat(m,")");return l&&(e+=" and forwardBuffer < bufferHighWaterLine (".concat(d," < ").concat(a,")")),c(e),!0}if((!l||f>m)&&d>=s){let e="".concat(u," as forwardBuffer >= bufferLowWaterLine (").concat(d," >= ").concat(s,")");return l&&(e+=" and next bandwidth > current bandwidth (".concat(f," > ").concat(m,")")),c(e),!0}return c("not ".concat(u," as no switching criteria met")),!1}({buffered:this.tech_.buffered(),currentTime:i,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{let e=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{let e=this.audioSegmentLoader_.pendingSegment_;if(!e||!e.segment||!e.segment.syncInfo)return;let t=e.segment.syncInfo.end+.01;this.tech_.setCurrentTime(t)}),this.mainSegmentLoader_.on("earlyabort",e=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:10}))});let e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();let e=this.getCodecsOrExclude_();e&&this.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(e=>{this.mainSegmentLoader_.on(e,e=>{this.player_.trigger(uR({},e))}),this.audioSegmentLoader_.on(e,e=>{this.player_.trigger(uR({},e))}),this.subtitleSegmentLoader_.on(e,e=>{this.player_.trigger(uR({},e))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectPlaylist();e&&e===this.mainPlaylistLoader_.media()?this.logger_("skipping fastQualityChange because new media is same as old"):(this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0)}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();let e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}setupFirstPlay(){let e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){let t=this.seekable();if(!t.length)return!1;let i=t.end(0),n=i;if(e.start){let r=e.start.timeOffset;n=r<0?Math.max(i+r,t.start(0)):Math.min(i,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){let e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,e=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;let e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;let t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){let t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;let t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;let n=i.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return n-r<=.1;let a=s.end(s.length-1);return a-r<=.1&&n-a<=.1}excludePlaylist(e){let t,{playlistToExclude:i=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}=e;if(i=i||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!i)return this.error=n,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));i.playlistErrors_++;let s=this.mainPlaylistLoader_.main.playlists,a=s.filter(_0),o=1===a.length&&a[0]===i;if(1===s.length&&r!==1/0)return _k.log.warn("Problem encountered with playlist ".concat(i.id,". Trying again since it is the only playlist.")),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){let e=this.pathwayAttribute_(i),t=1e3*this.contentSteeringController_.steeringManifest.ttl;return this.contentSteeringController_.excludePathway(e),this.excludeThenChangePathway_(),void setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(e)},t)}let e=!1;s.forEach(t=>{if(t===i)return;let n=t.excludeUntil;void 0!==n&&n!==1/0&&(e=!0,delete t.excludeUntil)}),e&&(_k.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}t=i.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*r,i.excludeUntil=t,n.reason&&(i.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});let l=this.selectPlaylist();if(!l)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");let c=n.internal?this.logger_:_k.log.warn,u=n.message?" "+n.message:"";c("".concat(n.internal?"Internal problem":"Problem"," encountered with playlist ").concat(i.id,".").concat(u," Switching to playlist ").concat(l.id,".")),l.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);let h=l.targetDuration/2*1e3||5e3,d="number"==typeof l.lastRequest&&Date.now()-l.lastRequest<=h;return this.switchMedia_(l,"exclude",o||d)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){let i=[],n="all"===e;(n||"main"===e)&&i.push(this.mainPlaylistLoader_);let r=[];(n||"audio"===e)&&r.push("AUDIO"),(n||"subtitle"===e)&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach(e=>{let t=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;t&&i.push(t)}),["main","audio","subtitle"].forEach(t=>{let n=this["".concat(t,"SegmentLoader_")];n&&(e===t||"all"===e)&&i.push(n)}),i.forEach(e=>t.forEach(t=>{"function"==typeof e[t]&&e[t]()}))}setCurrentTime(e){let t=_F(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),void this.load()):0}duration(){if(!this.mainPlaylistLoader_)return 0;let e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:i.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e,t,n;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let s=this.syncController_.getExpiredTime(r,this.duration());if(null===s)return;let a=this.mainPlaylistLoader_.main,o=i.Playlist.seekable(r,s,i.Playlist.liveEdgeDelay(a,r));if(0===o.length||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(s=this.syncController_.getExpiredTime(r,this.duration()))||0===(e=i.Playlist.seekable(r,s,i.Playlist.liveEdgeDelay(a,r))).length)||(this.seekable_&&this.seekable_.length&&(t=this.seekable_.end(0),n=this.seekable_.start(0)),e?e.start(0)>o.end(0)||o.start(0)>e.end(0)?this.seekable_=o:this.seekable_=_N([[e.start(0)>o.start(0)?e.start(0):o.start(0),e.end(0)<o.end(0)?e.end(0):o.end(0)]]):this.seekable_=o,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===t&&this.seekable_.start(0)===n))return;this.logger_("seekable updated [".concat(_U(this.seekable_),"]"));let l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){let e=this.seekable();if(!e.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1)))}let t=this.tech_.buffered(),n=i.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(n=Math.max(n,t.end(t.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{let t=this.mediaTypes_[e].groups;for(let e in t)t[e].forEach(e=>{e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){let e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!i)}getCodecsOrExclude_(){let e;let t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();t.video=t.main;let n=be(this.main(),i),r={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=n.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(r.video+=",".concat(n.audio||t.main.audioCodec||hL)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||s)&&(r.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||hL,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),!r.audio&&!r.video)return void this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});let a={};if(["video","audio"].forEach(function(i){var n,s;if(r.hasOwnProperty(i)&&(n=t[i].isFmp4,s=r[i],!(n?hI(s):hA(s)))){let n=t[i].isFmp4?"browser":"muxer";a[n]=a[n]||[],a[n].push(r[i]),"audio"===i&&(e=n)}}),s&&e&&i.attributes.AUDIO){let t=i.attributes.AUDIO;this.main().playlists.forEach(e=>{(e.attributes&&e.attributes.AUDIO)===t&&e!==i&&(e.excludeUntil=1/0)}),this.logger_("excluding audio group ".concat(t," as ").concat(e,' does not support codec(s): "').concat(r.audio,'"'))}if(!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){let e=[];if(["video","audio"].forEach(t=>{let i=(hC(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,n=(hC(r[t]||"")[0]||{}).type;i&&n&&i.toLowerCase()!==n.toLowerCase()&&e.push('"'.concat(this.sourceUpdater_.codecs[t],'" -> "').concat(r[t],'"'))}),e.length)return void this.excludePlaylist({playlistToExclude:i,error:{message:"Codec switching not supported: ".concat(e.join(", "),"."),internal:!0},playlistExclusionDuration:1/0})}return r}{let e=Object.keys(a).reduce((e,t)=>(e&&(e+=", "),e+="".concat(t,' does not support codec(s): "').concat(a[t].join(","),'"')),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:e},playlistExclusionDuration:1/0})}}tryToCreateSourceBuffers_(){if("open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;let e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);let t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){let e=this.main().playlists,t=[];Object.keys(e).forEach(i=>{let n=e[i];if(-1!==t.indexOf(n.id))return;t.push(n.id);let r=be(this.main,n),s=[];!r.audio||hA(r.audio)||hI(r.audio)||s.push("audio codec ".concat(r.audio)),!r.video||hA(r.video)||hI(r.video)||s.push("video codec ".concat(r.video)),r.text&&"stpp.ttml.im1t"===r.text&&s.push("text codec ".concat(r.text)),s.length&&(n.excludeUntil=1/0,this.logger_("excluding ".concat(n.id," for unsupported: ").concat(s.join(", "))))})}excludeIncompatibleVariants_(e){let t=[],i=this.main().playlists,n=v7(hC(e)),r=v9(n),s=n.video&&hC(n.video)[0]||null,a=n.audio&&hC(n.audio)[0]||null;Object.keys(i).forEach(e=>{let n=i[e];if(-1!==t.indexOf(n.id)||n.excludeUntil===1/0)return;t.push(n.id);let o=[],l=be(this.mainPlaylistLoader_.main,n),c=v9(l);if(l.audio||l.video){if(c!==r&&o.push('codec count "'.concat(c,'" !== "').concat(r,'"')),!this.sourceUpdater_.canChangeType()){let e=l.video&&hC(l.video)[0]||null,t=l.audio&&hC(l.audio)[0]||null;e&&s&&e.type.toLowerCase()!==s.type.toLowerCase()&&o.push('video codec "'.concat(e.type,'" !== "').concat(s.type,'"')),t&&a&&t.type.toLowerCase()!==a.type.toLowerCase()&&o.push('audio codec "'.concat(t.type,'" !== "').concat(a.type,'"'))}o.length&&(n.excludeUntil=1/0,this.logger_("excluding ".concat(n.id,": ").concat(o.join(" && "))))}})}updateAdCues_(e){let t=0,i=this.seekable();i.length&&(t=i.start(0)),function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e.segments)return;let n,r=i;for(let i=0;i<e.segments.length;i++){let s=e.segments[i];if(n||(n=bK(t,r+s.duration/2)),n){if("cueIn"in s){n.endTime=r,n.adEndTime=r,r+=s.duration,n=null;continue}if(r<n.endTime){r+=s.duration;continue}n.endTime+=s.duration}else if("cueOut"in s&&((n=new um.VTTCue(r,r+s.duration,s.cueOut)).adStartTime=r,n.adEndTime=r+parseFloat(s.cueOut),t.addCue(n)),"cueOutCont"in s){let[e,i]=s.cueOutCont.split("/").map(parseFloat);(n=new um.VTTCue(r,r+s.duration,"")).adStartTime=r-e,n.adEndTime=n.adStartTime+i,t.addCue(n)}r+=s.duration}}(e,this.cueTagsTrack_,t)}goalBufferLength(){let e=this.tech_.currentTime(),t=vM.GOAL_BUFFER_LENGTH,i=vM.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,vM.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)}bufferLowWaterLine(){let e=this.tech_.currentTime(),t=vM.BUFFER_LOW_WATER_LINE,i=vM.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,vM.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,vM.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.bufferBasedABR?r:n)}bufferHighWaterLine(){return vM.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){bd(this.inbandTextTracks_,"com.apple.streaming",this.tech_),(e=>{let{inbandTextTracks:t,dateRanges:i}=e,n=t.metadataTrack_;if(!n)return;let r=um.WebKitDataCue||um.VTTCue;i.forEach(e=>{for(let t of Object.keys(e)){if(bh.has(t))continue;let i=new r(e.startTime,e.endTime,"");i.id=e.id,i.type="com.apple.quicktime.HLS",i.value={key:bu[t],data:e[t]},"scte35Out"!==t&&"scte35In"!==t||(i.value.data=new Uint8Array(i.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(i)}e.processDateRange()})})({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,i){let n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();bd(this.inbandTextTracks_,e,this.tech_),bc({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:n,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){let e=this.main();if(e.contentSteering){for(let t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart?this.contentSteeringController_.requestSteeringManifest(!0):this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(e=>{this.contentSteeringController_.on(e,e=>{this.trigger(uR({},e))})}),"dash"===this.sourceType_&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{let e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{let t=this.contentSteeringController_.getAvailablePathways(),i=[];for(let n of e.playlists){let e=n.attributes.serviceLocation;if(e&&(i.push(e),!t.has(e)))return!0}return!(i.length||!t.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){let e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();let t=this.main().playlists,i=new Set,n=!1;Object.keys(t).forEach(r=>{let s=t[r],a=this.pathwayAttribute_(s),o=a&&e!==a;s.excludeUntil!==1/0||"content-steering"!==s.lastExcludeReason_||o||(delete s.excludeUntil,delete s.lastExcludeReason_,n=!0);let l=!s.excludeUntil&&s.excludeUntil!==1/0;!i.has(s.id)&&o&&l&&(i.add(s.id),s.excludeUntil=1/0,s.lastExcludeReason_="content-steering",this.logger_("excluding ".concat(s.id," for ").concat(s.lastExcludeReason_)))}),"DASH"===this.contentSteeringController_.manifestType_&&Object.keys(this.mediaTypes_).forEach(t=>{let i=this.mediaTypes_[t];if(i.activePlaylistLoader){let t=i.activePlaylistLoader.media_;t&&t.attributes.serviceLocation!==e&&(n=!0)}}),n&&this.changeSegmentPathway_()}handlePathwayClones_(){let e=this.main().playlists,t=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(t&&t.size||i&&i.size){for(let[e,n]of t.entries())i.get(e)||(this.mainPlaylistLoader_.updateOrDeleteClone(n),this.contentSteeringController_.excludePathway(e));for(let[n,r]of i.entries()){let i=t.get(n);i?this.equalPathwayClones_(i,r)||(this.mainPlaylistLoader_.updateOrDeleteClone(r,!0),this.contentSteeringController_.addAvailablePathway(n)):(e.filter(e=>e.attributes["PATHWAY-ID"]===r["BASE-ID"]).forEach(e=>{this.mainPlaylistLoader_.addClonePathway(r,e)}),this.contentSteeringController_.addAvailablePathway(n))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;let i=e["URI-REPLACEMENT"].PARAMS,n=t["URI-REPLACEMENT"].PARAMS;for(let e in i)if(i[e]!==n[e])return!1;for(let e in n)if(i[e]!==n[e])return!1;return!0}changeSegmentPathway_(){let e=this.selectPlaylist();this.pauseLoading(),"DASH"===this.contentSteeringController_.manifestType_&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0,t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(i=>{let n=this.mainPlaylistLoader_.getKeyIdSet(i);n&&n.size&&n.forEach(n=>{let r="usable",s=this.keyStatusMap_.has(n)&&this.keyStatusMap_.get(n)===r,a=i.lastExcludeReason_===t&&i.excludeUntil===1/0;s?s&&a&&(delete i.excludeUntil,delete i.lastExcludeReason_,this.logger_("enabling playlist ".concat(i.id," because key ID ").concat(n," is ").concat(r))):(i.excludeUntil!==1/0&&i.lastExcludeReason_!==t&&(i.excludeUntil=1/0,i.lastExcludeReason_=t,this.logger_("excluding playlist ".concat(i.id," because the key ID ").concat(n," doesn't exist in the keyStatusMap or is not ").concat(r))),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(e=>{let i=e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height<720,n=e.excludeUntil===1/0&&e.lastExcludeReason_===t;i&&n&&(delete e.excludeUntil,_k.log.warn("enabling non-HD playlist ".concat(e.id," because all playlists were excluded due to ").concat(t," key IDs")))})}addKeyStatus_(e,t){let i=("string"==typeof e?e:Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")).slice(0,32).toLowerCase();this.logger_("KeyStatus '".concat(t,"' with key ID ").concat(i," added to the keyStatusMap")),this.keyStatusMap_.set(i,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}constructor(e){super();let{src:t,withCredentials:n,tech:r,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:c,sourceType:u,cacheEncryptionKeys:h,bufferBasedABR:d,leastPixelDiffSelector:p,captionServices:f,experimentalUseMMS:m}=e;if(!t)throw Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:g}=e;null==g&&(g=1/0),i=a,this.bufferBasedABR=!!d,this.leastPixelDiffSelector=!!p,this.withCredentials=n,this.tech_=r,this.vhs_=r.vhs,this.player_=e.player_,this.sourceType_=u,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=g,this.enableLowInitialPlaylist=c,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:g,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{let e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:bE,activeTrack:bE,getActiveGroup:bE,onGroupChanged:bE,onTrackChanged:bE,lastTrack_:null,logger_:_P("MediaGroups[".concat(t,"]"))}}),e})(),m&&um.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new um.ManagedMediaSource,_k.log("Using ManagedMediaSource")):um.MediaSource&&(this.mediaSource=new um.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=_N(),this.hasPlayed_=!1,this.syncController_=new b0(e),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new b2,this.sourceUpdater_=new bV(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new b1,this.keyStatusMap_=new Map;let y={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:f,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_="dash"===this.sourceType_?new vN(t,this.vhs_,_D(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new vp(t,this.vhs_,_D(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new bw(_D(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new bw(_D(y,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new bX(_D(y,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((e,t)=>{function i(){r.off("vttjserror",n),e()}function n(){r.off("vttjsloaded",i),t()}r.one("vttjsloaded",i),r.one("vttjserror",n),r.addWebVttScript_()})}),e),this.contentSteeringController_=new Tn(this.vhs_.xhr,()=>this.mainSegmentLoader_.bandwidth),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Tr.forEach(e=>{this[e+"_"]=Ts.bind(this,e)}),this.logger_=_P("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;let _="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(_,()=>{let e=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-e,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}}class To{constructor(e,t,i){var n,r;let{playlistController_:s}=e,a=s.fastQualityChange_.bind(s);if(t.attributes){let e=t.attributes.RESOLUTION;this.width=e&&e.width,this.height=e&&e.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}this.codecs=be(s.main(),t),this.playlist=t,this.id=i,this.enabled=(n=e.playlists,r=t.id,e=>{let t=n.main.playlists[r],i=_Z(t),s=_0(t);if(void 0===e)return s;e?delete t.disabled:t.disabled=!0;let o={renditionInfo:{id:r,bandwidth:t.attributes.BANDWIDTH,resolution:t.attributes.RESOLUTION,codecs:t.attributes.CODECS},cause:"fast-quality"};return e===s||i||(a(t),e?n.trigger({type:"renditionenabled",metadata:o}):n.trigger({type:"renditiondisabled",metadata:o})),e})}}let Tl=["seeking","seeked","pause","playing","error"];class Tc extends _k.EventTarget{monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&um.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=um.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){let t=this.playlistController_["".concat(e,"SegmentLoader_")];this["".concat(e,"StalledDownloads_")]>0&&this.logger_("resetting possible stalled download count for ".concat(e," loader")),this["".concat(e,"StalledDownloads_")]=0,this["".concat(e,"Buffered_")]=t.buffered_()}checkSegmentDownloads_(e){let t=this.playlistController_,i=t["".concat(e,"SegmentLoader_")],n=i.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e||e.length!==t.length)return!0;for(let i=0;i<e.length;i++)if(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))return!0;return!1}(this["".concat(e,"Buffered_")],n);if(this["".concat(e,"Buffered_")]=n,r)return t.trigger({type:"bufferedrangeschanged",metadata:{bufferedRanges:n}}),void this.resetSegmentDownloads_(e);this["".concat(e,"StalledDownloads_")]++,this.logger_("found #".concat(this["".concat(e,"StalledDownloads_")]," ").concat(e," appends that did not increase buffer (possible stalled download)"),{playlistId:i.playlist_&&i.playlist_.id,buffered:_j(n)}),this["".concat(e,"StalledDownloads_")]<10||(this.logger_("".concat(e," loader stalled download exclusion")),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-".concat(e,"-download-exclusion")}),"subtitle"!==e&&t.excludePlaylist({error:{message:"Excessive ".concat(e," segment downloading detected.")},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;let e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(_N([this.lastRecordedTime,e]));let t={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:t}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){let e;if(!this.tech_.seeking())return!1;let t=this.seekable(),i=this.tech_.currentTime();if(this.afterSeekableWindow_(t,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),this.beforeSeekableWindow_(t,i)){let i=t.start(0);e=i+(i===t.end(0)?0:.1)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time ".concat(i," with seekable range ").concat(_U(t),". Seeking to ").concat(e,".")),this.tech_.setCurrentTime(e),!0;let n=this.playlistController_.sourceUpdater_,r=this.tech_.buffered(),s=n.audioBuffer?n.audioBuffered():null,a=n.videoBuffer?n.videoBuffered():null,o=this.media(),l=o.partTargetDuration?o.partTargetDuration:2*(o.targetDuration-_M),c=[s,a];for(let e=0;e<c.length;e++)if(c[e]&&_H(c[e],i)<l)return!1;let u=_B(r,i);return 0!==u.length&&(e=u.start(0)+.1,this.logger_("Buffered region starts (".concat(u.start(0),")  just beyond seek point (").concat(i,"). Seeking to ").concat(e,".")),this.tech_.setCurrentTime(e),!0)}waiting_(){if(this.techWaiting_())return;let e=this.tech_.currentTime(),t=_F(this.tech_.buffered(),e);return t.length&&e+3<=t.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at ".concat(e," while inside a buffered region [").concat(t.start(0)," -> ").concat(t.end(0),"]. Attempting to resume playback by seeking to the current time.")),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}techWaiting_(){let e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){let i=e.end(e.length-1);return this.logger_("Fell out of live window at time ".concat(t,". Seeking to live point (seekable end) ").concat(i)),this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}let i=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;let r=_B(n,t);return r.length>0&&(this.logger_("Stopped at ".concat(t," and seeking to ").concat(r.start(0))),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}afterSeekableWindow_(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.length)return!1;let r=e.end(e.length-1)+.1,s=!i.endList,a="number"==typeof i.partTargetDuration;return s&&(a||n)&&(r=e.end(e.length-1)+3*i.targetDuration),t>r}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_(e){let t,{videoBuffered:i,audioBuffered:n,currentTime:r}=e;if(i){if(i.length&&n.length){let e=_F(i,r-3),s=_F(i,r),a=_F(n,r);a.length&&!s.length&&e.length&&(t={start:e.end(0),end:a.end(0)})}else _B(i,r).length||(t=this.gapFromVideoUnderflow_(i,r));return!!t&&(this.logger_("Encountered a gap in video from ".concat(t.start," to ").concat(t.end,". Seeking to current time ").concat(r)),!0)}}skipTheGap_(e){let t=this.tech_.buffered(),i=this.tech_.currentTime(),n=_B(t,i);if(this.resetTimeUpdate_(),0===n.length||i!==e)return;this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+_M);let r={gapInfo:{from:i,to:n.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:r}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){let i=function(e){if(e.length<2)return _N();let t=[];for(let i=1;i<e.length;i++){let n=e.end(i-1),r=e.start(i);t.push([n,r])}return _N(t)}(e);for(let e=0;e<i.length;e++){let n=i.start(e),r=i.end(e);if(t-n<4&&t-n>2)return{start:n,end:r}}return null}constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=_P("PlaybackWatcher"),this.logger_("initialize");let t=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),s=this.playlistController_,a=["main","subtitle","audio"],o={};a.forEach(e=>{o[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDownloads_(e)},s["".concat(e,"SegmentLoader_")].on("appendsdone",o[e].updateend),s["".concat(e,"SegmentLoader_")].on("playlistupdate",o[e].reset),this.tech_.on(["seeked","seeking"],o[e].reset)});let l=e=>{["main","audio"].forEach(t=>{s["".concat(t,"SegmentLoader_")][e]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(Tl,r),this.tech_.on("canplay",i),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(Tl,r),this.tech_.off("canplay",i),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(e=>{s["".concat(e,"SegmentLoader_")].off("appendsdone",o[e].updateend),s["".concat(e,"SegmentLoader_")].off("playlistupdate",o[e].reset),this.tech_.off(["seeked","seeking"],o[e].reset)}),this.checkCurrentTimeTimeout_&&um.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}}let Tu={errorInterval:30,getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Th=function(e,t){let i=0,n=0,r=_D(Tu,t);e.ready(()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})});let s=function(){n&&e.currentTime(n)},a=function(t){null!=t&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},o=function(){if(Date.now()-i<1e3*r.errorInterval)e.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(r.getSource&&"function"==typeof r.getSource)return i=Date.now(),r.getSource.call(e,a);_k.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function(){e.off("loadedmetadata",s),e.off("error",o),e.off("dispose",l)};e.on("error",o),e.on("dispose",l),e.reloadSourceOnError=function(t){l(),Th(e,t)}};var Td="3.15.0";let Tp={PlaylistLoader:vp,Playlist:_8,utils:vw,STANDARD_PLAYLIST_SELECTOR:bo,INITIAL_PLAYLIST_SELECTOR:function(){let e=this.playlists.main.playlists.filter(_8.isEnabled);return br(e,(e,t)=>bs(e,t)),e.filter(e=>!!be(this.playlists.main,e).video)[0]||null},lastBandwidthSelector:bo,movingAverageBandwidthSelector:function(e){let t=-1,i=-1;if(e<0||e>1)throw Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&um.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),t<0&&(t=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(t=e*this.systemBandwidth+(1-e)*t,i=this.systemBandwidth),ba(this.playlists.main,t,parseInt(bn(this.tech_.el(),"width"),10)*n,parseInt(bn(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},comparePlaylistBandwidth:bs,comparePlaylistResolution:function(e,t){let i,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||um.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),i===(n=n||um.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},xhr:vm()};Object.keys(vM).forEach(e=>{Object.defineProperty(Tp,e,{get:()=>(_k.log.warn("using Vhs.".concat(e," is UNSAFE be sure you know what you are doing")),vM[e]),set(t){_k.log.warn("using Vhs.".concat(e," is UNSAFE be sure you know what you are doing")),"number"!=typeof t||t<0?_k.log.warn("value of Vhs.".concat(e," must be greater than or equal to 0")):vM[e]=t}})});let Tf="videojs-vhs",Tm=function(e,t){let i=t.media(),n=-1;for(let t=0;t<e.length;t++)if(e[t].id===i.id){n=t;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})};Tp.canPlaySource=function(){return _k.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};let Tg=e=>{let t,i,{player:n,sourceKeySystems:r,audioMedia:s,mainPlaylists:a}=e;if(!n.eme.initializeMediaKeys)return Promise.resolve();let o=(t=s?a.concat([s]):a,i=Object.keys(r),t.reduce((e,t)=>{if(!t.contentProtection)return e;let n=i.reduce((e,i)=>{let n=t.contentProtection[i];return n&&n.pssh&&(e[i]={pssh:n.pssh}),e},{});return Object.keys(n).length&&e.push(n),e},[])),l=[],c=[];return o.forEach(e=>{c.push(new Promise((e,t)=>{n.tech_.one("keysessioncreated",e)})),l.push(new Promise((t,i)=>{n.eme.initializeMediaKeys({keySystems:e},e=>{e?i(e):t()})}))}),Promise.race([Promise.all(l),Promise.race(c)])},Ty=e=>{let{player:t,sourceKeySystems:i,media:n,audioMedia:r}=e,s=((e,t,i)=>{if(!e)return e;let n={};t&&t.attributes&&t.attributes.CODECS&&(n=v7(hC(t.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);let r=hx(n.video),s=hx(n.audio),a={};for(let i in e)a[i]={},s&&(a[i].audioContentType=s),r&&(a[i].videoContentType=r),t.contentProtection&&t.contentProtection[i]&&t.contentProtection[i].pssh&&(a[i].pssh=t.contentProtection[i].pssh),"string"==typeof e[i]&&(a[i].url=e[i]);return _D(e,a)})(i,n,r);return!!s&&(t.currentSource().keySystems=s,!(s&&!t.eme)||(_k.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},T_=()=>{if(!um.localStorage)return null;let e=um.localStorage.getItem(Tf);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},Tv=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},Tb=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},TT=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},TS=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};Tp.supportsNativeHls=function(){if(!uM||!uM.createElement)return!1;let e=uM.createElement("video");return!!_k.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),Tp.supportsNativeDash=!!(uM&&uM.createElement&&_k.getTech("Html5").isSupported())&&/maybe|probably/i.test(uM.createElement("video").canPlayType("application/dash+xml")),Tp.supportsTypeNatively=e=>"hls"===e?Tp.supportsNativeHls:"dash"===e&&Tp.supportsNativeDash,Tp.isSupported=function(){return _k.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},Tp.xhr.onRequest=function(e){Tv(Tp.xhr,e)},Tp.xhr.onResponse=function(e){Tb(Tp.xhr,e)},Tp.xhr.offRequest=function(e){TT(Tp.xhr,e)},Tp.xhr.offResponse=function(e){TS(Tp.xhr,e)};let Tw=_k.getComponent("Component");class TE extends Tw{setOptions_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.options_=_D(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=60),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){let e=T_();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=vM.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===vM.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;let t=this.options_.customPixelRatio;"number"==typeof t&&t>=0&&(this.customPixelRatio=t)}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setOptions_(e)}src(e,t){var i;if(!e)return;this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=Tp,this.options_.sourceType=hD(t),this.options_.seekTo=e=>{this.tech_.setCurrentTime(e)},this.options_.player_=this.player_,this.playlistController_=new Ta(this.options_);let n=_D({liveRangeSafeTimeDelta:.1},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Tc(n),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{let e=_k.players[this.tech_.options_.playerId],t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)});let r=this.options_.bufferBasedABR?Tp.movingAverageBandwidthSelector(.55):Tp.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=Tp.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth,t=um.navigator.connection||um.navigator.mozConnection||um.navigator.webkitConnection;if(this.options_.useNetworkInformationApi&&t){let i=1e3*t.downlink*1e3;e=i>=1e7&&e>=1e7?Math.max(e,i):i}return e},set(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){return Math.floor(1/(1/(this.bandwidth||1)+(this.throughput>0?1/this.throughput:0)))},set(){_k.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>_j(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>_j(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&(e=>{if(!um.localStorage)return;let t=T_();t=t?_D(t,e):e;try{um.localStorage.setItem(Tf,JSON.stringify(t))}catch(e){return!1}})({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{var e;(e=this).representations=()=>{let t=e.playlistController_.main(),i=_3(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return i?i.filter(e=>!_Z(e)).map((t,i)=>new To(e,t,t.id)):[]}}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=um.URL.createObjectURL(this.playlistController_.mediaSource),(_k.browser.IS_ANY_SAFARI||_k.browser.IS_IOS)&&this.options_.overrideNative&&"hls"===this.options_.sourceType&&"function"==typeof this.tech_.addSourceElement?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){let e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Tg({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){let e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=Ty({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",e=>{this.playlistController_.updatePlaylistByKeyStatus(e.keyId,e.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),t?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){let e=_k.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{var e;e=this.qualityLevels_,this.representations().forEach(t=>{e.addQualityLevel(t)}),Tm(e,this.playlists)}),this.playlists.on("mediachange",()=>{Tm(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":Td,"mux.js":"7.0.3","mpd-parser":"1.3.1","m3u8-parser":"7.2.0","aes-decrypter":"4.0.2"}}version(){return this.constructor.version()}canChangeType(){return bV.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&um.URL.revokeObjectURL&&(um.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return vE({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return vC({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{Tv(this.xhr,e)},this.xhr.onResponse=e=>{Tb(this.xhr,e)},this.xhr.offRequest=e=>{TT(this.xhr,e)},this.xhr.offResponse=e=>{TS(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(e=>{this.playlistController_.on(e,e=>{this.player_.trigger(uR({},e))})}),["gapjumped","playedrangeschanged"].forEach(e=>{this.playbackWatcher_.on(e,e=>{this.player_.trigger(uR({},e))})})}constructor(e,t,i){if(super(t,i.vhs),"number"==typeof i.initialBandwidth&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=_P("VhsHandler"),t.options_&&t.options_.playerId){let e=_k.getPlayer(t.options_.playerId);this.player_=e}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(uM,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],e=>{let t=uM.fullscreenElement||uM.webkitFullscreenElement||uM.mozFullScreenElement||uM.msFullscreenElement;t&&t.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}}let TC={name:"videojs-http-streaming",VERSION:Td,canHandleSource(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=_D(_k.options,t);return!(!i.vhs.experimentalUseMMS&&!hI("avc1.4d400d,mp4a.40.2",!1))&&TC.canPlayType(e.type,i)},handleSource(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=_D(_k.options,i);return t.vhs=new TE(e,t,n),t.vhs.xhr=vm(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){let i=hD(e);if(!i)return"";let n=TC.getOverrideNative(t);return!Tp.supportsTypeNatively(i)||n?"maybe":""},getOverrideNative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{vhs:t={}}=e,i=!(_k.browser.IS_ANY_SAFARI||_k.browser.IS_IOS),{overrideNative:n=i}=t;return n}};hI("avc1.4d400d,mp4a.40.2",!0)&&_k.getTech("Html5").registerSourceHandler(TC,0),_k.VhsHandler=TE,_k.VhsSourceHandler=TC,_k.Vhs=Tp,_k.use||_k.registerComponent("Vhs",Tp),_k.options.vhs=_k.options.vhs||{},_k.getPlugin&&_k.getPlugin("reloadSourceOnError")||_k.registerPlugin("reloadSourceOnError",function(e){Th(this,e)});let Tk=e=>{let t=e.browser.IS_IOS||e.browser.IS_NATIVE_ANDROID,i=e.getTech("Tech");class n extends i{dispose(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var e=n.apiReadyQueue.indexOf(this);-1!==e&&n.apiReadyQueue.splice(e,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),i.prototype.dispose.call(this)}createEl(){if("undefined"!=typeof document){var e=document.createElement("div");e.setAttribute("id",this.options_.techId),e.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),e.setAttribute("class","vjs-tech");var i=document.createElement("div");if(i.appendChild(e),!t&&!this.options_.ytControls){var n=document.createElement("div");n.setAttribute("class","vjs-iframe-blocker"),n.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),n.onclick=(function(){this.pause()}).bind(this),i.appendChild(n)}return i}}initYTPlayer(){var e={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(void 0!==this.options_.autohide&&(e.autohide=this.options_.autohide),void 0!==this.options_.cc_load_policy&&(e.cc_load_policy=this.options_.cc_load_policy),void 0!==this.options_.ytControls&&(e.controls=this.options_.ytControls),void 0!==this.options_.disablekb&&(e.disablekb=this.options_.disablekb),void 0!==this.options_.color&&(e.color=this.options_.color),e.controls?void 0!==this.options_.fs&&(e.fs=this.options_.fs):e.fs=0,-1!==this.options_.source.src.indexOf("end=")){var t=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(t[1])}if(void 0!==this.options_.end&&(e.end=this.options_.end),void 0!==this.options_.hl?e.hl=this.options_.hl:void 0!==this.options_.language&&(e.hl=this.options_.language.substr(0,2)),void 0!==this.options_.iv_load_policy&&(e.iv_load_policy=this.options_.iv_load_policy),void 0!==this.options_.list?e.list=this.options_.list:this.url&&void 0!==this.url.listId&&(e.list=this.url.listId),void 0!==this.options_.listType&&(e.listType=this.options_.listType),void 0!==this.options_.modestbranding&&(e.modestbranding=this.options_.modestbranding),void 0!==this.options_.playlist&&(e.playlist=this.options_.playlist),void 0!==this.options_.playsinline&&(e.playsinline=this.options_.playsinline),void 0!==this.options_.rel&&(e.rel=this.options_.rel),void 0!==this.options_.showinfo&&(e.showinfo=this.options_.showinfo),-1!==this.options_.source.src.indexOf("start=")){var i=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(i[1])}if(void 0!==this.options_.start&&(e.start=this.options_.start),void 0!==this.options_.theme&&(e.theme=this.options_.theme),void 0!==this.options_.customVars){var n=this.options_.customVars;Object.keys(n).forEach(function(t){e[t]=n[t]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=e.list;var r={videoId:this.activeVideoId,playerVars:e,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};void 0!==this.options_.enablePrivacyEnhancedMode&&this.options_.enablePrivacyEnhancedMode&&(r.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,r)}onPlayerReady(){this.options_.muted&&this.ytPlayer.mute(),this.ytPlayer.getAvailablePlaybackRates().length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)}onPlayerPlaybackQualityChange(){}onPlayerPlaybackRateChange(){this.trigger("ratechange")}onPlayerStateChange(e){var t=e.data;if(t!==this.lastState&&!this.errorNumber)switch(this.lastState=t,t){case -1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting")}}onPlayerVolumeChange(){this.trigger("volumechange")}onPlayerError(e){this.errorNumber=e.data,this.trigger("pause"),this.trigger("error")}error(){var e=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:e,message:"Error while trying to play the video"};case 2:case 100:return{code:e,message:"Unable to find the video"};case 101:case 150:return{code:e,message:"Playback on other Websites has been disabled by the video owner."}}return{code:e,message:"YouTube unknown error ("+this.errorNumber+")"}}loadVideoById_(e){var t={videoId:e};this.options_.start&&(t.startSeconds=this.options_.start),this.options_.end&&(t.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(t)}cueVideoById_(e){var t={videoId:e};this.options_.start&&(t.startSeconds=this.options_.start),this.options_.end&&(t.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(t)}src(e){return e&&this.setSrc({src:e}),this.source}poster(){return t?null:this.poster_}setPoster(e){this.poster_=e}setSrc(e){e&&e.src&&(delete this.errorNumber,this.source=e,this.url=n.parseUrl(e.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!t?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))}autoplay(){return this.options_.autoplay}setAutoplay(e){this.options_.autoplay=e}loop(){return this.options_.loop}setLoop(e){this.options_.loop=e}play(){this.url&&this.url.videoId&&(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))}pause(){this.ytPlayer&&this.ytPlayer.pauseVideo()}paused(){return!this.ytPlayer||this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING}currentTime(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0}setCurrentTime(e){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(e,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==e&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval((function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked()):clearInterval(this.checkSeekedInPauseInterval)}).bind(this),250))}seeking(){return this.isSeeking}seekable(){return this.ytPlayer?e.createTimeRange(0,this.ytPlayer.getDuration()):e.createTimeRange()}onSeeked(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}playbackRate(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1}setPlaybackRate(e){this.ytPlayer&&this.ytPlayer.setPlaybackRate(e)}duration(){return this.ytPlayer?this.ytPlayer.getDuration():0}currentSrc(){return this.source&&this.source.src}ended(){return!!this.ytPlayer&&this.lastState===YT.PlayerState.ENDED}volume(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1}setVolume(e){this.ytPlayer&&this.ytPlayer.setVolume(100*e)}muted(){return!!this.ytPlayer&&this.ytPlayer.isMuted()}setMuted(e){this.ytPlayer&&(this.muted(!0),e?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50))}buffered(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return e.createTimeRange();var t=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return e.createTimeRange(0,t)}preload(){}load(){}reset(){}networkState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case -1:return 0;case 3:return 2;default:return 1}}readyState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case -1:return 0;case 5:return 1;case 3:return 2;default:return 4}}supportsFullScreen(){if("undefined"!=typeof document)return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}checkHighResPoster(){var e="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var t=new Image;t.onload=(function(){if("naturalHeight"in t){if(t.naturalHeight<=90||t.naturalWidth<=120)return}else if(t.height<=90||t.width<=120)return;this.poster_=e,this.trigger("posterchange")}).bind(this),t.onerror=function(){},t.src=e}catch(e){}}constructor(e,i){super(e,i),this.setPoster(e.poster),this.setSrc(this.options_.source,!0),this.setTimeout((function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",t&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),n.isApiReady?this.initYTPlayer():n.apiReadyQueue.push(this))}).bind(this))}}n.isSupported=function(){return!0},n.canPlaySource=function(e){return n.canPlayType(e.type)},n.canPlayType=function(e){return"video/youtube"===e},n.parseUrl=function(e){var t={videoId:null},i=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return i&&11===i[2].length&&(t.videoId=i[2]),(i=e.match(/[?&]list=([^#\&\?]+)/))&&i[1]&&(t.listId=i[1]),t},n.apiReadyQueue=[],"undefined"!=typeof document&&(function(e,t){if("undefined"!=typeof document){var i=!1,n=document.createElement("script"),r=document.getElementsByTagName("script")[0];r&&(r.parentNode.insertBefore(n,r),n.onload=function(){i||(i=!0,t())},n.onreadystatechange=function(){i||"complete"!==this.readyState&&"loaded"!==this.readyState||(i=!0,t())},n.src=e)}}("https://www.youtube.com/iframe_api",function(){YT.ready(function(){n.isApiReady=!0;for(var e=0;e<n.apiReadyQueue.length;++e)n.apiReadyQueue[e].initYTPlayer()})}),function(){if("undefined"!=typeof document){var e=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i)}}()),void 0!==e.registerTech?e.registerTech("Youtube",n):e.registerComponent("Youtube",n)},Tx={languages:{it:{"Audio Player":"Lettore audio","Video Player":"Lettore video",Play:"Play",Pause:"Pausa",Replay:"Replay","Current Time":"Orario attuale",Duration:"Durata","Remaining Time":"Tempo rimanente","Stream Type":"Tipo di streaming",LIVE:"LIVE",Loaded:"Caricato",Progress:"Stato","Progress Bar":"Barra di avanzamento","progress bar timing: currentTime={1} duration={2}":"{1} di {2}",Fullscreen:"Schermo intero","Exit Fullscreen":"Chiudi Schermo intero",Mute:"Disattiva lâ€™audio",Unmute:"Attiva lâ€™audio","Playback Rate":"Velocit\xe0 di riproduzione",Subtitles:"Sottotitoli","subtitles off":"Senza sottotitoli",Captions:"Sottotitoli non udenti","captions off":"Senza sottotitoli non udenti",Chapters:"Capitolo",Descriptions:"Descrizioni","descriptions off":"Descrizioni disattivate","Audio Track":"Traccia audio","Volume Level":"Livello del volume","You aborted the media playback":"La riproduzione del filmato \xe8 stata interrotta.","A network error caused the media download to fail part-way.":"Il download del filmato \xe8 stato interrotto a causa di un problema rete.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Il filmato non pu\xf2 essere caricato a causa di un errore nel server o nella rete o perch\xe9 il formato non viene supportato.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La riproduzione del filmato \xe8 stata interrotta a causa di un file danneggiato o per lâ€™utilizzo di impostazioni non supportate dal browser.","No compatible source was found for this media.":"Non ci sono fonti compatibili per questo filmato.","The media is encrypted and we do not have the keys to decrypt it.":"Il contenuto multimediale \xe8 criptato e non disponiamo delle chiavi per decifrarlo.","Play Video":"Riproduci il video",Close:"Chiudi","Close Modal Dialog":"Chiudi la finestra di dialogo","Modal Window":"Finestra di dialogo","This is a modal window":"Questa \xe8 una finestra di dialogo","This modal can be closed by pressing the Escape key or activating the close button.":"Questa finestra di dialogo pu\xf2 essere chiusa premendo sul tasto Esc o attivando il pulsante di chiusura.",", opens captions settings dialog":", aprire i parametri della trascrizione dei sottotitoli",", opens subtitles settings dialog":", aprire i parametri dei sottotitoli",", opens descriptions settings dialog":", aprire i parametri delle descrizioni",", selected":", selezionato","captions settings":"Parametri sottotitoli non udenti","subtitles settings":"Parametri sottotitoli","descriptions settings":"Parametri descrizioni",Text:"Testo",White:"Bianco",Black:"Nero",Red:"Rosso",Green:"Verde",Blue:"Blu",Yellow:"Giallo",Magenta:"Magenta",Cyan:"Ciano",Background:"Sfondo",Window:"Finestra",Transparent:"Trasparente","Semi-Transparent":"Semi-Trasparente",Opaque:"Opaco","Font Size":"Dimensione dei caratteri","Text Edge Style":"Stile dei bordi del testo",None:"Nessuno",Uniform:"Uniforme","Drop shadow":"Ombra","Font Family":"Carattere","Proportional Sans-Serif":"Sans-Serif proporzionale","Monospace Sans-Serif":"Sans-Serif monospaziato","Proportional Serif":"Serif proporzionale","Monospace Serif":"Serif monospaziato","Small Caps":"Maiuscoletto",Reset:"Reinizializza","restore all settings to the default values":"Ripristina i valori predefiniti per tutti i parametri",Done:"Fatto","Caption Settings Dialog":"Finestra di dialogo dei parametri della trascrizione dei sottotitoli","Beginning of dialog window. Escape will cancel and close the window.":"Inizio della finestra di dialogo. Il tasto Esc annuller\xe0 lâ€™operazione e chiuder\xe0 la finestra.","End of dialog window.":"Fine della finestra di dialogo.","{1} is loading.":"{1} in fase di caricamento.","Exit Picture-in-Picture":"Esci dalla modalit\xe0 Picture-in-Picture","Picture-in-Picture":"Picture-in-Picture",Color:"Colore",Opacity:"Opacit\xe0","Text Background":"Sfondo testo","Caption Area Background":"Sfondo area sottotitoli","Skip forward {1} seconds":"Avanti {1} secondi","Skip backward {1} seconds":"Indietro {1} secondi"}},language:"it"},TI={};window.videojs=_k;class TA extends t3{setYouTubeVideo(e){Tk(_k),this.player.tech("youtube"),this.player.src({type:"video/youtube",src:e})}static get NAME(){return"videoplayer"}_getConfig(e){return e={...TI,...t4.getDataAttributes(this._element),..."object"==typeof e?e:{}}}constructor(e,t){super(e),e.classList.add("video-js","vjs-theme-bootstrap-italia","vjs-fluid","vjs-big-play-centered"),this._config=this._getConfig(t),this.player=_k(e,Tx)}}let TL=t8.find("[data-bs-video]");TL.length>0&&TL.forEach(e=>{TA.getOrCreateInstance(e)});let TO="show";class TP extends t3{static get NAME(){return"acceptoverlay"}show(){this._isShown||this._isTransitioning||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._showElement())}hide(){if(!this._isShown||this._isTransitioning)return;this._isShown=!1;let e=this._isAnimated();e&&(this._isTransitioning=!0),this._element.classList.remove(TO),this._overlayable.classList.remove(TO),this._queueCallback(()=>this._hideElement(),this._element,e)}_isAnimated(){return this._element.classList.contains("fade")}_showElement(){let e=this._isAnimated();this._element.removeAttribute("aria-hidden"),e&&tO(this._element),this._element.classList.add(TO),this._overlayable.add(TO),this._queueCallback(()=>{this._isTransitioning=!1},this._element,e)}_hideElement(){this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1}constructor(e,t){super(e.closest(".acceptoverlay")),this._overlayable=e.closest(".acceptoverlayable");let i=p.isChoiceRemembered(t.service);if(this._isShown=!0,this._toggleElement=e,this._element.classList.contains(TO)&&this._overlayable.classList.add(TO),i)return this.hide(),void setTimeout(()=>{this._toggleElement.dispatchEvent(new Event("click"))},100);this._toggleElement.addEventListener("click",()=>{this.hide(),this._remember=this._toggleElement.parentElement.querySelector("[data-bs-accept-remember]").checked,p.rememberChoice(t.service,this._remember)})}}let TD=t8.find("[data-bs-accept-from]");return TD.length>0&&TD.forEach(e=>{TP.getOrCreateInstance(e,{service:e.dataset.bsAcceptFrom})}),h(),{Alert:class extends s4{},Button:class extends s3{},Carousel:class extends ax{},Collapse:class extends aj{},Dropdown:class extends lm{},Modal:class extends lQ{},Offcanvas:class extends cn{},Popover:class extends ck{},ScrollSpy:class extends cR{},Tab:c9,Toast:class extends uf{},Tooltip:class extends cw{},VideoPlayer:TA,AcceptOverlay:TP,Accordion:i2,BackToTop:sh,CarouselBI:t9,Cookiebar:iD,Dimmer:ig,FormValidate:class{init(){this.target.querySelectorAll("input, select").forEach(e=>{let t=new rx(e,this.config.errorFieldCssClass,()=>this.onInputError(e),()=>this.onInputErrorRemove(e),!0);e.id||e.setAttribute("id",rL+"-input-"+Math.random()),this.formItems.push({item:e,watcher:t})}),this.target.querySelectorAll("fieldset").forEach(e=>{if(e.querySelectorAll("input[type=radio],input[type=checkbox]").length>0){let t=new rI(e,"."+this.config.errorLabelCssClass,()=>this.onFieldsetError(e),()=>this.onFieldsetErrorRemove(e));e.id||e.setAttribute("id",rL+"-fieldset-"+Math.random()),this.formItems.push({item:e,watcher:t})}})}onInputError(e){let t=this.getErrorMessages(e),i=[];t.forEach((t,n)=>{let r=e.id+"-error-"+n;t.setAttribute("id",r),i.push(r)}),i.length>0&&(e.setAttribute("aria-describedby",i.join(" ")),e.setAttribute("aria-invalid","true"))}onInputErrorRemove(e){e.removeAttribute("aria-describedby"),e.setAttribute("aria-invalid","false")}onFieldsetError(e){let t=this.getErrorMessages(e),i=[],n=[];if(t.forEach((t,r)=>{let s=e.id+"-error-"+r;t.setAttribute("id",s),i.push(s),n.push(t.textContent)}),i.length>0){let t=e.querySelector("legend");t&&(t.setAttribute("aria-describedby",i.join(" ")),t.setAttribute("aria-invalid","true"))}}onFieldsetErrorRemove(e){let t=e.querySelector("legend");if(t){t.removeAttribute("aria-describedby"),t.setAttribute("aria-invalid","false");let e=t.querySelector(".sr-only-justvalidate-bi");e&&e.remove()}}getErrorMessages(e){let t=e,i=t.querySelectorAll("."+this.config.errorLabelCssClass);for(;null!=t&&0===i.length;)i=(t=t.parentNode).querySelectorAll("."+this.config.errorLabelCssClass);return i}constructor(e,t,i){return this.formSelector=e,this.target=document.querySelector(e),this.validate=null!=i?new rk(e,t,i):new rk(e,t),this.config=Object.assign({},rA,this.validate.globalConfig),this.formItems=[],this.init(),this.validate}},Forward:s_,HistoryBack:sf,Input:rO,InputNumber:ip,InputPassword:r2,InputSearchAutocomplete:rH,List:sR,Masonry:sA,NavBarCollapsible:iJ,NavScroll:n7,Notification:iw,ProgressDonut:r6,SelectAutocomplete:class extends t3{static get NAME(){return"selectautocomplete"}_enhance(){rF.enhanceSelectElement(Object.assign({},{selectElement:this._element},this._config)),setTimeout(()=>{if(this._hasFormControl){if("undefined"==typeof document)return;let e=document.getElementById(this.element_original_id);e.classList.add("form-control"),function(e,t){let i=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"class"===e.attributeName&&t(e.target)})});i.observe(e,{attributes:!0}),i.disconnect}(e,e=>{e.classList.contains("form-control")||e.classList.add("form-control")})}},100)}constructor(e,t){super(e),this._hasFormControl=e.classList.contains("form-control"),this.element_original_id=this._element.id,this._config=t,this._config.tAssistiveHint||(this._config.tAssistiveHint=()=>"Quando i risultati del completamento automatico sono disponibili, usa le frecce su e gi\xf9 per rivedere e Invio per selezionare. Utenti di dispositivi touch, esplora tramite tocco o con gesti di scorrimento"),this._config.tNoResults||(this._config.tNoResults=()=>"Nessun risultato trovato"),this._config.tStatusQueryTooShort||(this._config.tStatusQueryTooShort=e=>"Digita ".concat(e," o pi\xf9 caratteri per mostrare le opzioni di ricerca")),this._config.tStatusNoResults||(this._config.tStatusNoResults=()=>"Nessun risultato di ricerca"),this._config.tStatusSelectedOption||(this._config.tStatusSelectedOption=(e,t,i)=>"".concat(e," ").concat(i+1," di ").concat(t," \xe8 sottolineato")),this._config.tStatusResults||(this._config.tStatusResults=(e,t)=>"".concat(e," ").concat(1===e?"risultato":"risultati"," ").concat(1===e?"\xe8":"sono"," ").concat(1===e?"disponibile":"disponibili",". ").concat(t)),this._enhance()}},Sticky:ro,HeaderSticky:rh,Transfer:sZ,UploadDragDrop:so,ValidatorSelectAutocomplete:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(i,n)=>{let r=!1,s=n[e];if(!s)throw Error("ValidatorSelectAutocomplete: "+e+" not found as form field");return t.required||i?document.querySelector("#"+s.elem.id+"-select").querySelectorAll("option").forEach(e=>{e.text===i&&(r=!0)}):r=!0,r}},loadFonts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/node_modules/bootstrap-italia/dist/fonts";if("undefined"==typeof document)return;let t=document.createElement("style"),i=window.__PUBLIC_PATH__?window.__PUBLIC_PATH__:e;t.innerHTML="\n  /* Titillium+Web:300,400,600,700 */\n\n  /* titillium-web-300 - latin-ext_latin */\n  @font-face {\n    font-family: 'Titillium Web';\n    font-style: normal;\n    font-weight: 300;\n    font-display: swap;\n    src: url('".concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300.svg#TitilliumWeb') format('svg'); /* Legacy iOS */\n  }\n\n  /* titillium-web-300italic - latin-ext_latin */\n  @font-face {\n    font-family: 'Titillium Web';\n    font-style: italic;\n    font-weight: 300;\n    font-display: swap;\n    src: url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300italic.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300italic.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300italic.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300italic.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-300italic.svg#TitilliumWeb') format('svg'); /* Legacy iOS */\n  }\n\n  /* titillium-web-regular - latin-ext_latin */\n  @font-face {\n    font-family: 'Titillium Web';\n    font-style: normal;\n    font-weight: 400;\n    font-display: swap;\n    src: url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-regular.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-regular.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-regular.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-regular.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-regular.svg#TitilliumWeb') format('svg'); /* Legacy iOS */\n  }\n\n  /* titillium-web-italic - latin-ext_latin */\n  @font-face {\n    font-family: 'Titillium Web';\n    font-style: italic;\n    font-weight: 400;\n    font-display: swap;\n    src: url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-italic.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-italic.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-italic.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-italic.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-italic.svg#TitilliumWeb') format('svg'); /* Legacy iOS */\n  }\n\n  /* titillium-web-700 - latin-ext_latin */\n  @font-face {\n    font-family: 'Titillium Web';\n    font-style: normal;\n    font-weight: 700;\n    font-display: swap;\n    src: url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700.svg#TitilliumWeb') format('svg'); /* Legacy iOS */\n  }\n\n  /* titillium-web-700italic - latin-ext_latin */\n  @font-face {\n    font-family: 'Titillium Web';\n    font-style: italic;\n    font-weight: 700;\n    font-display: swap;\n    src: url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700italic.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700italic.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700italic.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700italic.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-700italic.svg#TitilliumWeb') format('svg'); /* Legacy iOS */\n  }\n  /* titillium-web-600 - latin-ext_latin */\n  @font-face {\n    font-family: 'Titillium Web';\n    font-style: normal;\n    font-weight: 600;\n    font-display: swap;\n    src: url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600.svg#TitilliumWeb') format('svg'); /* Legacy iOS */\n  }\n\n  /* titillium-web-600italic - latin-ext_latin */\n  @font-face {\n    font-family: 'Titillium Web';\n    font-style: italic;\n    font-weight: 600;\n    font-display: swap;\n    src: url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600italic.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600italic.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600italic.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600italic.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Titillium_Web/titillium-web-v10-latin-ext_latin-600italic.svg#TitilliumWeb') format('svg'); /* Legacy iOS */\n  }\n\n  /* Lora:400,700 */\n\n  /* lora-regular - latin-ext_latin */\n  @font-face {\n    font-family: 'Lora';\n    font-style: normal;\n    font-weight: 400;\n    font-display: swap;\n    src: url('").concat(i,"/Lora/lora-v20-latin-ext_latin-regular.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-regular.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-regular.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-regular.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-regular.svg#Lora') format('svg'); /* Legacy iOS */\n  }\n\n  /* lora-700 - latin-ext_latin */\n  @font-face {\n    font-family: 'Lora';\n    font-style: normal;\n    font-weight: 700;\n    font-display: swap;\n    src: url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700.svg#Lora') format('svg'); /* Legacy iOS */\n  }\n\n  /* lora-italic - latin-ext_latin */\n  @font-face {\n    font-family: 'Lora';\n    font-style: italic;\n    font-weight: 400;\n    font-display: swap;\n    src: url('").concat(i,"/Lora/lora-v20-latin-ext_latin-italic.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-italic.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-italic.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-italic.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-italic.svg#Lora') format('svg'); /* Legacy iOS */\n  }\n\n  /* lora-700italic - latin-ext_latin */\n  @font-face {\n    font-family: 'Lora';\n    font-style: italic;\n    font-weight: 700;\n    font-display: swap;\n    src: url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700italic.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700italic.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700italic.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700italic.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Lora/lora-v20-latin-ext_latin-700italic.svg#Lora') format('svg'); /* Legacy iOS */\n  }\n\n  /* Roboto+Mono:400,700 */\n\n  /* roboto-mono-regular - latin-ext_latin */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 400;\n    font-display: swap;\n    src: url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-regular.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-regular.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-regular.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-regular.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-regular.svg#RobotoMono') format('svg'); /* Legacy iOS */\n  }\n\n  /* roboto-mono-700 - latin-ext_latin */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 700;\n    font-display: swap;\n    src: url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700.svg#RobotoMono') format('svg'); /* Legacy iOS */\n  }\n\n  /* roboto-mono-italic - latin-ext_latin */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: italic;\n    font-weight: 400;\n    font-display: swap;\n    src: url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-italic.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-italic.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-italic.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-italic.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-italic.svg#RobotoMono') format('svg'); /* Legacy iOS */\n  }\n\n  /* roboto-mono-700italic - latin-ext_latin */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: italic;\n    font-weight: 700;\n    font-display: swap;\n    src: url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700italic.eot'); /* IE9 Compat Modes */\n    src: local(''),\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700italic.woff2') format('woff2'), /* Super Modern Browsers */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700italic.woff') format('woff'), /* Modern Browsers */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700italic.ttf') format('truetype'), /* Safari, Android, iOS */\n        url('").concat(i,"/Roboto_Mono/roboto-mono-v13-latin-ext_latin-700italic.svg#RobotoMono') format('svg'); /* Legacy iOS */\n  }\n  "),document.getElementsByTagName("head")[0].appendChild(t)},cookies:p}},e.exports=n()},4269:()=>{},82:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var n=i(2115);function r(){return(0,n.useEffect)(()=>{i(1803),i(4269)},[]),null}},3461:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});let n=(0,i(2115).createContext)({lang:"ITA",setLang:e=>{}})},7162:(e,t,i)=>{"use strict";i.d(t,{default:()=>f});var n=i(5155),r=i(8173),s=i.n(r),a=i(5565),o=i(6046);let l={src:"/_next/static/media/avatatr.cb72a36a.jpg",height:80,width:63,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAIAAYDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAACICf8A/8QAHRAAAgIBBQAAAAAAAAAAAAAAAQIDBBIABRNBUf/aAAgBAQABPwBr+2Kgmkp8kjscwrFBkfCOtf/EABcRAAMBAAAAAAAAAAAAAAAAAAABEmH/2gAIAQIBAT8Ahaf/xAAYEQACAwAAAAAAAAAAAAAAAAAAEQESIf/aAAgBAwEBPwCzWQf/2Q==",blurWidth:6,blurHeight:8};var c=i(3463),u=i(2115),h=i(3461);function d(){let e=(0,o.usePathname)(),{lang:t,setLang:i}=(0,u.useContext)(h.s),r=["ITA","ENG"].map(r=>(console.log("Pathneme: ",e),(0,n.jsx)("li",{children:(0,n.jsx)("a",{className:"dropdown-item list-item",href:"#",onClick:()=>{i(r)},children:(0,n.jsxs)("span",{children:[r," ",(0,n.jsx)(()=>r===t?(0,n.jsx)("span",{className:"visually-hidden",children:"selezionata"}):null,{})]})})},r)));return(0,n.jsxs)("div",{className:"nav-item dropdown",children:[(0,n.jsxs)("button",{type:"button",className:(0,c.A)("nav-link dropdown-toggle p-1",{"bg-primary":"/"!==e,"bg-white":"/"===e}),"data-bs-toggle":"dropdown","aria-expanded":"false","aria-controls":"languages","aria-haspopup":"true","data-focus-mouse":"false",children:[(0,n.jsx)("span",{className:"visually-hidden",children:"Lingua attiva:"}),(0,n.jsx)("span",{children:t}),(0,n.jsx)("svg",{className:(0,c.A)("icon",{"icon-white":"/"!==e}),children:(0,n.jsx)("use",{href:"/svg/sprites.svg#it-expand"})})]}),(0,n.jsx)("div",{className:"dropdown-menu",style:{},children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsx)("div",{className:"link-list-wrapper",children:(0,n.jsx)("ul",{className:"link-list",children:r})})})})})]})}var p=i(110);function f(){let e=(0,o.usePathname)();return(0,n.jsx)("header",{className:"it-header-wrapper",children:(0,n.jsxs)("div",{className:"it-nav-wrapper",children:[(0,n.jsx)("div",{className:(0,c.A)("it-header-center-wrapper",{"theme-light":"/"===e}),children:(0,n.jsx)("div",{className:"container-xxl",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsxs)("div",{className:"it-header-center-content-wrapper",children:[(0,n.jsx)("div",{className:"it-brand-wrapper",children:(0,n.jsxs)("a",{href:"#",children:[(0,n.jsx)("div",{className:"avatar size-xl me-3",children:(0,n.jsx)(a.default,{src:l,alt:"Avatar",title:"Avatar"})}),(0,n.jsxs)("div",{className:"it-brand-text",children:[(0,n.jsx)("div",{className:"it-brand-title",children:"Andrea Orsini"}),(0,n.jsx)("div",{className:"it-brand-tagline d-none d-md-block",children:"Full stack web developer"})]})]})}),(0,n.jsxs)("div",{className:"it-right-zone",children:[(0,n.jsx)("div",{className:"lang-menu me-3",children:(0,n.jsx)(d,{})}),(0,n.jsxs)("div",{className:"it-socials d-none d-md-flex",children:[(0,n.jsx)("span",{children:(0,p.A)("seguimiSu")}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"https://github.com/haunted2","aria-label":"Github",target:"_blank",children:(0,n.jsx)("svg",{className:"icon",children:(0,n.jsx)("use",{href:"svg/sprites.svg#it-github"})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"https://www.linkedin.com/in/andrea-orsini-57b428201/","aria-label":"Twitter",target:"_blank",children:(0,n.jsx)("svg",{className:"icon",children:(0,n.jsx)("use",{href:"svg/sprites.svg#it-linkedin"})})})})]})]})]})]})})})})}),(0,n.jsx)("div",{className:(0,c.A)("it-header-navbar-wrapper",{"theme-light-desk":"/"===e}),children:(0,n.jsx)("div",{className:"container-xxl",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsxs)("nav",{className:"navbar navbar-expand-lg has-megamenu","aria-label":"Navigazione principale",children:[(0,n.jsx)("button",{className:"custom-navbar-toggler",type:"button","aria-controls":"navC1","aria-expanded":"false","aria-label":"Mostra/Nascondi la navigazione","data-bs-toggle":"navbarcollapsible","data-bs-target":"#navC1",children:(0,n.jsx)("svg",{className:"icon",children:(0,n.jsx)("use",{href:"svg/sprites.svg#it-burger"})})}),(0,n.jsxs)("div",{className:"navbar-collapsable",id:"navC1",style:{display:"none"},children:[(0,n.jsx)("div",{className:"overlay",style:{display:"none"}}),(0,n.jsx)("div",{className:"close-div",children:(0,n.jsxs)("button",{className:"btn close-menu",type:"button",children:[(0,n.jsx)("span",{className:"visually-hidden",children:"Nascondi la navigazione"}),(0,n.jsx)("svg",{className:"icon",children:(0,n.jsx)("use",{href:"svg/sprites.svg#it-close-big"})})]})}),(0,n.jsx)("div",{className:"menu-wrapper",children:(0,n.jsxs)("ul",{className:"navbar-nav",children:[(0,n.jsx)("li",{className:"nav-item active",children:(0,n.jsx)(s(),{className:"/"===e?"nav-link active":"nav-link",href:"/","aria-current":"page",children:(0,n.jsx)("span",{children:"Home"})})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(s(),{className:"/blog"===e?"nav-link active":"nav-link",href:"/blog",children:(0,n.jsx)("span",{children:"Blog"})})})]})})]})]})})})})})]})})}},358:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var n=i(5155),r=i(2115),s=i(3461);function a(e){let{children:t}=e,[i,a]=(0,r.useState)("ITA");return(0,n.jsx)(s.s.Provider,{value:{lang:i,setLang:a},children:t})}},110:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(2115),r=i(3461);let s={seguimiSu:{ITA:"Seguimi su",ENG:"Follow me on"},greetingsHeader:{ITA:"Ciao!",ENG:"Hello"},greetingsContet:{ITA:"Mi chiamo Andrea Orsini.<br />Sono uno sviluppatore web full stack e Android.<br /> Attualmente lavoro in un'azienda con sede in Provincia di Pisa",ENG:"My name is Andrea Orsini.<br />I am a full stack web and Android developer. I currently work in a company based in the Province of Pisa"},techHeading:{ITA:"Alcune tecnologie che utilizzo",ENG:"Some technologies i use"},blogHeading:{ITA:"Benvenuti nel mio blog di programmazione ed altro! Qui troverete articoli, guide e approfondimenti su vari argomenti tech, dalle ultime novit\xe0 nel mondo dello sviluppo web, alla descrizione di casi d'uso reali. Spero che i contenuti vi siano utili e interessanti. Buona lettura!",ENG:"Welcome to my blog about programming and more! Here you will find articles, guides and insights on various tech topics, from the latest news in the world of web development, to the description of real use cases. I hope the contents are useful and interesting to you. Happy reading!"},data:{ITA:"Data",ENG:"Date"},tempoDiLettura:{ITA:"Tempo di lettura",ENG:"Reading time"},condividi:{ITA:"Condividi",ENG:"Share"},vediAzioni:{ITA:"Vedi azioni",ENG:"See actions"},stampa:{ITA:"Stampa",ENG:"Print"},invia:{ITA:"Invia",ENG:"Send"},argomenti:{ITA:"Argomenti",ENG:"Subjects"},ultimoAggiornamento:{ITA:"Ultimo aggiornamento",ENG:"Latest update"}};function a(e){let t=(0,n.useContext)(r.s);return s[e][t.lang]}},6330:()=>{},9394:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[595,898,173,905,441,517,358],()=>t(896)),_N_E=e.O()}]);